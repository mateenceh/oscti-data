<!DOCTYPE html>
<html lang="en">

<head class="sans-serif">

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="baidu-site-verification" content="KeThzeyMOr" />
    <meta name="baidu-site-verification" content="code-NIlrS7gNhx" />

    <title>Internationalizing the Cloudflare Dashboard</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/tippy.js/3.4.1/themes/light.css" />

    <link rel="stylesheet" type="text/css" href="/assets/built/index.css?v=fdf4009e30" />

    <script type="text/javascript" src="/assets/built/index.js?v=fdf4009e30"></script>
    <script src="/assets/js/check-for-tex.js" defer></script>

    <meta name="description" content="Cloudflare’s dashboard now supports Spanish, Brazilian Portuguese, Korean, and Traditional Chinese. Learn how we made internationalizing and localizing our application a standard and repeatable process." />
    <link rel="shortcut icon" href="/favicon.png" type="image/png" />
    <link rel="canonical" href="https://blog.cloudflare.com/internationalizing-the-cloudflare-dashboard/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    
    <meta property="og:site_name" content="The Cloudflare Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Internationalizing the Cloudflare Dashboard" />
    <meta property="og:description" content="Cloudflare’s dashboard now supports four new languages (and multiple locales): Spanish (with country-specific locales: Chile, Ecuador, Mexico, Peru, and Spain), Brazilian Portuguese, Korean, and Traditional Chinese." />
    <meta property="og:url" content="https://blog.cloudflare.com/internationalizing-the-cloudflare-dashboard/" />
    <meta property="og:image" content="https://blog.cloudflare.com/content/images/2020/07/Dashboard-languages-JUL-23-2020-preview.png" />
    <meta property="article:published_time" content="2020-07-23T11:00:00.000Z" />
    <meta property="article:modified_time" content="2020-07-23T11:00:00.000Z" />
    <meta property="article:tag" content="Dashboard" />
    <meta property="article:tag" content="Localization" />
    <meta property="article:tag" content="Product News" />
    
    <meta property="article:publisher" content="https://www.facebook.com/cloudflare" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Internationalizing the Cloudflare Dashboard" />
    <meta name="twitter:description" content="Cloudflare’s dashboard now supports four new languages (and multiple locales): Spanish (with country-specific locales: Chile, Ecuador, Mexico, Peru, and Spain), Brazilian Portuguese, Korean, and Traditional Chinese." />
    <meta name="twitter:url" content="https://blog.cloudflare.com/internationalizing-the-cloudflare-dashboard/" />
    <meta name="twitter:image" content="https://blog.cloudflare.com/content/images/2020/07/Dashboard-languages-JUL-23-2020-preview.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="James Culveyhouse" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Dashboard, Localization, Product News" />
    <meta name="twitter:site" content="@cloudflare" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "The Cloudflare Blog",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog-cloudflare-com-assets.storage.googleapis.com/2019/06/logo-cloudflare-dark-1.svg",
            "width": 109,
            "height": 40.5
        }
    },
    "author": {
        "@type": "Person",
        "name": "James Culveyhouse",
        "image": {
            "@type": "ImageObject",
            "url": "https://blog-cloudflare-com-assets.storage.googleapis.com/2020/07/james.jpg",
            "width": 600,
            "height": 600
        },
        "url": "https://blog.cloudflare.com/author/james-culveyhouse/",
        "sameAs": []
    },
    "headline": "Internationalizing the Cloudflare Dashboard",
    "url": "https://blog.cloudflare.com/internationalizing-the-cloudflare-dashboard/",
    "datePublished": "2020-07-23T11:00:00.000Z",
    "dateModified": "2020-07-23T11:00:00.000Z",
    "image": "https://blog.cloudflare.com/content/images/2020/07/Dashboard-languages-JUL-23-2020-preview.png",
    "keywords": "Dashboard, Localization, Product News",
    "description": "Cloudflare’s dashboard now supports four new languages (and multiple locales): Spanish (with country-specific locales: Chile, Ecuador, Mexico, Peru, and Spain), Brazilian Portuguese, Korean, and Traditional Chinese. ",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.cloudflare.com/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.5" />
    <link rel="alternate" type="application/rss+xml" title="The Cloudflare Blog" href="https://blog.cloudflare.com/rss/" />
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','cfDataLayer','GTM-PKQFGQB');</script>
<!-- End Google Tag Manager -->

<!-- Google Optimize -->
<script src="https://www.googleoptimize.com/optimize.js?id=GTM-N4JSZJ8"></script>

<link rel="shortcut icon" href="https://blog.cloudflare.com/content/images/2019/12/favicon-8.png" type="image/png">

<meta name="msvalidate.01" content="CF295E1604697F9CAD18B5A232E871F6" />
<meta class="swiftype" name="language" data-type="string" content="en" />
<!--<script src="/assets/js/index.js"></script>-->
<script type="text/javascript" src="//cdn.bizible.com/scripts/bizible.js" async=""></script>
<script>
var trackRecruitingLink = function(role, url) {
   ga('send', 'event', 'recruiting', 'jobscore-click', role, {
     'transport': 'beacon',
     'hitCallback': function(){document.location = url;}
   });
}
</script> 
<script type="text/javascript">
	(function() {
		var didInit = false;
		function initMunchkin() {
			if(didInit === false) {
				didInit = true;
				Munchkin.init('713-XSC-918');
			}
		}
		var s = document.createElement('script');
		s.type = 'text/javascript';
		s.async = true;
		s.src = '//munchkin.marketo.net/munchkin.js';
		s.onreadystatechange = function() {
			if (this.readyState == 'complete' || this.readyState == 'loaded') {
				initMunchkin();
			}
		};
		s.onload = initMunchkin;
		document.getElementsByTagName('head')[0].appendChild(s);
		})();
</script>
<script>
var HTMLAttrToAdd = document.querySelector("html");
HTMLAttrToAdd.setAttribute("lang", "en");
</script>
<style>
    table {
        background-color: transparent;
    }
    td {
		padding: 5px 1em;
    }
    pre {
        max-height: 500px;
        overflow-y: scroll;
    }
</style>
<!-- Cloudflare Web Analytics -->
<script
        defer
        src='https://static.cloudflareinsights.com/beacon.min.js'
        data-cf-beacon='{"token": "f446eacb44504e50864bad7c47ffa9e8"}'></script>
<!-- End Cloudflare Web Analytics -->

</head>

<body id="main-body" class="post-template tag-dashboard-tag tag-localization tag-product-news sans-serif">

    <div class="site-wrapper">

        <header class="flex flex-row flex-wrap justify-between items-end mw8 center mv3 pl3 pr2">
    <div class="w-100 flex items-end justify-between justify-start-l">
        <div class="w-100 tr">
            <span class="dn di-l">
                <a href="https://www.cloudflare.com/plans/enterprise/contact/" class="f1 gray4 no-underline underline-hover">Contact Sales:
                </a>
                <a href="tel:+18889935273" class="f1 gray4 no-underline underline-hover">+1 (888) 274-3482</a>
            </span>
        </div>
    </div>
    <div class="w-100 w-50-l flex items-end justify-between justify-start-l">
        <a href="https://blog.cloudflare.com" class="header-logo mr4">
            <img src="https://blog-cloudflare-com-assets.storage.googleapis.com/2019/06/logo-cloudflare-dark-1.svg" alt="The Cloudflare Blog" class="header-logo" />
        </a>
        <h2 class="mt0 mb1">
            <a href="/" class="fw5 f5 gray3 no-underline">
                <span class="dn di-l">The Cloudflare Blog</span>
            </a>
        </h2>
    </div>
    <div class="w-100 w-50-l dn db-l">
        <div class="w-100 tr mkto-sub-message">
            <p class="f2">Thanks for being here, come back soon. Get notified of new posts:</p>
        </div>
        <div class="w-100 tr">
            <script src="//app-ab13.marketo.com/js/forms2/js/forms2.min.js"></script>
            <div class="marketo-form-container">
                <form id="mktoForm_1653"></form>
            </div>
            <script>
                MktoForms2.loadForm("//app-ab13.marketo.com", "713-XSC-918", 1653, function(form) {
                    document.querySelectorAll('#mktoForm_1653 .mktoEmailField')[0].placeholder = "Email Address";

                    form.onSuccess(function(vals, thanksURL){
                        // Hide form and show success msg
                        document.getElementById("mktoForm_1653").style.display = "none";
                        document.getElementsByClassName("mkto-sub-message")[0].style.display = "none";

                        document.getElementsByClassName("js-form-success-msg")[0].style.display = "block";
                        return false;
                    });
                });
            </script>
        </div>
        <div class="w-100 tr dn js-form-success-msg">
            <p class="f2">Subscription confirmed. Thank you for subscribing!</p>
        </div>
    </div>
</header>

<nav id="nav" class="w-100 bb b--black-10 z-1">
    <div id="desktop-nav-items-container" class="flex flex-row flex-wrap justify-between items-center mw8 center mv3 mv0-l">
        <div class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3" data-tag="product-news">
            <a href="/tag/product-news/" class="no-underline gray1 f2 fw5 pv3">Product News</a>
        </div>
        <div class="nav-item nav-item-desktop mh2 dn db-l pv3" data-tag="speed-and-reliability">
            <a href="/tag/speed-and-reliability/" class="no-underline gray1 f2 fw5 pv3">Speed &amp; Reliability</a>
        </div>
        <div class="nav-item nav-item-desktop mh2 dn db-l pv3" data-tag="security">
            <a href="/tag/security/" class="no-underline gray1 f2 fw5 pv3">Security</a>
        </div>
        <div class="nav-item nav-item-desktop mh2 dn db-l pv3" data-tag="serverless">
            <a href="/tag/serverless/" class="no-underline gray1 f2 fw5 pv3">Serverless</a>
        </div>
        <div class="nav-item nav-item-desktop mh2 dn db-l pv3" data-tag="cloudflare-network">
            <a href="/tag/cloudflare-network/" class="no-underline gray1 f2 fw5 pv3">Cloudflare Network</a>
        </div>
        <div class="nav-item nav-item-desktop mh2 dn db-l pv3" data-tag="developers">
            <a href="/tag/developers/" class="no-underline gray1 f2 fw5 pv3">Developers</a>
        </div>
        <div class="nav-item nav-item-desktop mh2 dn db-l pv3" data-tag="deep-dive">
            <a href="/tag/deep-dive/" class="no-underline gray1 f2 fw5 pv3">Deep Dive</a>
        </div>
        <div class="nav-item nav-item-desktop ml2 mr3 dn db-l pv3" data-tag="life-at-cloudflare">
            <a href="/tag/life-at-cloudflare/" class="no-underline gray1 f2 fw5 pv3">Life @Cloudflare</a>
        </div>
        <a href="/search/"><img src="/assets/images/magnifier.svg?v=fdf4009e30" class="js-search-box-trigger mw2 pointer ph3 ph2-l" />
        </a>
        <img src="/assets/images/hamburger.svg?v=fdf4009e30" class="w2 pointer js-mobile-nav-trigger ph3 db dn-l" />
    </div>

    <div class="js-mobile-nav-container dn">
        <div class="flex flex-column flex-wrap bg-gray9 o-95 absolute w-100 ph3 z-1">
            <div class="pv3 ph2">
                <a href="/tag/product-news/" class="no-underline gray1 f4 fw7">Product News</a>
            </div>
            <div class="pv3 ph2">
                <a href="/tag/speed-and-reliability/" class="no-underline gray1 f4 fw7">Speed &amp; Reliability</a>
            </div>
            <div class="pv3 ph2">
                <a href="/tag/security/" class="no-underline gray1 f4 fw7">Security</a>
            </div>
            <div class="pv3 ph2">
                <a href="/tag/serverless/" class="no-underline gray1 f4 fw7">Serverless</a>
            </div>
            <div class="pv3 ph2">
                <a href="/tag/cloudflare-network/" class="no-underline gray1 f4 fw7">Cloudflare Network</a>
            </div>
            <div class="pv3 ph2">
                <a href="/tag/developers/" class="no-underline gray1 f4 fw7">Developers</a>
            </div>
            <div class="pv3 ph2">
                <a href="/tag/deep-dive/" class="no-underline gray1 f4 fw7">Deep Dive</a>
            </div>
            <div class="pv3 ph2">
                <a href="/tag/life-at-cloudflare/" class="no-underline gray1 f4 fw7">Life @Cloudflare</a>
            </div>
        </div>
    </div>
</nav>
        


<main id="post" class="flex flex-row flex-wrap items-center justify-center pt2 pt4-l">
    <article
        class="post-full mw-100 ph3 ph0-l fs-20px post tag-dashboard-tag tag-localization tag-product-news ">
        <h1 class="f6 f7-l fw4 gray1 pt1 pt3-l mb1">Internationalizing the Cloudflare Dashboard</h1>


        <p class="f3 fw5 gray5 db di-l mt2" localize datetime="2020-07-23T12:00:00+01:00">Loading...</p>
        <noscript>
            <p class="f3 fw5 gray5 db di-l mt2">July 23, 2020 12:00PM</p>
        </noscript>

        <ul class="flex flex-wrap pl0 mt4">
            <li class="list flex items-center ml0 pl0 pb1">
                <a href="/author/james-culveyhouse/" class="static-avatar pr1">
                    <img class="author-profile-image h2 w2 br-100 mr2" src="https://blog-cloudflare-com-assets.storage.googleapis.com/2020/07/james.jpg" alt="James Culveyhouse" />
                </a>
                <div class="author-name-tooltip">
                    <a href="/author/james-culveyhouse" class="fw5 f3 no-underline black mr3">James Culveyhouse</a>
                </div>
            </li>
        </ul>

        <section class="post-full-content">
            <div class="post-content lh-copy gray1">
                <p><a href="https://dash.cloudflare.com/sign-up">Cloudflare’s dashboard</a> now supports four new languages (and multiple locales): Spanish (with country-specific locales: Chile, Ecuador, Mexico, Peru, and Spain), Brazilian Portuguese, Korean, and Traditional Chinese. Our customers are global and diverse, so in helping build a better Internet for everyone, it is imperative that we bring our products and services to customers in their native language.</p><p>Since last year Cloudflare has been hard at work internationalizing our dashboard. At the end of 2019, we launched our first language other than US English: German. At the end of March 2020, we released three additional languages: French, Japanese, and Simplified Chinese. If you want to start using the dashboard in any of these languages, you can change your language preference in the top right of the Cloudflare dashboard. The preference selected will be saved and used across all sessions.</p><figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2020/07/image1-13.png" class="kg-image"></figure><p>In this blog post, I want to help those unfamiliar with internationalization and localization to better understand how it works. I also would like to tell the story of how we made internationalizing and localizing our application a standard and repeatable process along with sharing a few tips that may help you as you do the same.</p><h3 id="beginning-the-journey">Beginning the journey</h3><p>The first step in internationalization is externalizing all the strings in your application. In concrete terms this means taking any text that could be read by a user and extracting it from your application code into separate, stand-alone files. This needs to be done for a few reasons:</p><ul><li>It enables translation teams to work on translating these strings without needing to view or change any application code.</li><li>Most translators typically use Translation Management applications which automate aspects of the workflow and provide them with useful utilities (like translation memory, change tracking, and a number of useful parsing and formatting tools). These applications expect standardized text formats (such as json, xml, md, or csv files).</li></ul><p>From an engineering perspective, separating application code from translations allows for making changes to strings without re-compiling and/or re-deploying code. In our React based application, externalizing most of our strings boiled down to changing blocks of code like this:</p><!--kg-card-begin: markdown--><pre><code class="language-javascript">&lt;Button&gt;Cancel&lt;/Button&gt;
&lt;Button&gt;Next&lt;/Button&gt;
</code></pre>
<!--kg-card-end: markdown--><p>Into this:</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">&lt;Button&gt;&lt;Trans id=&quot;signup.cancel&quot; /&gt;&lt;/Button&gt;
&lt;Button&gt;&lt;Trans id=&quot;signup.next&quot; /&gt;&lt;/Button&gt;
 
// And in a separate catalog.json file for en_US:
{
 &quot;signup.cancel&quot;: &quot;Cancel&quot;,
 &quot;signup.next&quot;: &quot;Next&quot;,
 // ...many more keys
}
</code></pre>
<!--kg-card-end: markdown--><p>The <code>&lt;Trans&gt;</code> component shown above is the fundamental i18n building block in our application. In this scheme, translated strings are kept in large dictionaries keyed by a translation id. We call these dictionaries “translation catalogs”, and there are a set of translation catalogs for each language that we support.</p><p>At runtime, the <code>&lt;Trans&gt;</code> component looks up the translation in the correct catalog for the provided key and then inserts this translation into the page (via the DOM). All of an application's static text can be externalized with simple transformations like these.</p><p>However, when dynamic data needs to be intermixed with static text, the solution becomes a little more complicated. Consider the following seemingly straightforward example which is riddled with i18n landmines:</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">&lt;span&gt;You've selected { totalSelected } Page Rules.&lt;/span&gt;
</code></pre>
<!--kg-card-end: markdown--><p>It may be tempting to externalize this sentence by chopping it up into a few parts, like so:</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">&lt;span&gt;
 &lt;Trans id=&quot;selected.prefix&quot; /&gt; {totalSelected } &lt;Trans id=&quot;pageRules&quot; /&gt;
&lt;/span&gt;
 
// English catalog.json
{
 &quot;selected.prefix&quot;: &quot;You've selected&quot;,
 &quot;pageRules&quot;: &quot;Page Rules&quot;,
 // ...
}
 
// Japanese catalog.json
{
 &quot;selected.prefix&quot;: &quot;選択しました&quot;,
 &quot;pageRules&quot;: &quot;ページ ルール&quot;,
 // ...
}
 
// German catalog.json
{
 &quot;selected.prefix&quot;: &quot;Sie haben ausgewählt&quot;,
 &quot;pageRules&quot;: &quot;Page Rules&quot;,
 // ...
}
 
// Portuguese (Brazil) catalog.json
{
 &quot;selected.prefix&quot;: &quot;Você selecionou&quot;,
 &quot;pageRules&quot;: &quot;Page Rules&quot;,
 // ...
}

</code></pre>
<!--kg-card-end: markdown--><p>This gets the job done and may even seem like an elegant solution. After all, both the <code>selected.prefix</code> and <code>pageRules.suffix</code> strings seem like they are destined to be reused. Unfortunately, chopping sentences up and then concatenating translated bits back together like this turns out to be the single largest pitfall when externalizing strings for internationalization.</p><p>The problem is that when translated, the various words that make up a sentence can be <a href="https://en.wikipedia.org/wiki/Inflection">morphed in different ways</a> based on context (singular vs plural contexts, due to word gender, subject/verb agreement, etc). This varies significantly from language to language, as does <a href="https://en.wikipedia.org/wiki/Word_order">word order</a>. For example in English, the sentence “We like them” follows a subject-verb-object order, while other languages might follow subject-object-verb (We them like), verb-subject-object (Like we them), or even other orderings. Because of these nuanced differences between languages, concatenating translated phrases into a sentence will almost always lead to localization errors.</p><p>The code example above contains actual translations we got back from our translation teams when we supplied them with “You’ve selected” and “Page Rules” as separate strings. Here’s how this sentence would look when rendered in the different languages:</p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Language</th>
<th>Translation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Japanese</td>
<td>選択しました { totalSelected } ページ ルール。</td>
</tr>
<tr>
<td>German</td>
<td>Sie haben ausgewählt { totalSelected } Page Rules</td>
</tr>
<tr>
<td>Portuguese (Brazil)</td>
<td>Você selecionou { totalSelected } Page Rules.</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>To compare, we also gave them the sentence as a single string using a placeholder for the variable, and here’s the result:</p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Language</th>
<th>Translation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Japanese</td>
<td>%{ totalSelected } 件のページ ルールを選択しました。</td>
</tr>
<tr>
<td>German</td>
<td>Sie haben %{ totalSelected } Page Rules ausgewählt.</td>
</tr>
<tr>
<td>Portuguese (Brazil)</td>
<td>Você selecionou %{ totalSelected } Page Rules.</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>As you can see, the translations differ for Japanese and German. We’ve got a localization bug on our hands.</p><p>So, In order to guarantee that translators will be able to convey the true meaning of your text with fidelity, it's important to keep each sentence intact as a single externalized string. Our <code>&lt;Trans&gt;</code> component allows for easy injection of values into template strings which allows us to do exactly that:</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">&lt;span&gt;
  &lt;Trans id=&quot;pageRules.selectedForDeletion&quot; values={{ count: totalSelected }} /&gt;
&lt;/span&gt;

// English catalog.json
{
  &quot;pageRules.selected&quot;: &quot;You've selected %{ count } Page Rules.&quot;,
  // ...
}

// Japanese catalog.json
{
  &quot;pageRules.selected&quot;: &quot;%{ count } 件のページ ルールを選択しました。&quot;,
  // ...
}

// German catalog.json
{
  &quot;pageRules.selected&quot;: &quot;Sie haben %{ count } Page Rules ausgewählt.&quot;,
  // ...
}

// Portuguese(Brazil) catalog.json
{
  &quot;pageRules.selected&quot;: &quot;Você selecionou %{ count } Page Rules.&quot;,
  // ...
}
</code></pre>
<!--kg-card-end: markdown--><p>This allows translators to have the full context of the sentence, ensuring that all words will be translated with the correct inflection.</p><p>You may have noticed another potential issue. What happens in this example when <code>totalSelected</code> is just 1? With the above code, the user would see “You've selected 1 Page Rules for deletion”. We need to conditionally pluralize the sentence based on the value of our dynamic data. This turns out to be a fairly common use case, and our <code>&lt;Trans&gt;</code> component handles this automatically via the <code>smart_count</code> feature:</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">&lt;span&gt;
  &lt;Trans id=&quot;pageRules.selectedForDeletion&quot; values={{ smart_count: totalSelected }} /&gt;
&lt;/span&gt;

// English catalog.json
{
  &quot;pageRules.selected&quot;: &quot;You've selected %{ smart_count } Page Rule. |||| You've selected %{ smart_count } Page Rules.&quot;,
}

// Japanese catalog.json
{
  &quot;pageRules.selected&quot;: &quot;%{ smart_count } 件のページ ルールを選択しました。 |||| %{ smart_count } 件のページ ルールを選択しました。&quot;,
}

// German catalog.json
{
  &quot;pageRules.selected&quot;: &quot;Sie haben %{ smart_count } Page Rule ausgewählt. |||| Sie haben %{ smart_count } Page Rules ausgewählt.&quot;,
}

// Portuguese (Brazil) catalog.json
{
  &quot;pageRules.selected&quot;: &quot;Você selecionou %{ smart_count } Page Rule. |||| Você selecionou %{ smart_count } Page Rules.&quot;,
}
</code></pre>
<!--kg-card-end: markdown--><p>Here, the singular and plural versions are delimited by <code>||||</code>. <code>&lt;Trans&gt;</code> will automatically select the right translation to use depending on the value of the passed in <code>totalSelected</code> variable.</p><p>Yet another stumbling block occurs when markup is mixed in with a block of text we'd like to externalize as a single string. For example, what if you need some phrase in your sentence to be a link to another page?</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">&lt;VerificationReminder&gt;
  Don't forget to &lt;Link&gt;verify your email address.&lt;/Link&gt;
&lt;/VerificationReminder&gt;
</code></pre>
<!--kg-card-end: markdown--><p>To solve for this use case, the <code>&lt;Trans&gt;</code> component allows for arbitrary elements to be injected into placeholders in a translation string, like so:</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">&lt;VerificationReminder&gt;
  &lt;Trans id=&quot;notification.email_verification&quot; Components={[Link]} componentProps={[{ to: '/profile' }]} /&gt;
&lt;/VerificationReminder&gt;

// catalog.json
{
  &quot;notification.email_verification&quot;: &quot;Don't forget to &lt;0&gt;verify your email address.&lt;/0&gt;&quot;,
  // ...
}
</code></pre>
<!--kg-card-end: markdown--><p>In this example, the <code>&lt;Trans&gt;</code> component will replace placeholder elements (&lt;0&gt;,&lt;1&gt;, etc.) with instances of the component type located at that index in the <code>Components</code> array. It also passes along any data specified in <code>componentProps</code> to that instance. The example above would boil down to the following in React:</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">// en-US
&lt;VerificationReminder&gt;
  Don't forget to &lt;Link to=&quot;/profile&quot;&gt;verify your email address.&lt;/Link&gt;
&lt;/VerificationReminder&gt;

// es-ES
&lt;VerificationReminder&gt;
  No olvide &lt;Link to=&quot;/profile&quot;&gt;verificar la dirección de correo electrónico.&lt;/Link&gt;
&lt;/VerificationReminder&gt;
</code></pre>
<!--kg-card-end: markdown--><h3 id="safety-third-">Safety third!</h3><p>The functionality outlined above was enough for us to externalize our strings. However, it did at times result in bulky, repetitive code that was easy to mess up. A couple of pitfalls quickly became apparent.</p><p>The first was that small hardcoded strings were now easier to hide in plain sight, and because they weren't glaringly obvious to a developer until the rest of the page had been translated, the feedback loop in finding these was often days or weeks. A common solution to surfacing these issues is introducing a pseudolocalization mode into your application during development which will transform all properly internationalized strings by replacing each character with a similar looking unicode character.</p><p>For example <code>You've selected 3 Page Rules.</code> might be transformed to <code>Ýôú'Ʋè ƨèℓèçƭèδ 3 Þáϱè Rúℓèƨ</code>.</p><p>Another handy feature at your disposal in a pseudolocalization mode is the ability to shrink or lengthen all strings by a fixed amount in order to plan for content width differences. Here's the same pseudolocalized sentence increased in length by 50%: <code>Ýôú'Ʋè ƨèℓèçƭèδ 3 Þáϱè Rúℓèƨ. ℓôřè₥ ïƥƨú₥ δô.</code> This is useful in helping both engineers as well as designers spot places where content length could potentially be an issue. We first recognized this problem when rolling out support for German, which at times tends to have somewhat longer words than English.</p><p>This meant that in a lot of places the text in page elements would overflow, such as in this "Add" button:</p><figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2020/07/image4-7.png" class="kg-image"></figure><p>There aren't a lot of easy fixes for these types of problems that don't compromise the user experience.</p><p>For best results, variable content width needs to be baked into the design itself. Since fixing these bugs often means sending it back upstream to request a new design, the process tends to be time consuming. If you haven't given much thought to content design in general, an internationalization effort can be a good time to start. Having standards and consistency around the copy used for various elements in your app can not only cut down on the number of words that need translating, but also eliminate the need to think through the content length pitfalls of using a novel phrase.</p><p>The other pitfall we ran into was that the translation ids — especially long and repetitive ones — are highly susceptible to typos.</p><p>Pop quiz, which of these translation keys will break our app: <code>traffic.load_balancing.analytics.filters.origin_health_title</code> or <code>traffic.load_balancing.analytics.filters.origin_heath_title</code>? </p><p>Nestled among hundreds of other lines of changes, these are hard to spot in code review. Most apps have a fallback so missing translations don't result in a page breaking error. As a result a bug like this might go unnoticed entirely if it's hidden well enough (in say, a help text flyout).</p><p>Fortunately, with a growing percentage of our codebase in TypeScript, we were able to leverage the type-checker to give developers feedback as they wrote the code. Here’s an example where our code editor is helpfully showing us a red underline to indicate that the id property is invalid (due to the missing “l”):</p><figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2020/07/image5-4.png" class="kg-image"></figure><p>Not only did it make the problems more obvious, but it also meant that violations would cause builds to fail, preventing bad code from entering the codebase.</p><h3 id="scaling-locale-files">Scaling locale files</h3><p>In the beginning, you'll probably start out with one translation file per locale that you support. In addition, the naming scheme you use for your keys can remain somewhat simple. As your app scales, your translation file will grow too large and need to be broken up into separate files. Files that are too large will overwhelm Translation Management applications, or if left unchecked, your code editor. All of our translation strings (not including keys), when lumped together into a single file, is around 50,000 words. For comparison, that's roughly the same size as a copy of "The Hitchhiker's Guide to the Galaxy" or "Slaughterhouse Five".</p><p>We break up our translations into a number of "catalog" files roughly corresponding to feature verticals (like Firewall or Cloudflare Workers). This works out well for our developers since it provides a predictable place to find strings, and keeps the line count of a translation catalog down to a manageable length. It also works out well for the outside translation teams since a single feature vertical is a good unit of work for a translator (or small team).</p><p>In addition to per-feature catalogs, we have a common catalog file to hold strings that are re-used throughout the application. It allows us to keep ids short ( <code>common.delete</code> vs <code>some_page.some_tab.some_feature.thing.delete</code> ) and lowers the likelihood of duplication since developers habitually check the common catalog before adding new strings.</p><h3 id="libraries">Libraries</h3><p>So far we've talked at length about our <code>&lt;Trans&gt;</code> component and what it can do. Now, let's talk about how it's built.</p><p>Perhaps unsurprisingly, we didn't want to reinvent the wheel and come up with a base i18n library from scratch. Due to prior efforts to internationalize the legacy parts of our application written in Backbone, we were already using Airbnb's <a href="https://airbnb.io/polyglot.js/">Polyglot library</a>, a "tiny I18n helper library written in JavaScript" which, among other things, "provides a simple solution for interpolation and pluralization, based off of Airbnb’s experience adding I18n functionality to its Backbone.js and Node apps".</p><p>We took a look at a few of the most popular libraries that had been purpose-built for internationalizing React applications, but ultimately decided to stick with Polyglot. We created our <code>&lt;Trans&gt;</code> component to bridge the gap to React. We chose this direction for a few reasons:</p><ul><li>We didn't want to re-internationalize the legacy code in our application in order to migrate to a new i18n support library.</li><li>We also didn't want the combined overhead of supporting 2 different i18n schemes for new vs legacy code.</li><li>Writing our own trans component gave us the flexibility to write the interface we wanted. Since Trans is used just about everywhere, we wanted to make sure it was as ergonomic as possible to developers.</li></ul><p>If you're just getting started with i18n in a new React based web-app, react-intl and i18n-next are 2 popular libraries that supply a component similar to <code>&lt;Trans&gt;</code> described above.</p><p>The biggest pain point of the <code>&lt;Trans&gt;</code> component as outlined is that strings have to be kept in a separate file from your source code. Switching between multiple files as you author new code or modify existing features is just plain annoying. It's even more annoying if the translation files are kept far away in the directory structure, as they often need to be.</p><p>There are some new i18n libraries such as <a href="https://github.com/lingui/js-lingui">jslingui</a> that obviate this problem by taking an extraction based approach to handling translation catalogs. In this scheme, you still use a <code>&lt;Trans&gt;</code>component, but you keep your strings in the component itself, not a separate catalog:</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">&lt;span&gt;
  &lt;Trans&gt;Hmm... We couldn't find any matching websites.&lt;/Trans&gt;
&lt;/span&gt;
</code></pre>
<!--kg-card-end: markdown--><p>A tool that you run at build time then does the work of finding all of these strings and extracting then into catalogs for you. For example, the above would result in the following generated catalogs:</p><!--kg-card-begin: markdown--><pre><code class="language-json">// locales/en_US.json
{
  &quot;Hmm... We couldn't find any matching websites.&quot;: &quot;Hmm... We couldn't find any matching websites.&quot;,
}

// locales/de_DE.json
{
  &quot;Hmm... We couldn't find any matching websites.&quot;: &quot;Hmm... Wir konnten keine übereinstimmenden Websites finden.&quot;
}
</code></pre>
<!--kg-card-end: markdown--><p>The obvious advantage to this approach is that we no longer have separate files! The other advantage is that there's no longer any need for type checking ids since typos can't happen anymore.</p><p>However, at least for our use case, there were a few downsides.</p><p>First, human translators sometimes appreciate the context of the translation keys. It helps with organization, and it gives some clues about the string's purpose.</p><p>And although we no longer have to worry about typos in translation ids, we're just as susceptible to slight copy mismatches (ex. "Verify your email" vs "Verify your e-mail"). This is almost worse, since in this case it would introduce a near duplication which would be hard to detect. We'd also have to pay for it.</p><p>Whichever tech stack you're working with, there are likely a few i18n libraries that can help you out. Which one to pick is highly dependent on technical constraints of your application and the context of your team's goals and culture.</p><h3 id="numbers-dates-and-times">Numbers, Dates, and Times</h3><p>Earlier when we talked about injecting data translated strings, we glossed over a major issue: the data we're injecting may also need to be formatted to conform to the user's local customs. This is true for dates, times, numbers, currencies and some other types of data.</p><p>Let's take our simple example from earlier:</p><!--kg-card-begin: markdown--><pre><code class="language-jsx">&lt;span&gt;You've selected { totalSelected } Page Rules.&lt;/span&gt;
</code></pre>
<!--kg-card-end: markdown--><p>Without proper formatting, this will appear correct for small numbers, but as soon as things get into the thousands, localization problems will arise, since the way that digits are grouped and separated with symbols <a href="https://en.wikipedia.org/wiki/Decimal_separator">varies by culture</a>. Here's how three-hundred thousand and three hundredths is formatted in a few different locales:</p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Language (Country)</th>
<th>Code</th>
<th>Formatted Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>German (Germany)</td>
<td>de-DE</td>
<td>300.000,03</td>
</tr>
<tr>
<td>English (US)</td>
<td>en-US</td>
<td>300,000.03</td>
</tr>
<tr>
<td>English (UK)</td>
<td>en-GB</td>
<td>300,000.03</td>
</tr>
<tr>
<td>Spanish (Spain)</td>
<td>es-ES</td>
<td>300.000,03</td>
</tr>
<tr>
<td>Spanish (Chile)</td>
<td>es-CL</td>
<td>300.000,03</td>
</tr>
<tr>
<td>French (France)</td>
<td>fr-FR</td>
<td>300 000,03</td>
</tr>
<tr>
<td>Hindi (India)</td>
<td>hi-IN</td>
<td>3,00,000.03</td>
</tr>
<tr>
<td>Indonesian (Indonesia)</td>
<td>in-ID</td>
<td>300.000,03</td>
</tr>
<tr>
<td>Japanese (Japan)</td>
<td>ja-JP</td>
<td>300,000.03</td>
</tr>
<tr>
<td>Korean (South Korea)</td>
<td>ko-KR</td>
<td>300,000.03</td>
</tr>
<tr>
<td>Portuguese (Brazil)</td>
<td>pt-BR</td>
<td>300.000,03</td>
</tr>
<tr>
<td>Portuguese (Portugal)</td>
<td>pt-PT</td>
<td>300 000,03</td>
</tr>
<tr>
<td>Russian (Russia)</td>
<td>ru-RU</td>
<td>300 000,03</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><!--kg-card-begin: html--><br><!--kg-card-end: html--><p>The way that dates are formatted <a href="https://en.wikipedia.org/wiki/Date_format_by_country">varies significantly from country to country</a>. If you've developed your UI mainly with a US audience in mind, you're probably displaying dates in a way that will feel foreign and perhaps un-intuitive to users from just about any other place in the world. Among other things, date formatting can vary in terms of separator choice, whether single digits are zero padded, and in the way that the day, month, and year portions are ordered. Here's how the March 4th of the current year is formatted in a few different locales:</p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Language (Country)</th>
<th>Code</th>
<th>Formatted Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>German (Germany)</td>
<td>de-DE</td>
<td>4.3.2020</td>
</tr>
<tr>
<td>English (US)</td>
<td>en-US</td>
<td>3/4/2020</td>
</tr>
<tr>
<td>English (UK)</td>
<td>en-GB</td>
<td>04/03/2020</td>
</tr>
<tr>
<td>Spanish (Spain)</td>
<td>es-ES</td>
<td>4/3/2020</td>
</tr>
<tr>
<td>Spanish (Chile)</td>
<td>es-CL</td>
<td>04-03-2020</td>
</tr>
<tr>
<td>French (France)</td>
<td>fr-FR</td>
<td>04/03/2020</td>
</tr>
<tr>
<td>Hindi (India)</td>
<td>hi-IN</td>
<td>4/3/2020</td>
</tr>
<tr>
<td>Indonesian (Indonesia)</td>
<td>in-ID</td>
<td>4/3/2020</td>
</tr>
<tr>
<td>Japanese (Japan)</td>
<td>ja-JP</td>
<td>2020/3/4</td>
</tr>
<tr>
<td>Korean (South Korea)</td>
<td>ko-KR</td>
<td>2020. 3. 4.</td>
</tr>
<tr>
<td>Portuguese (Brazil)</td>
<td>pt-BR</td>
<td>04/03/2020</td>
</tr>
<tr>
<td>Portuguese (Portugal)</td>
<td>pt-PT</td>
<td>04/03/2020</td>
</tr>
<tr>
<td>Russian (Russia)</td>
<td>ru-RU</td>
<td>04.03.2020</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><!--kg-card-begin: html--><br><!--kg-card-end: html--><p>Time format varies significantly as well. Here's how time is formatted in a few selected locales:</p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Language (Country)</th>
<th>Code</th>
<th>Formatted Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>German (Germany)</td>
<td>de-DE</td>
<td>14:02:37</td>
</tr>
<tr>
<td>English (US)</td>
<td>en-US</td>
<td>2:02:37 PM</td>
</tr>
<tr>
<td>English (UK)</td>
<td>en-GB</td>
<td>14:02:37</td>
</tr>
<tr>
<td>Spanish (Spain)</td>
<td>es-ES</td>
<td>14:02:37</td>
</tr>
<tr>
<td>Spanish (Chile)</td>
<td>es-CL</td>
<td>14:02:37</td>
</tr>
<tr>
<td>French (France)</td>
<td>fr-FR</td>
<td>14:02:37</td>
</tr>
<tr>
<td>Hindi (India)</td>
<td>hi-IN</td>
<td>2:02:37 pm</td>
</tr>
<tr>
<td>Indonesian (Indonesia)</td>
<td>in-ID</td>
<td>14.02.37</td>
</tr>
<tr>
<td>Japanese (Japan)</td>
<td>ja-JP</td>
<td>14:02:37</td>
</tr>
<tr>
<td>Korean (South Korea)</td>
<td>ko-KR</td>
<td>오후 2:02:37</td>
</tr>
<tr>
<td>Portuguese (Brazil)</td>
<td>pt-BR</td>
<td>14:02:37</td>
</tr>
<tr>
<td>Portuguese (Portugal)</td>
<td>pt-PT</td>
<td>14:02:37</td>
</tr>
<tr>
<td>Russian (Russia)</td>
<td>ru-RU</td>
<td>14:02:37</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><!--kg-card-begin: html--><br><!--kg-card-end: html--><h3 id="libraries-for-handling-numbers-dates-and-times">Libraries for Handling Numbers, Dates, and Times</h3><p>Ensuring the correct format for all these types of data for all supported locales is no easy task. Fortunately, there are a number of mature, battle-tested libraries that can help you out.</p><p>When we kicked off our project, we were using the <a href="https://momentjs.com/">Moment.js</a> library extensively for date and time formatting. This handy library abstracts away the details of formatting dates to different lengths ("Jul 9th 20", "July 9th 2020", vs "Thursday"), displaying relative dates ("2 days ago"), amongst many other things. Since almost all of our dates were already being formatted via Moment.js for readability, and since Moment.js already has i18n support for a large number of locales, it meant that we were able to flip a couple of switches and have properly localized dates with very little effort.</p><p>There are some strong criticisms of Moment.js (mainly bloat), but ultimately the benefits realized from switching to a lower footprint alternative when compared to the cost it would take to redo every date and time didn't add up.</p><p>Numbers were a very different story. We had, as you might imagine, thousands of raw, unformatted numbers being displayed throughout the dashboard. Hunting them down was a laborious and often manual process.</p><p>To handle the actual formatting of numbers, we used the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl">Intl API </a>(the Internationalization library defined by the ECMAScript standard):</p><!--kg-card-begin: markdown--><pre><code class="language-javascript">var number = 300000.03;
var formatted = number.toLocaleString('hi-IN'); // 3,00,000.03
// This probably works in the browser you're using right now!
</code></pre>
<!--kg-card-end: markdown--><p>Fortunately, browser support for Intl has come quite a long way in recent years, with all modern browsers having full support.</p><p>Some modern JavaScript engines like V8 have even moved away from self-hosted JavaScript implementations of these libraries in favor of C++ based builtins, <a href="https://v8.dev/blog/intl">resulting in significant speedup</a>.</p><p>Support for older browsers can be somewhat lacking however. Here's a <a href="https://intl-formatting.jculvey.workers.dev/">simple demo site</a> ( <a href="https://github.com/jculvey/intl-formatting-worker">source code</a>) that’s built with <a href="https://workers.cloudflare.com/">Cloudflare Workers</a><a href="https://intl-formatting.jculvey.workers.dev/"> </a>that shows how dates, times, and numbers are rendered in a hand-full of locales.</p><p>Some combinations of old browsers and OS's will yield less than ideal results. For example, here's how the same dates and times from above are rendered on Windows 8 with IE 10:</p><!--kg-card-begin: html--><table>
<tbody>
<tr>
<td><img style="border-width: 0px; margin: 5px;" src="https://blog.cloudflare.com/content/images/2020/07/image3-10.png" alt="" width="307" height="370" /></td>
<td><img style="border-width: 0px; margin: 5px;" src="https://blog.cloudflare.com/content/images/2020/07/image2-7.png" alt="" width="283" height="343" /></td>
</tr>
</tbody>
</table><!--kg-card-end: html--><p>If you need to support older browsers, this can be solved with a polyfill.</p><h3 id="translating">Translating</h3><p>With all strings externalized, and all injected data being carefully formatted to locale specific standards, the bulk of the engineering work is complete. At this point, we can now claim that we’ve <strong>internationalized</strong> our application, since we’ve adapted it in a way that makes it easy to localize.</p><p>Next comes the process of <strong>localization</strong> where we actually create varying content based on the user’s language and cultural norms.</p><p>This is no small feat. Like we mentioned before, the strings in our application added together are the size of a small novel. It takes a significant amount of coordination and human expertise to create a translated copy that both captures the information with fidelity and speaks to the user in a familiar way.</p><p>There are many ways to handle the translation work: leveraging multi-lingual staff members, contracting the work out to individual translators, agencies, or even going all in and hiring teams of in-house translators. Whatever the case may be, there needs to be a smooth process for both workflow signalling and moving assets between the translation and development teams.</p><p>A healthy i18n program will provide developers with black-box interface with the process — they put new strings in a translation catalog file and commit the change, and without any more effort on their part, the feature code they wrote is available in production for all supported locales a few days later. Similarly, in a well run process translators will remain blissfully unaware of the particulars of the development process and application architecture. They receive files that easily load in their tools and clearly indicate what translation work needs to be done.</p><p>So, how does it actually work in practice?</p><p>We have a set of automated scripts that can be run on-demand by the localization team to package up a snapshot of our localization catalogs for all supported languages. During this process, a few things happen:</p><ul><li>JSON files are generated from catalog files authored in TypeScript</li><li>If any new catalog files were added in English, placeholder copies are created for all other supported languages.</li><li>Placeholder strings are added for all languages when new strings are added to our base catalog</li></ul><p>From there, the translation catalogs are uploaded to the Translation Management system via the UI or automated calls to the API. Before handing it off to translators, the files are pre-processed by comparing each new string against a Translation Memory (a cache of previously translated strings and substrings). If a match is found, the existing translation is used. Not only does this save cost by not re-translating strings, but it improves quality by ensuring that previously reviewed and approved translations are used when possible.</p><p>Suppose your locale files end up looking something like this:</p><!--kg-card-begin: markdown--><pre><code class="language-javascript">{
 &quot;verify.button&quot;: &quot;Verify Email&quot;,
 &quot;other.verify.button&quot;: &quot;Verify Email&quot;,
 &quot;verify.proceed.link&quot;: &quot;Verify Email to proceed&quot;,
 // ...
}
</code></pre>
<!--kg-card-end: markdown--><p>Here, we have strings that are duplicated verbatim, as well as sub-strings that are copied. Translation services are billed by the word — you don’t want to pay for something twice and run the risk of a consistency issue arising. To this end, having a well-maintained Translation Memory will ensure that these strings are taken care of in the pre-translation steps before translators even see the file.</p><p>Once the translation job is marked as ready, it can take translation teams anywhere from hours to weeks to complete return translated copies depending on a number of factors such as the size of the job, the availability of translators, and the contract terms. The concerns of this phase could constitute another blog article of similar length: sourcing the right translation team, controlling costs, ensuring quality and consistency, making sure the company’s brand is properly conveyed, etc. Since the focus of this article is largely technical, we’ll gloss over the details here, but make no mistake -- getting this part wrong will tank your entire effort, even if you’ve achieved your technical objectives.</p><p>After translation teams signal that new files are ready for pickup, the assets are pulled from the server and unpacked into their correct locations in the application code. We then run a suite of automated checks to make sure that all files are valid and free of any formatting issues.</p><p>An optional (but highly recommended) step takes place at this stage — in-context review. A team of translation reviewers then look at the translated output in context to make sure everything looks perfect in its finalized state. Having support staff that are both highly proficient with the product and fluent in the target language are especially useful in this effort. Shoutout to all our team members from around the company that have taken the time and effort to do this. To make this possible for outside contractors, we prepare special preview versions of our app that allow them to test with development mode locales enabled.</p><p>And there you have it, everything it takes to deliver a localized version of your application to your users all around the world.</p><h3 id="continual-localization">Continual Localization</h3><p>It would be great to stop here, but what we’ve discussed up until this point is the effort required to do it once. As we all know, code changes. New strings will be gradually added, modified, and deleted over the course of ti	me as new features are launched and tweaked.</p><p>Since translation is a highly human process that often involves effort from people in different corners of the world, there is a lower bound to the timeframe in which turnover is possible. Since our release cadence (daily) is often faster than this turnover rate (2-5 days), it means that developers making changes to features have to make a choice: slow down to match this cadence, or ship slightly ahead of the localization schedule without full coverage.</p><p>In order to ensure that features shipping ahead of translations don’t cause application-breaking errors, we fallback to our base locale (en_US) if a string doesn’t exist for the configured language.</p><p>Some applications have a slightly different fallback behavior: displaying raw translation keys (perhaps you've seen <em>some.funny.dot.delimited.string</em> in an app you're using). There's a tradeoff between velocity and correctness here, and we chose to optimize for velocity and minimal overhead. In some apps correctness is important enough to slow down cadence for i18n. In our case it wasn't.</p><h3 id="finishing-touches">Finishing Touches</h3><p>There are a few more things we can do to optimize the user experience in our newly localized application. </p><p>First, we want to make sure there isn’t any performance degradation. If our application made the user fetch all of its translated strings before rendering the page, this would surely happen. So, in order to keep everything running smoothly, the translation catalogs are fetched asynchronously and only as the application needs them to render some content on the page. This is easy to accomplish nowadays with the code splitting features available in module bundlers that support dynamic import statements such as <a href="https://parceljs.org/code_splitting.html">Parcel</a> or <a href="https://webpack.js.org/guides/code-splitting/">Webpack</a>.</p><p>We also want to eliminate any friction the user might experience with needing to constantly select their desired language when visiting different Cloudflare properties. To this end, we made sure that any language preference a user selects on our <a href="https://www.cloudflare.com/fr-fr/">marketing site</a> or our <a href="https://support.cloudflare.com/hc/fr-fr">support site</a> persists as they navigate to and from our <a href="https://dash.cloudflare.com/login?lang=fr-fr">dashboard</a> (all links are in French to belabor the point).</p><h3 id="what-s-next">What’s next?</h3><p>It’s been an exciting journey, and we’ve learned a lot from the process. It’s difficult (perhaps impossible) to call an i18n project truly complete.  Expanding into new languages will surface slippery bugs and expose new challenges. Budget pressure will challenge you to find ways of cutting costs and increasing efficiency. In addition, you will discover ways in which you can enhance the localized experience even more for users.</p><p>There’s a long list of things we’d like to improve upon, but here are some of the highlights:</p><ul><li>Collation. String comparison is language sensitive, and as such, the code you’ve written to lexicographically sort lists and tables of data in your app is probably doing the wrong thing for some of your users. This is especially apparent in languages that use logographic writing systems (such as Chinese or Japanese) as opposed to languages that use alphabets (like English or Spanish).</li><li>Support for <a href="https://en.wikipedia.org/wiki/Right-to-left">right-to-left languages</a> like Arabic and Hebrew.</li><li>Localizing API responses is harder than localizing static copy in your user interface, as it takes a coordinated effort between teams. In the age of microservices, finding a solution that works well across the myriad of tech stacks that power each service can be very challenging.</li><li>Localizing maps. We’ll be working on making sure all content in our map-based visualizations is translated.</li><li>Machine translation has come a long way in recent years, but not far enough to churn our translations unsupervised. We would however like to experiment more with using machine translation as a first pass that translation reviewers then edit for correctness and tone.</li></ul><p>I hope you have enjoyed this overview of how Cloudflare internationalized and localized our dashboard.  Check out <a href="https://www.cloudflare.com/careers/jobs/">our careers page</a> for more information on full-time positions and internship roles across the globe.</p>
            </div>
        </section>

        <a href="/tag/dashboard-tag/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2">Dashboard</a>
        <a href="/tag/localization/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2">Localization</a>
        <a href="/tag/product-news/" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2">Product News</a>
    </article>
</main>

<div class="pv4 flex flex-row flex-wrap mw7 center">
    <div class="w-100 ph3 bt b--gray8">
        <p class="orange fw5 f4 mt4 ttu">Related Posts</p>
    </div>

    <article class="w-100 w-100-m w-50-l ph3 mb4">
        <p class="f3 fw5 gray5" data-iso-date="2020-05-18T12:02:30+01:00">May 18, 2020 12:02PM</p>
        <a href="/deeplinks-and-scrollanchor/" class="no-underline gray1 f4 fw5">
            <h2 class="gray1 f4 fw5 mt2">DeepLinks and ScrollAnchor</h2>
        </a>

        <p class="gray1 lh-copy">One of the interesting challenges with deep linking in the Cloudflare Dashboard is that most interesting resources are “locked” behind the context of an account and a zone/domain/website. To illustrate this, look at a tree of possible URL paths into Cloudflare’s Dashboard....</p>
        <ul class="flex pl0 fw6 f2">
            <span>By&nbsp;</span>
            <li class="list flex items-center">
                <div class="author-name-tooltip">
                    
                    <a href="/author/drew/" class="fw5 f2 black no-underline">Drew Dowling</a>
                </div>
            </li>
            <li class="list flex items-center">
                <div class="author-name-tooltip">
                    <span class="fw5 f2 black no-underline">,&nbsp;</span>
                    <a href="/author/robert/" class="fw5 f2 black no-underline">Robert Cepa</a>
                </div>
            </li>
        </ul>
        <div class="flex flex-row flex-wrap">
            
            <a href="/tag/dashboard-tag/" class="no-underline f1 fw2 blue3 underline-hover">Dashboard</a>
            <span class="f1 fw2 blue3 no-underline underline-hover">,&nbsp;</span>
            <a href="/tag/deeplinks/" class="no-underline f1 fw2 blue3 underline-hover">DeepLinks</a>
            <span class="f1 fw2 blue3 no-underline underline-hover">,&nbsp;</span>
            <a href="/tag/scrollanchor/" class="no-underline f1 fw2 blue3 underline-hover">ScrollAnchor</a>
        </div>
    </article>
    <article class="w-100 w-100-m w-50-l ph3 mb4">
        <p class="f3 fw5 gray5" data-iso-date="2018-12-11T02:10:11Z">December 11, 2018 2:10AM</p>
        <a href="/a-new-look-on-your-cloudflare-dashboard/" class="no-underline gray1 f4 fw5">
            <h2 class="gray1 f4 fw5 mt2">A new look on your Cloudflare dashboard</h2>
        </a>

        <p class="gray1 lh-copy">Building a great customer experience is a top priority here at Cloudflare. Over the last week, we have been  slowly rolling out an improvement to our customer dashboard - specifically the zone overview page. We are now ready to share the new dashboard with everyone....</p>
        <ul class="flex pl0 fw6 f2">
            <span>By&nbsp;</span>
            <li class="list flex items-center">
                <div class="author-name-tooltip">
                    
                    <a href="/author/kalpana/" class="fw5 f2 black no-underline">Kalpana Ravinarayanan</a>
                </div>
            </li>
        </ul>
        <div class="flex flex-row flex-wrap">
            
            <a href="/tag/dashboard-tag/" class="no-underline f1 fw2 blue3 underline-hover">Dashboard</a>
            <span class="f1 fw2 blue3 no-underline underline-hover">,&nbsp;</span>
            <a href="/tag/product-news/" class="no-underline f1 fw2 blue3 underline-hover">Product News</a>
            <span class="f1 fw2 blue3 no-underline underline-hover">,&nbsp;</span>
            <a href="/tag/analytics/" class="no-underline f1 fw2 blue3 underline-hover">Analytics</a>
        </div>
    </article>
    <article class="w-100 w-100-m w-50-l ph3 mb4">
        <p class="f3 fw5 gray5" data-iso-date="2015-04-28T21:02:41+01:00">April 28, 2015 9:02PM</p>
        <a href="/cloudflares-new-control-panel/" class="no-underline gray1 f4 fw5">
            <h2 class="gray1 f4 fw5 mt2">CloudFlare&#x27;s New Dashboard</h2>
        </a>

        <p class="gray1 lh-copy">When we started CloudFlare, we thought we were building a service to make websites faster and more secure, and we wanted to make the service as easy and accessible as possible....</p>
        <ul class="flex pl0 fw6 f2">
            <span>By&nbsp;</span>
            <li class="list flex items-center">
                <div class="author-name-tooltip">
                    
                    <a href="/author/matthew-prince/" class="fw5 f2 black no-underline">Matthew Prince</a>
                </div>
            </li>
        </ul>
        <div class="flex flex-row flex-wrap">
            
            <a href="/tag/dashboard-tag/" class="no-underline f1 fw2 blue3 underline-hover">Dashboard</a>
            <span class="f1 fw2 blue3 no-underline underline-hover">,&nbsp;</span>
            <a href="/tag/product-news/" class="no-underline f1 fw2 blue3 underline-hover">Product News</a>
        </div>
    </article>
    <article class="w-100 w-100-m w-50-l ph3 mb4">
        <p class="f3 fw5 gray5" data-iso-date="2012-04-10T23:33:00+01:00">April 10, 2012 11:33PM</p>
        <a href="/managing-dns-records/" class="no-underline gray1 f4 fw5">
            <h2 class="gray1 f4 fw5 mt2">CloudFlare&#x27;s New UI: Managing DNS records</h2>
        </a>

        <p class="gray1 lh-copy">We have released a number of changes to the site to make things easier to find and locate. Since making changes to existing DNS records and adding new ones are vitally important to site owners, we thought it would be helpful to craft a blog post showing the changes to the DNS editor....</p>
        <ul class="flex pl0 fw6 f2">
            <span>By&nbsp;</span>
            <li class="list flex items-center">
                <div class="author-name-tooltip">
                    
                    <a href="/author/damon-billian/" class="fw5 f2 black no-underline">Damon Billian</a>
                </div>
            </li>
        </ul>
        <div class="flex flex-row flex-wrap">
            
            <a href="/tag/dashboard-tag/" class="no-underline f1 fw2 blue3 underline-hover">Dashboard</a>
            <span class="f1 fw2 blue3 no-underline underline-hover">,&nbsp;</span>
            <a href="/tag/product-news/" class="no-underline f1 fw2 blue3 underline-hover">Product News</a>
        </div>
    </article>

</div>
<div class="pv4 ph3 mw7 center">
    <div id="disqus_thread"></div>
</div>



        <footer class="pt4 pb4 pl1 pr1 main-footer">
  <div class="mw8 center dn db-l ph3">
    <div class="flex flex-row justify-between">
      <div class="main-footer__menu-group">
        <ul id="sales-menu" class="list pl0">
          <li class="pt1 pb1 f1" data-submenu="sales-menu"
            class="main-footer__menu-group__header js-toggle-footer-group f1">
            Sales
            <i class="icon-caret-down"></i>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/plans/enterprise/contact/" data-tracking-category="footer"
              data-tracking-action="click" data-tracking-label="enterprise_sales"
              class="f1 blue3 no-underline underline-hover">
              Enterprise Sales
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/partners/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="become_a_partner" class="f1 blue3 no-underline underline-hover">
              Become a Partner
            </a>
          </li>
        </ul>
        <p class="phone f1 blue3 no-underline underline-hover">
          <p class="tel f1 blue3 no-underline underline-hover">Contact Sales:</p>
          <p><a data-i18n-phonenumber="" class="tel f1 blue3 no-underline underline-hover" href="tel:+18889935273">+1
              (888) 99 FLARE</a></p>

          <noscript><a class="phone f1 blue3 no-underline underline-hover" href="tel:+16503198930">+1 650 319
              8930</a></noscript>
        </p>
      </div>
      <div class="main-footer__menu-group">
        <ul id="getting-started-menu" class="list pl0">
          <li class="pt1 pb1 f1" data-submenu="getting-started-menu"
            class="main-footer__menu-group__header js-toggle-footer-group">
            Getting Started
            <i class="icon-caret-down"></i>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/plans/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="plans" class="f1 blue3 no-underline underline-hover">
              Pricing
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/case-studies/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="case_studies" class="f1 blue3 no-underline underline-hover">
              Case Studies
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/resources/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="white_papers" class="f1 blue3 no-underline underline-hover">
              White Papers
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/webinars/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="webinars" class="f1 blue3 no-underline underline-hover">
              Webinars
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/learning/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="learning_center" class="f1 blue3 no-underline underline-hover">
              Learning Center
            </a>
          </li>
        </ul>
      </div>
      <div class="main-footer__menu-group">
        <ul id="community-menu" class="list pl0">
          <li class="pt1 pb1 f1" data-submenu="community-menu"
            class="main-footer__menu-group__header js-toggle-footer-group">
            Community
            <i class="icon-caret-down"></i>
          </li>
          <li class="pt1 pb1">
            <a href="https://community.cloudflare.com" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="community_hub" class="f1 blue3 no-underline underline-hover">
              Community Hub
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://blog.cloudflare.com" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="blog" class="f1 blue3 no-underline underline-hover">
              Blog
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/galileo/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="galileo" class="f1 blue3 no-underline underline-hover">
              Project Galileo
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/athenian/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="athenian" class="f1 blue3 no-underline underline-hover">
              Athenian Project
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.tv/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="tv" class="f1 blue3 no-underline underline-hover">
              Cloudflare TV
            </a>
          </li>
        </ul>
      </div>
      <div class="main-footer__menu-group">
        <ul id="developers-menu" class="list pl0">
          <li class="pt1 pb1 f1" data-submenu="developers-menu"
            class="main-footer__menu-group__header js-toggle-footer-group">
            Developers
            <i class="icon-caret-down"></i>
          </li>
          <li class="pt1 pb1">
            <a href="https://developers.cloudflare.com" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="developer_hub" class="f1 blue3 no-underline underline-hover">
              Developer Hub
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/technical-resources/" data-tracking-category="footer"
              data-tracking-action="click" data-tracking-label="technical_resources"
              class="f1 blue3 no-underline underline-hover">
              Technical Resources
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/products/cloudflare-workers/" data-tracking-category="footer"
              data-tracking-action="click" data-tracking-label="cloudflare_workers"
              class="f1 blue3 no-underline underline-hover">
              Cloudflare Workers
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/integrations/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="integrations" class="f1 blue3 no-underline underline-hover">
              Integrations
            </a>
          </li>
        </ul>
      </div>
      <div class="main-footer__menu-group">
        <ul id="support-menu" class="list pl0">
          <li class="pt1 pb1 f1" data-submenu="support-menu"
            class="main-footer__menu-group__header js-toggle-footer-group">
            Support
            <i class="icon-caret-down"></i>
          </li>
          <li class="pt1 pb1">
            <a href="https://support.cloudflare.com" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="support" class="f1 blue3 no-underline underline-hover">
              Support
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://www.cloudflarestatus.com" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="status" class="f1 blue3 no-underline underline-hover">
              Cloudflare Status
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/compliance/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="compliance" class="f1 blue3 no-underline underline-hover">
              Compliance
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/gdpr/introduction/" data-tracking-category="footer"
              data-tracking-action="click" data-tracking-label="gdpr" class="f1 blue3 no-underline underline-hover">
              GDPR
            </a>
          </li>
        </ul>
      </div>
      <div class="main-footer__menu-group">
        <ul id="company-menu" class="list pl0">
          <li class="pt1 pb1 f1" data-submenu="company-menu"
            class="main-footer__menu-group__header js-toggle-footer-group">
            Company
            <i class="icon-caret-down"></i>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/about-overview/" data-tracking-category="footer"
              data-tracking-action="click" data-tracking-label="overview" class="f1 blue3 no-underline underline-hover">
              About Cloudflare
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/people/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="our_team" class="f1 blue3 no-underline underline-hover">
              Our Team
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/press/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="press" class="f1 blue3 no-underline underline-hover">
              Press
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/analysts/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="analysts" class="f1 blue3 no-underline underline-hover">
              Analysts
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/careers/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="careers" class="f1 blue3 no-underline underline-hover">
              Careers
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/internetsummit/" data-tracking-category="footer"
              data-tracking-action="click" data-tracking-label="internet_summit"
              class="f1 blue3 no-underline underline-hover">
              Internet Summit
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/logo/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="logo" class="f1 blue3 no-underline underline-hover">
              Logo
            </a>
          </li>
          <li class="pt1 pb1">
            <a href="https://cloudflare.com/network/" data-tracking-category="footer" data-tracking-action="click"
              data-tracking-label="network_map" class="f1 blue3 no-underline underline-hover">
              Network Map
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="mw8 center ph3">
    <div class="flex flex-row flex-wrap justify-between pt4">
      <div class="flex flex-row items-start w-100 w-50-l pb4 pb0-l">
        <a target="_blank" rel="noopener" href="https://www.facebook.com/Cloudflare/" class="w-10"><img
            src="https://cloudflare.com/img/footer/facebook.svg" class="w-60"></a>
        <a target=" _blank" rel="noopener" href="https://twitter.com/Cloudflare" class="w-10"><img
            src="https://cloudflare.com/img/footer/twitter.svg" class="w-60"></a>
        <a target="_blank" rel="noopener" href="https://www.linkedin.com/company/cloudflare-inc-" class="w-10"><img
            src="https://cloudflare.com/img/footer/linkedin.svg" class="w-60"></a>
        <a target="_blank" rel="noopener" href="https://www.youtube.com/cloudflare" class="w-10"><img
            src="https://cloudflare.com/img/footer/youtube.svg" class="w-60"></a>
        <a target="_blank" rel="noopener" href="https://www.instagram.com/cloudflare" class="w-10"><img
            src="https://cloudflare.com/img/footer/instagram.svg" class="w-60"></a>
      </div>
      <div class="w-100 w-50-l tr-l tl-ns">
        <div>
          <span class="main-footer__copyright f1">© 2020 Cloudflare, Inc.</span>
          <span class="main-footer__copyright f1">|</span>
          <a href="https://cloudflare.com/privacypolicy/"
            class="main-footer__copyright f1 no-underline underline-hover">Privacy
            Policy</a>
          <span class="main-footer__copyright f1">|</span>
          <a href="https://cloudflare.com/website-terms/"
            class="main-footer__copyright f1 no-underline underline-hover">Terms of Use</a>
          <span class="main-footer__copyright f1">|</span>
          <a href="https://cloudflare.com/abuse/"
            class="main-footer__copyright f1 no-underline underline-hover">Trust &amp; Safety</a>
          <span class="main-footer__copyright f1">|</span>
          <a href="https://cloudflare.com/trademark/"
            class="main-footer__copyright f1 no-underline underline-hover">Trademark</a>
        </div>
      </div>
    </div>
  </div>
</footer>    </div>


    <script type="text/javascript" src="/assets/built/prism.js?v=fdf4009e30"></script>
<script type="text/javascript">
    var disqus_shortname = 'cloudflare';
    (function () {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
        Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
<script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https'; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = p + '://platform.twitter.com/widgets.js'; fjs.parentNode.insertBefore(js, fjs); } }(document, 'script', 'twitter-wjs');
</script>
<script>(function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=596756540369391";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>
<script src="//platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
<script type="text/javascript">
        (function () {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/platform.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
</script>

<script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https'; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = p + '://platform.twitter.com/widgets.js'; fjs.parentNode.insertBefore(js, fjs); } }(document, 'script', 'twitter-wjs');
</script>
<script>(function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=596756540369391";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>
<script src="//platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
<script type="text/javascript">
        (function () {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/platform.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
</script>


    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PKQFGQB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<script>
    var links = document.links;

    for (var i = 0, linksLength = links.length; i < linksLength; i++) {  
       if (links[i].hostname != window.location.hostname) {
           links[i].target = '_blank';
       } 
    } 
</script>

</body>

</html>