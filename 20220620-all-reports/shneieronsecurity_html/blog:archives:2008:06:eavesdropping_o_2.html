<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>Eavesdropping on Encrypted Compressed Voice - Schneier on Security</title>
	<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel='dns-prefetch' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Feed" href="https://www.schneier.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Comments Feed" href="https://www.schneier.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Eavesdropping on Encrypted Compressed Voice Comments Feed" href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://c0.wp.com/c/5.7/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='schneier-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/style.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='schneier-main-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/dist/css/style.css?ver=1.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://c0.wp.com/p/jetpack/9.5.2/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js?ver=3.5.1' id='jquery-js'></script>
<link rel="https://api.w.org/" href="https://www.schneier.com/wp-json/" /><link rel="alternate" type="application/json" href="https://www.schneier.com/wp-json/wp/v2/posts/2315" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.schneier.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.schneier.com/wp-includes/wlwmanifest.xml" /> 

<link rel="canonical" href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html" />
<link rel='shortlink' href='https://www.schneier.com/?p=2315' />
<link rel="alternate" type="application/json+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2008%2F06%2Feavesdropping_o_2.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2008%2F06%2Feavesdropping_o_2.html&#038;format=xml" />
	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-32x32.png" sizes="32x32" />
<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-180x180.png" />
<meta name="msapplication-TileImage" content="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-270x270.png" />
		<style type="text/css" id="wp-custom-css">
			#schneier_promotion-2 img {
    max-width: 180px;
}		</style>
		</head>

<body class="post-template-default single single-post postid-2315 single-format-standard theme-schneier woocommerce-no-js">

	<div id="wrapper">
		<div id="main">

			<header>
				<div id="header">
					<h1>
						<a href="https://www.schneier.com/" rel="home">
							Schneier on Security						</a>
					</h1>
				</div>
			</header>

			<nav>
				<div class="nav" id="header-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-50175" class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li id="menu-item-50916" class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li id="menu-item-50166" class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li id="menu-item-50169" class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li id="menu-item-50170" class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li id="menu-item-50171" class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li id="menu-item-50167" class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li id="menu-item-50174" class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>

			
<aside>
	<div class="sidebar" id="sidebar-one">
		<section><div class="sidesection widget widget_schneier_search" id="schneier_search-3"><h3>Search</h3>
<p class="small">
	<em>Powered by <a href="https://duckduckgo.com/">DuckDuckGo</a></em></p>

<form method="get" action="https://duckduckgo.com/">

	<input type="hidden" name="kh" value="1" /><!-- use https -->

	<input id="search" name="q" size="15" maxlength="255" />

	<input type="submit" value="Go" /><br>

	<input type="radio" name="sites" id="searchblog" value="www.schneier.com/blog" />
	<label for="searchblog">Blog</label>

	<input type="radio" name="sites" id="searchessays" value="www.schneier.com/essays" />
	<label for="searchessays">Essays</label>

	<input type="radio" name="sites" id="searchall" value="www.schneier.com" checked="" />
	<label for="searchall">Whole site</label>

</form>
</div></section><section><div class="sidesection widget widget_schneier_social" id="schneier_social-2"><h3>Subscribe</h3>
<div id="subscription-buttons">

	<a href="https://www.schneier.com/feed/atom"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/rss-32px.png" alt="Atom Feed" /></a><a href="https://www.facebook.com/bruce.schneier"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/facebook-32px.png" alt="Facebook" /></a><a href="https://twitter.com/schneierblog/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/twitter-32px.png" alt="Twitter" /></a><a href="https://www.amazon.com/Schneier-on-Security/dp/B0053HDDWW/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/kindle-32px.png" alt="Kindle" /></a><a href="https://www.schneier.com/crypto-gram"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/email-32px.png" alt="E-Mail Newsletter (Crypto-Gram)" /></a>
</div>
</div></section>	</div>
</aside>

			<div id="content">

				
		<p id="breadcrumbs">

			<a href="https://www.schneier.com">Home</a><a href="https://www.schneier.com/blog/archives/">Blog</a>		</p>

		
<article id="post-2315" class="post-2315 post type-post status-publish format-standard hentry category-uncategorized tag-cryptanalysis tag-cryptography tag-encryption tag-privacy tag-side-channel-attacks tag-voip">

	<div class="article">

		<h2 class="entry">Eavesdropping on Encrypted Compressed Voice</h2>
		<p>Traffic analysis <a href="http://technology.newscientist.com/channel/tech/dn14124-compressed-web-phone-calls-are-easy-to-bug.html">works</a> even through the encryption:</p>
<blockquote><p>The new compression technique, called variable bitrate compression produces different size packets of data for different sounds.</p>
<p>That happens because the sampling rate is kept high for long complex sounds like &#8220;ow&#8221;, but cut down for simple consonants like &#8220;c&#8221;. This variable method saves on bandwidth, while maintaining sound quality.</p>
<p>VoIP streams are encrypted to prevent eavesdropping. However, a team from John Hopkins University in Baltimore, Maryland, US, has shown that simply measuring the size of packets without decoding them can identify whole words and phrases with a high rate of accuracy.</p></blockquote>
<p>The technique isn&#8217;t good enough to decode entire conversations, but it&#8217;s pretty impressive.</p>

		
			<p class="entry-tags">
				<span class="tags-links">Tags: <a href="https://www.schneier.com/tag/cryptanalysis/" rel="tag">cryptanalysis</a>, <a href="https://www.schneier.com/tag/cryptography/" rel="tag">cryptography</a>, <a href="https://www.schneier.com/tag/encryption/" rel="tag">encryption</a>, <a href="https://www.schneier.com/tag/privacy/" rel="tag">privacy</a>, <a href="https://www.schneier.com/tag/side-channel-attacks/" rel="tag">side-channel attacks</a>, <a href="https://www.schneier.com/tag/voip/" rel="tag">VoIP</a></span>			</p>

		
		
		<p class="posted">
			<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html" rel="bookmark">Posted on June 19, 2008 at 6:27 AM</a>			•
			<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html#comments">50 Comments</a>		</p>

		<aside><div class="schneier-share share" data-uri="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html" data-title="Eavesdropping on Encrypted Compressed Voice" data-order="facebook twitter tumblr" data-social-share-privacy="true" /></aside>
	</div>

</article>


	<h3 id="comments">Comments</h3>

	
		<article class="comment even thread-even depth-1" id="comment-91113">

			<div class="comment by-fred ">

				<p class="commentcredit">

					<span class="commenter">Fred</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91113">
						June 19, 2008 7:06 AM					</a>

				</p>

				<p>If even one word can be identified, it is not secure.</p>
<p>What would be a way to counter this attack? Maybe playing music in the background?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91114">

			<div class="comment by-kilian ">

				<p class="commentcredit">

					<span class="commenter">Kilian</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91114">
						June 19, 2008 7:19 AM					</a>

				</p>

				<p>@Fred: the sulotion is simple: Don´t use compression for the voice stream&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91115">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91115">
						June 19, 2008 7:22 AM					</a>

				</p>

				<p>@ Bruce,</p>
<p>Just remember most of the best voice to data codecs where designed (and in some cases patented) by the NSA.</p>
<p>That aside the first four rules of TEMPEST are,</p>
<p>1) bandwidth (low as needed).<br />
2) Energy (low as needed).<br />
3) clock the inputs at fixed rate.<br />
4) clock the outputs at fixed rate.</p>
<p>One of the first rules when it comes to preventing traffic analysis is keep the rate and volue of communications constant.</p>
<p>When it comes to voice analysis it is surprising how much information is in the envelope and not in the spectral content. The envolope kind of defines the bit rate for many high compression codecs. With spectral content being replaced by band filtered white noise.</p>
<p>So the moral is once again security and efficiency are at oposit ends of the balance&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91116">

			<div class="comment by-ronk ">

				<p class="commentcredit">

					<span class="commenter">RonK</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91116">
						June 19, 2008 7:26 AM					</a>

				</p>

				<p>@Kilian</p>
<p>I would think that it would suffice to randomly add a certain percentage of dummy packets and random-length dummy padding at the ends of the real packets.</p>
<p>Totally eliminating compression is kind of like using OTP. It maximizes security at the cost of lots of convenience.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91117">

			<div class="comment by-nicholas-weaver ">

				<p class="commentcredit">

					<span class="commenter">Nicholas Weaver</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91117">
						June 19, 2008 7:30 AM					</a>

				</p>

				<p>Fred:  The only way to reliably counter the attack is to waste bits: Compress at a constant rate rather than a variable rate.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91118">

			<div class="comment by-anatoly ">

				<p class="commentcredit">

					<span class="commenter">Anatoly</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91118">
						June 19, 2008 7:37 AM					</a>

				</p>

				<p>@Fred: But, if you don&#8217;t compress voice, the attacker can analyse entrophy of encrypted stream (by compressor, etc.) So, strong salt needed.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91119">

			<div class="comment by-anonymous ">

				<p class="commentcredit">

					<span class="commenter">Anonymous</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91119">
						June 19, 2008 7:47 AM					</a>

				</p>

				<p>@ RonK,</p>
<p>&#8220;it would suffice to randomly add a certain percentage of dummy packets and random-length dummy padding at the ends of the real packets.&#8221;</p>
<p>Sorry no cigar, it won&#8217;t work in the way you think it will.</p>
<p>On the assumption &#8220;your oponant knows the system&#8221; they will have charecterised the behaviour of the codec you are using and your maner of speaking.</p>
<p>Most codecs are not simply variable bit rate they are also variable in timing between packets as well as a number of other key areas.</p>
<p>Simply adding packets will not break up the expected time relationship and therefore it will be possible to identify (some of)them. Also using probablistic algorithms will help find sufficient anomolies for most to be removed (especialy if real time recovery is not required).</p>
<p>Likewise there are other relationships that need to be disguised as well. The effort involved with faking it well enough is going to be greater than simply using a fixed rate codec.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91120">

			<div class="comment by-nigel-sedgwick ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.camalg.co.uk' rel='external nofollow ugc' class='url'>Nigel Sedgwick</a></span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91120">
						June 19, 2008 8:00 AM					</a>

				</p>

				<p>The problem here is that encryption has not been applied to the whole signal for, as explained by Clive Robinson (at June 19, 2008 07:22 AM), the effective output clock rate is not held constant (and here &#8216;purposefully&#8217; contains information on the signal content).</p>
<p>Presumably this variable rate speech coding has been done to reduce the overall (digital) bandwidth of the signal.  Again, as Clive states, this is in direct contravention of some pretty well known practical aspects of encryption.</p>
<p>I would like to raise one further point, that might be of benefit to those looking at lower-rate speech coding/encryption, who (obviously like the &#8216;inventors&#8217; of the reported scheme) lack sufficient familiarity with the issues.</p>
<p>That aspect is that it is reasonably practical to introduce variable rate coding of speech, though at the &#8216;expense&#8217; of imposing some minimum delay on the signal.  By averaging the coding rate to a fixed value over some period, just about all the benefits of reduced bandwidth are made available.  The sort of timescale over which such &#8216;rate averaging&#8217; needs to be done is dominated by the syllable rate of the speech (typically around 4 syllables per second, though not constant).</p>
<p>By delaying the speech signal by 1 or 2 syllables, before transmission, it is practical to force the digital bandwidth (and hence transmission clock rate) to be constant.  Such an approach gives almost all of the benefit of a variable TX clock rate without the risk of weakening the strength of the encryption.</p>
<p>However, such a long delay (250ms to 500ms) has, historically, been viewed as unacceptable for full-duplex conversation.  Those using satellite phones have experience of this sort of delay.  To a lesser extent, we see (hear) such delay in TV broadcasts from remote places, where the reporter on the spot is asked a question, and we see him/her start to answer over 250ms later.</p>
<p>Perhaps the solution is for VOIP channel suppliers to provide explicitly discounted prices for the use of variable-rate transmission, thus passing on some of the savings they make in their IP network costs.  Alternatively, they might just rely on greater processing power (and so greater terminal equipment cost) to encode the speech at a somewhat lower rate (without significant loss of quality).</p>
<p>Best regards</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91121">

			<div class="comment by-kilian ">

				<p class="commentcredit">

					<span class="commenter">Kilian</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91121">
						June 19, 2008 8:02 AM					</a>

				</p>

				<p>True, fixed Bitrate and fixed timing of packets might do it&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91122">

			<div class="comment by-lewis-donofrio ">

				<p class="commentcredit">

					<span class="commenter">Lewis Donofrio</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91122">
						June 19, 2008 8:03 AM					</a>

				</p>

				<p>&#8220;Informal conversational speech would be tougher because it&#8217;s so much more random.&#8221;</p>
<p>&#8211;Lesson here is &#8220;KISS&#8221; Keep it short and sweet (nothing complicated)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91123">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91123">
						June 19, 2008 8:11 AM					</a>

				</p>

				<p>Just a thought,</p>
<p>If the designers of the system where not aware of the fairly well known (or atleast I thought it was) problems of not using fixed data rates, what else have they missed?</p>
<p>Perhaps their implementation of the encryption could be deficient as well. Perhaps not as bad as &#8220;code book&#8221; but still leaving enough information to make other attacks that do not need the key to be found&#8230;</p>
<p>As I said just a thought &#8220;code review&#8221; anyone 8)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91124">

			<div class="comment by-foo ">

				<p class="commentcredit">

					<span class="commenter">foo</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91124">
						June 19, 2008 8:18 AM					</a>

				</p>

				<p>This attack class isn&#8217;t new, wasn&#8217;t there a similar problem with SSH at one point?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91125">

			<div class="comment by-nerdboy ">

				<p class="commentcredit">

					<span class="commenter">nerdboy</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91125">
						June 19, 2008 8:44 AM					</a>

				</p>

				<p>Would speaking in a different language to english have much of an effect? I assume the software has to be considerably tweaked for languages which utilise phenomes much different from english.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91126">

			<div class="comment by-paeniteo ">

				<p class="commentcredit">

					<span class="commenter">Paeniteo</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91126">
						June 19, 2008 9:03 AM					</a>

				</p>

				<p>@Anatoly: &#8220;But, if you don&#8217;t compress voice, the attacker can analyse entrophy of encrypted stream (by compressor, etc.)&#8221;</p>
<p>An encrypted stream typically cannot be compressed anymore at all and will pass pretty much any test for total randomness &#8211; no matter what the entropy of the original material is. That is, as long as the used cipher is any good.<br />
E.g., if you use AES, it does not matter whether you encrypt a file full of random numbers or all zeroes: Both will look totally scrambled after encryption.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91127">

			<div class="comment by-fred ">

				<p class="commentcredit">

					<span class="commenter">Fred</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91127">
						June 19, 2008 9:53 AM					</a>

				</p>

				<p>Most of the proposed solutions presume that the user of VOIP is able to alter the inner workings of the program. What about the casual user or the non-programmer? Is there some simpler way to obtain increased security?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91128">

			<div class="comment by-edward-palonek ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.paloneks.ca/' rel='external nofollow ugc' class='url'>Edward Palonek</a></span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91128">
						June 19, 2008 10:11 AM					</a>

				</p>

				<p>VOIP is the most un secure method of communication, I am surprised how many people do not even realize that it is a big problem. With automated signal processing and voice recognition a hacker can penetrate a server/router at a large ISP route VOIP traffic through a hacked server. Software can be used to pick up key words from thousands of conversations in real time. These keywords can be account numbers, passwords, and so on. Palonek @ <a href="http://www.paloneks.ca/" rel="nofollow ugc">http://www.paloneks.ca/</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91129">

			<div class="comment by-zarray ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.zarray.freehyperspace3.com/' rel='external nofollow ugc' class='url'>Zarray</a></span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91129">
						June 19, 2008 10:25 AM					</a>

				</p>

				<p>To eavesdrop, they need first access to the local network, so if you secure your network, there shouldn&#8217;t be any problem, right?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91130">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91130">
						June 19, 2008 10:25 AM					</a>

				</p>

				<p>@ nerdboy,</p>
<p>No speaking a different language is unlikley to effect the outcome (once you have built your dictionary). In most cases the human vocal tract works in exactly the same way for the majority of people.</p>
<p>I cannot remember the exact details but most languages use a subset of something like 90 phonems. There are exceptions such as Finish and languages that use things like clicks produced in the mouth only.</p>
<p>It was noted in the 1920&#8217;s that in many cases the language of a cipher could be determined reliably without actually knowing the actual plaintext. Basicaly all languages have statistical signitures be they writen or spoken, if your system alows that to be analysed then the rest folows.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91131">

			<div class="comment by-anatoly ">

				<p class="commentcredit">

					<span class="commenter">Anatoly</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91131">
						June 19, 2008 10:30 AM					</a>

				</p>

				<p>@Paeniteo: Entropy can be evaluated not only by your eye. It also can be evaluated by combinatoric patterns. I think that entropy of voice much huge, than entropy of cipher blocks. When you encrypt plain text, the redundancy much less than in voice.</p>
<p>An attacker can analyse encrypted voice to detect where are you (subway, plane), or identify women or man, etc.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91132">

			<div class="comment by-quodum ">

				<p class="commentcredit">

					<span class="commenter">quodum</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91132">
						June 19, 2008 10:48 AM					</a>

				</p>

				<p>@Anatoly &#8220;An attacker can analyse encrypted voice to detect where are you (subway, plane)&#8230;&#8221;</p>
<p>Would you care to elaborate? Because currently it sounds like you don&#8217;t know what you&#8217;re talking about.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91133">

			<div class="comment by-greg ">

				<p class="commentcredit">

					<span class="commenter">greg</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91133">
						June 19, 2008 10:48 AM					</a>

				</p>

				<p>I was under the impression that quite a lot of the VoIP codecs are constant bitrate. For RTP reasons mainly&#8230;.</p>
<p>ie I use Speex in my game. Fixed packet sizes fixed rate (each packet decodes to a fixed length of decoded sound). I didn&#8217;t check jitter however&#8230;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91134">

			<div class="comment by-paeniteo ">

				<p class="commentcredit">

					<span class="commenter">Paeniteo</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91134">
						June 19, 2008 11:17 AM					</a>

				</p>

				<p>Anatoly, are you sure that you know how cryptography works?</p>
<p>Any serious modern algorithm is able to completely hide the relation between plaintext and ciphertext.<br />
As a consequence, there is also no relation between the entropy of both pieces.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91135">

			<div class="comment by-anonymous ">

				<p class="commentcredit">

					<span class="commenter">Anonymous</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91135">
						June 19, 2008 11:29 AM					</a>

				</p>

				<p>@ quodum,</p>
<p>&#8220;Would you care to elaborate? Because currently it sounds like you don&#8217;t know what you&#8217;re talking about.&#8221;</p>
<p>Anatoly is probably correct.</p>
<p>The reason is as discussed above due to the variable rate coding depending on the envelope of the sound.</p>
<p>Effectivly the envelope controls the bit rate and this is not encrypted only obsficated at best.</p>
<p>Therefore if you have a suitable statistical model for the way the sound is effectivly modulated by the tunnel etc then the statistics will be visable in the statistics of the codec bit rate output.</p>
<p>There are a whole load of maybe&#8217;s due to the effective &#8220;side channel&#8221; bandwidth of the codec output rate but if the statistical properties you are looking for are less than half the effective &#8220;side channel&#8221; bandwidth then you have nailed the critter to the wall (of the tunnel 8).</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91136">

			<div class="comment by-fnord ">

				<p class="commentcredit">

					<span class="commenter">FNORD</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91136">
						June 19, 2008 11:35 AM					</a>

				</p>

				<p>@Fred:<br />
What Lewis said, keep it short.  And don&#8217;t use VoIP for sensitive information.</p>
<p>It&#8217;s not entirely clear from the article, but screwing with your enuciation might make it harder too.  But I wouldn&#8217;t count on that.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91137">

			<div class="comment by-fnord ">

				<p class="commentcredit">

					<span class="commenter">FNORD</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91137">
						June 19, 2008 11:37 AM					</a>

				</p>

				<p>Also, it appears to pick up on whole phrases, so you could try using strange syntax.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91138">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91138">
						June 19, 2008 11:40 AM					</a>

				</p>

				<p>Sorry the above anon post to quodum was from me.</p>
<p>I&#8217;m posting from my mobile phone and it has only a small screen and cannot handle the  &#8220;Movable Type&#8221; responses very well (ie it always produces an error message 8(</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91139">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91139">
						June 19, 2008 11:54 AM					</a>

				</p>

				<p>Just a thought on how you can improve the system.</p>
<p>Back in the 90&#8217;s a system was developed where by a computer could analyse a piece of music and by looking at certain statistical properties could reliably decide if the piece had been written by a composer &#8220;known to it&#8221;.</p>
<p>This idea was further developed to deal with the written word and various pieces of writting could be acuratly attributed to a known author.</p>
<p>In essence the way we think comes out in the words phrases and timing of the way we speak.</p>
<p>Therefor it should be fairly simple to analyse a known &#8220;target&#8221; individuals spoken idiosycraties and produce a system tuned to them.</p>
<p>This tuned system would vastly improve the recovery rate of one half of the conversation. If this information was adaptivly fed back into the engine analysing the other half of the conversation then the context sensitive nature would improve the recognition.</p>
<p>I suspect that the NSA etc are well ahead of the game in this sort of &#8220;context engine&#8221; so it may already be a viable and running system&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91140">

			<div class="comment by-quodum ">

				<p class="commentcredit">

					<span class="commenter">quodum</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91140">
						June 19, 2008 11:55 AM					</a>

				</p>

				<p>@Clive, Anatoly</p>
<p>Oh, I agree that in case of VBR such observations can be made. It&#8217;s just that I interpreted Anatoly&#8217;s comment as pertaining to the voice encryption in general.</p>
<p>And my previous comment appears to be harsher than I intended. My apologies.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91141">

			<div class="comment by-derf ">

				<p class="commentcredit">

					<span class="commenter">derf</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91141">
						June 19, 2008 12:00 PM					</a>

				</p>

				<p>If you want a &#8220;secure&#8221; conversation under this scheme, just have a TV or radio on in the background &#8211; problem solved.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91142">

			<div class="comment by-jeff-bell ">

				<p class="commentcredit">

					<span class="commenter">Jeff Bell</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91142">
						June 19, 2008 12:04 PM					</a>

				</p>

				<p>Would it help to speak in poetry?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91143">

			<div class="comment by-davi-ottenheimer ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://davi.poetry.org/' rel='external nofollow ugc' class='url'>Davi Ottenheimer</a></span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91143">
						June 19, 2008 12:05 PM					</a>

				</p>

				<p>That is indeed impressive, but the problems with VoIP I have found usually are far less interesting:<br />
&#8211; Vendors leave systems (e.g. unpatched Windows 2000 servers running SQL) totally insecure, expecting customers to figure out how to harden them on their own. Server teams don&#8217;t want to touch them.<br />
&#8211; Telecom management is driven to demonstrate cost savings and rapid deployment, so they have incentive to drop all controls (e.g. the CEO wants some VoIP widget to work at his homes in Sydney and London and doesn&#8217;t care when/how it gets done as long as he can use it immediately)</p>
<p>&#8230;and so forth. It would be cool if breaking the encryption of VoIP were something necessary at this point, but the sad fact is that Telecom seems to be re-learning old lessons as they move onto a shared/public network. A standard PBX manager will usually have a ton of war stories and be very cognizant of risk on private line systems (often due to actual toll-fraud incidents) but install VoIP and suddenly management lets basic security fly out the window.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91144">

			<div class="comment by-davi-ottenheimer ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://davi.poetry.org/' rel='external nofollow ugc' class='url'>Davi Ottenheimer</a></span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91144">
						June 19, 2008 12:38 PM					</a>

				</p>

				<p>&#8220;Would it help to speak in poetry?&#8221;</p>
<p>It always helps to speak in poetry, although more traditional forms like iambic pentameter are easier to decode than prose.</p>
<p>The problem uncovered here is that compression gives the key to decode, so you need to use forms of poetry that lack predictability, or use nothing but long complex sounds:</p>
<p>&#8220;How now brown cow&#8230;&#8221;</p>
<p>This brings a haiku to mind:</p>
<p>Compress your bitrate<br />
And expose the key to sound;<br />
VoIP flows insecure.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91145">

			<div class="comment by-nomen-publicus ">

				<p class="commentcredit">

					<span class="commenter">Nomen Publicus</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91145">
						June 19, 2008 12:38 PM					</a>

				</p>

				<p>This is, of course, why cypher texts are broken up into five character blocks.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91146">

			<div class="comment by-den ">

				<p class="commentcredit">

					<span class="commenter">Den</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91146">
						June 19, 2008 1:12 PM					</a>

				</p>

				<p>Good solution may be to speak some foreign language with accent. I think in this case pattern will be very different.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91147">

			<div class="comment by-john-moore ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://jbmoore61.blogspot.com/2008/06/meme-of-seven.html' rel='external nofollow ugc' class='url'>John Moore</a></span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91147">
						June 19, 2008 1:19 PM					</a>

				</p>

				<p>You&#8217;ve been tagged Bruce (<a href="http://jbmoore61.blogspot.com/2008/06/meme-of-seven.html" rel="nofollow ugc">http://jbmoore61.blogspot.com/2008/06/meme-of-seven.html</a>).</p>
<p>Keep up the excellent work,</p>
<p>John</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91148">

			<div class="comment by-bob ">

				<p class="commentcredit">

					<span class="commenter">bob</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91148">
						June 19, 2008 2:40 PM					</a>

				</p>

				<p>For compressing &amp; encrypting inter-switch links (rather than the loop going from a switch to a single subscriber which will probably still be analog over copper for some time to come) they could multiplex several conversations into a single standard-length packet which would not only save bandwidth it would add obfuscation because any given conversation&#8217;s phonemes would be interspersed with those of other conversations; which would rapidly increase the required domain size for decrypting to ridiculous levels, yet still maintain the low delay needed for voice.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91149">

			<div class="comment by-handbags ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.leatherstoreusa.com' rel='external nofollow ugc' class='url'>handbags</a></span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91149">
						June 19, 2008 3:12 PM					</a>

				</p>

				<p>Playing music in the background is a great idea, I guess..</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91150">

			<div class="comment by-bob ">

				<p class="commentcredit">

					<span class="commenter">bob</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91150">
						June 19, 2008 3:20 PM					</a>

				</p>

				<p>Playing music in the background would interact with the phonemes of speech to cause many more unique audio signatures; which would in turn: (a) Decrease interceptibilty and (b) Decrease compressibility. So it would eliminate the value of the compression in the first place, may as well just switch it off.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91151">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91151">
						June 19, 2008 3:48 PM					</a>

				</p>

				<p>@ Nomen Publicus,</p>
<p>&#8220;This is, of course, why cypher texts are broken up into five character blocks&#8221;</p>
<p>Sorry no, it was the telegraph companies and the fledgling organisation that became the ITU.</p>
<p>They originaly said no to codes due to the many problems it caused not least of which was what to charge.</p>
<p>The lowest common denominator turned out after suitable negotiation to be five random alphas or numbers being equal to a word.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91152">

			<div class="comment by-hen ">

				<p class="commentcredit">

					<span class="commenter">Hen</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91152">
						June 19, 2008 4:08 PM					</a>

				</p>

				<blockquote><p>
  Good solution may be to speak some foreign language with accent.<br />
  @ Den
</p></blockquote>
<p>Using compression with constant rate (like GSM) is probably much simpler.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91153">

			<div class="comment by-dave-b ">

				<p class="commentcredit">

					<span class="commenter">Dave B.</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91153">
						June 19, 2008 5:23 PM					</a>

				</p>

				<p>I may be being incredibly dim or misinformed here, but it seems to me that many people are confusing the endpoints with the transport network, or at least may be discussing different issues from one another.</p>
<p>1) If you&#8217;re carrying voice over a public network, whether that be a POTS, SIP, H.248 or whatever&#8230; you do not control how that stream is encoded (with exceptions as shown below).  These codecs (e.g.  G.711 and G.729) are not encrypted and can be played back relatively simply using a popular brand of packet sniffer.</p>
<p>1a) You would  therefore need to introduce your own encryption system that translates your voice into an encrypted stream: this could either be an analogue output, that then has to survive the vagaries of sampling and unknown compression systems in between, or it could output digitally, send T.30 tones and bypass any intermediate compression entirely (cf. T.38).</p>
<p>2) If you&#8217;re terminating the VoIP streams on your own system, e.g. SIP, but still carry the traffic via a public system, whether that be PSTN or IP, then I see a few alternatives:</p>
<p>2a) The system basically encodes your voice into an encrypted stream then negotiates the call normally and packetises it accordingly.  Functionally this is identical to 1a), if the encryption system in 1a) were connected to a VoIP &#8216;phone system.</p>
<p>2b) While you could implement a codec in your VoIP client that encrypts your voice stream: you should probably make sure that the endpoints can&#8217;t slip back into using unencrypted codecs, which would meant that the client could only be able to be used to call compatible endpoints; and you would still probably have to maintain control your own proxies, gateways, registrars et cetera so that you can control the permissions for codec negotiation, where applicable.</p>
<p>2c) You have encrypting endpoints that communicate point-to-point over IP.</p>
<p>3) If you control the entire system, then any of the above will work, plus you can throw in additional security layers.</p>
<p>Anyhow, the real issue is that, whichever system is chosen, the encryption system has to avoid the interesting issue that Bruce mentioned, either by not using compression or modifying the latency and using padding to compensate.</p>
<p>If you&#8217;re having to do a mixture of Cockney and Yorkshire accents so that you can unexpectedly drop vowels and consonants at will, while playing the 1812 overture in the background, then I think that that&#8217;s an indicator that your encryption system has been poorly designed.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91154">

			<div class="comment by-tim ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://pig.sty.nu/' rel='external nofollow ugc' class='url'>Tim</a></span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91154">
						June 20, 2008 9:26 AM					</a>

				</p>

				<p>I agree with Dave B.; adding pseudo-random noises like the 1812 overture indicates a poorly designed encryption system. Would it not also require a noise:signal ratio sufficiently high as to defeat the purpose of VoIP?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91155">

			<div class="comment by-2easy2worry2much ">

				<p class="commentcredit">

					<span class="commenter">2Easy2Worry2MUCH</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91155">
						June 20, 2008 10:19 AM					</a>

				</p>

				<p>@Tim:  What is the &#8220;purpose of VoIP&#8221;?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91156">

			<div class="comment by-bob-w ">

				<p class="commentcredit">

					<span class="commenter">Bob W.</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91156">
						June 20, 2008 11:38 AM					</a>

				</p>

				<p>Why would anyone bother to use variable bit rate encoding for transmission of a single stream of conversational human  speech?  As noted by Nigel Sedgwick, what you gain on the swings you lose on the roundabout: the advantage in bandwidth used is offset by the impairment of conversation caused by additional delay in the speech encoding mechanism.</p>
<p>Even G.711 telephone-quality voice operates at only 56 or 64 kilobit/s, and more aggressively compressing voice codecs could bring the bitrate down to ca. 12 kilobit/s when I was last paying attention, 10 years ago.  At that time the main mechanism for varying the bitrate was, I think, silence suppression: for sampling intervals in which no speech was detected a special code was transmitted which told the receiver to fake the sound of silence (background noise) for user comfort.  In the context of available network speeds with anything but an analog modem, making bandwidth variable in the range 4 to 12 kilobit/s seems unlikely to be useful.</p>
<p>In the context of trunked calls I suppose there is some argument for VBR as the number of bits from multiple voices grows large enough to make the savings worth the effort.  So long as encryption were applied to the whole set of trunked voice streams (i.e. put all voice packets in one large UDP datagram and encrypt the whole shebango) there would be little loss of security.</p>
<p>Presumably this concern applies mostly to transmissions on very limited bandwidth channels where conversational comfort is not a priority.  Perhaps most such calls have military or governmental purposes, so security is of even greater importance?  One hopes that the cryptographers designing those communication systems will think of the VBR consideration early in the design.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91157">

			<div class="comment by-bob-w ">

				<p class="commentcredit">

					<span class="commenter">Bob W.</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91157">
						June 20, 2008 11:49 AM					</a>

				</p>

				<p>Regarding the approach of obfuscating the speech codes by playing music (or other noise) in the background, that seems unlikely to work.</p>
<p>Since speech codecs are designed around the sound characteristics of the human vocal mechanism, coding background sounds into the digitized stream results in (experts please be patient with me on this non-expert explanation) a reconstructed sound that includes only the parts of the background which resemble human speech and the result could be quite garbled.  As a result, resiliency in the face of impairment due to interfering noise is an important feature of a speech codec and testing for accurate reproduction of speech (and exclusion of background noise input from the coded stream) is part of the design process.</p>
<p>Even more so, in a variable bit rate codec one would want to exclude non-speech input as it would tend to increase the bit rate of the coded stream if one were to include it, rather defeating the purpose of using VBR in the first place.</p>
<p>The problem seems to come into effect at the level of preparing the cleartext for encipherment: it has to be done in a way that doesn&#8217;t leave important features of the cleartext visible in the ciphertext.  Munging the cleartext will have limited usefulness: a clever eavesdropper will be looking for key phrases express in Pig Latin, etc..</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91158">

			<div class="comment by-alex-ponebshek ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://alexbobp.homelinux.net/wordpress' rel='external nofollow ugc' class='url'>Alex Ponebshek</a></span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91158">
						June 20, 2008 10:49 PM					</a>

				</p>

				<p>I think I have a solution that would cost in latency but not in bandwidth.</p>
<p>What if the voip system buffers compressed audio in order to normalize packet sizes?  The size chosen here would represent a delay in the receipt of audio information, but it would also force the granularity with which the attacker could analyze the compression.  If my voip client sends a large packet every two seconds, then the attacker may be able to figure out sentence flow and who is talking, but would probably not be able to work out words.  The cost, of course, is that you hear me two seconds after I say things.</p>
<p>I think that this would be better than using chaff, because the compression is essential to allowing real-time communication without sounding like crap.  I&#8217;d prefer clear, delayed audio to laggy, skippy, low quality, realtime audio.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91159">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91159">
						June 21, 2008 1:12 AM					</a>

				</p>

				<p>@ Alex Ponebshek,</p>
<p>&#8220;What if the voip system buffers compressed audio in order to normalize packet sizes?&#8221;</p>
<p>Well as the underlying codec is &#8220;variable bit rate&#8221; several things would change some for the better some for the worse (I&#8217;ll start with the benifits),</p>
<p>Firstly the agrigation of bits into larger packets is extreamly desirable as the &#8220;data content&#8221; to &#8220;IP datagram&#8221; size is extreamly poor with small data packet sizes. Therfore the actual &#8220;efficiency&#8221; of reducing the data packet size by 50% may only reduce the datagram size 10%. It is one of the trade offs that VBR carried over &#8220;other protocols&#8221; (UDP/IP TCP/IP etc) pundits appear to be unaware of or deliberatly ignor. Further due to the fact that IP datagrams have a maximum size (MTU=1500 on most networks) the &#8220;efficiency&#8221; relationship shows a decaying sawtooth relationship.</p>
<p>Secondly the &#8220;Variable Rate&#8221; issue does not go away. What does change is the bandwidth of the &#8220;side channel&#8221; through which secret information escapes the protection of the encryption. The side channel bandwidth decreases in inverse proportion to the size of the data packet agrigation. That is if your original data packet size allowed 300Hz of side channel bandwidth then putting sixteen together reduces the bandwidth to ~19Hz.</p>
<p>From these two points you can see that although data packet size and bandwidth do have a simple relationship IP datagram size and bandwidth do not which might give the advantage you are looking for at minimal or no cost (it is extreamly implimentation sensitive therefore has to be done on a case by case basis).</p>
<p>Thirdly is latency, all other things being equal (which they are not) you would expect a simple relationship between data packet size and latency. As described above in point 1 there is a large overhead to get from the data packet size to the IP datagram size. It is the size and type of IP datagram that effects latency in uncogested networks. Due to the complex way networks interwork it is impossible to say how any one connection at any given time will be effected. But you might actually see latency go down with moderate buffering (bellow transmission window size) and burst transmission.</p>
<p>Fourthly and possibly most importantly to viable audio communictions is transmission jitter time or variability in IP datagram delivery times. The usuall solution to transmission jitter is to buffer packets to atleast twice the average expected jitter time and optionally adjust it dynamicaly based on link conditions.</p>
<p>Finnaly is audio drop out caused by late or lost data. As for jitter the solution is buffering but usually the buffer needs to be atleast five or six times the jitter rate to determine a reliable way to deal with the drop out (fade to noise etc). Currently the techniques developed for GSM are favourd for medium constant rate encoding, I belive it is still an open question for low variable rate encoding.</p>
<p>You would expect that the lower the rate of encoding the worse the effects of both jitter and drop out and this has certainly been the case in the past with radio and circuit switched networks (where the drop out is mainly caused by impulse type noise and is modeled as such).</p>
<p>Packet switched networks have radicaly different problems and behaviours which are more likly to make things considerably worse.</p>
<p>Also there are the added complications of encryption. A single lost packet at the codec level might require additional resync data to be negotiated and sent at the encryption level. The protocols to do the resync in the best way for consumer grade drop out on a packet switched network are only just begining to be investigated. It involves trade offs, Code Book would require no resync but is a security no no. Chaining would require the receiver to tell the transmitter to reset/sync the IV which is a no no for audio quality. My bet would be on a modified version of Counter based chaining with a data count sent, but do you tie it to the codec data packet level or IP datagram level either way breakes clean implementation. Traditionaly Xor type (pad/stream) encryption and plain text chaining has been favourd as it alows pre computation of the key stream and thus minimum latency in resource limited systems. However times have changed and resources are not the issue they once where.</p>
<p>And to make matters worse variable rate encoding usually magnifies any problems caused by low data rates. Further it is also usually the worst offender when it comes to dynamic buffer managment.</p>
<p>All in all there are way to many other problems to sort out first before you need to start worying about variable rate encoding or how to optomise it. That is unless you are a marketing droid with managment authority and a must have feature list&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91160">

			<div class="comment by-arne ">

				<p class="commentcredit">

					<span class="commenter">Arne</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91160">
						June 24, 2008 3:32 AM					</a>

				</p>

				<p>@Anatoly: Unlike some other posters, I noticed that you are not talking about timing attacks but attacks on the ciphertext. So I&#8217;ll address your claim directly by stating that, given OTP enryption, the ciphertext attacks you mentioned are provably futile. Any weakness you might be referring to is thus not an innate flaw of the proposed uncompressed transmission but a weakness of the cipher. I&#8217;m interested if you know about such flaws in &#8220;industrial strength&#8221; algorithms with fixed key length.</p>
<p>I do, however, agree that it&#8217;s better to compress the voice data and add random data to it to make the bit rate constant again. The encryption algorithm should protect against all attacks on the ciphertext that do not involve guessing the key, but it&#8217;s better not to rely on it.</p>
<p>By the way, it&#8217;s customary to talk about the (Shannon) entropy of a message as if it was an inherent property of the message when in fact the entropy of a message is supposed to be measured against a certain code. We just tend to forget about that because modern compression algorithms are so good at finding usable codes on-the-fly. So when a good encryption algorithm is used, guessing a simple code in which the message has an entropy significantly lower than its bit length should be at least as hard as guessing the key. Which is just a really complicated way of saying that the effort to compress the ciphertext should be insurmountable.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-91161">

			<div class="comment by-martyc ">

				<p class="commentcredit">

					<span class="commenter">MartyC</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91161">
						July 11, 2008 11:57 AM					</a>

				</p>

				<p>Sing the conversation to the tune of a different song each time.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-91162">

			<div class="comment by-jill ">

				<p class="commentcredit">

					<span class="commenter">Jill</span> •

					<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/#comment-91162">
						July 11, 2008 12:01 PM					</a>

				</p>

				<p>We need a new VOIP design that puts voice into same-size, user configurable datagrams and pads them.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

	<p class="subscribe-comments">
		<a href="https://www.schneier.com/blog/archives/2008/06/eavesdropping_o_2.html/feed/">
			<img alt="Atom Feed" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/rss.png">
			Subscribe to comments on this entry		</a>
	</p>

		<div id="respond" class="comment-respond">
		<h2 class="comments-open-header">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/archives/2008/06/eavesdropping_o_2.html#respond" style="display:none;">Cancel reply</a></small></h2><form action="https://www.schneier.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><a href="https://www.schneier.com/wp-login.php?redirect_to=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2008%2F06%2Feavesdropping_o_2.html" title="Login">Login</a><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" /></p>
<p class="comment-form-url"><label for="url">URL:</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Remember personal info?</label></p>

<p class="comment-form-author">

	<label for="comm_capt_challenge">
		Fill in the blank: the name of this blog is Schneier on ___________ (required):	</label>

	<input id="comm_capt_challenge" name="comm_capt_challenge" size="30" type="text" />
</p>

<div class="comment-form-comment">

	<label for="comment">Comments:</label>

	<textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea>

	<div id="preview-box" class="preview-box hide"></div>
	<img class="comment-loading hide" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/loader.gif" />

</div>

<p id="allowed">

	<strong>Allowed HTML</strong>
	&lt;a href=&quot;URL&quot;&gt; &bull; &lt;em&gt; &lt;cite&gt; &lt;i&gt; &bull; &lt;strong&gt; &lt;b&gt; &bull; &lt;sub&gt; &lt;sup&gt; &bull; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &bull; &lt;blockquote&gt; &lt;pre&gt;
	<strong>Markdown Extra</strong> syntax via <a href="https://michelf.ca/projects/php-markdown/extra/">https://michelf.ca/projects/php-markdown/extra/</a>
</p>

<input type="hidden" id="wp_comment_nonce" name="wp_comment_nonce" value="4b1534b792" /><input type="hidden" name="_wp_http_referer" value="/blog/archives/2008/06/eavesdropping_o_2.html" />
<input type="button" id="comment-preview" class="comment-preview comment-actions" value="Preview" />
<input type="button" id="comment-write" class="comment-write comment-actions hide" value="Edit" />

<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit" /> <input type='hidden' name='comment_post_ID' value='2315' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p></form>	</div><!-- #respond -->
	
	<div class="stepthrough">
		<a href="https://www.schneier.com/blog/archives/2008/06/security_throug_1.html" rel="prev">← Security Through Obscurity</a>		<a href="https://www.schneier.com/blog/archives/2008/06/hacking_a_coffe.html" rel="next">Hacking a Coffee Machine →</a>	</div>

	
<p id="powered">Sidebar photo of Bruce Schneier by Joe MacInnis.</p>
		</div>

		
<aside>
	<div class="sidebar" id="sidebar-two">
		<section><div class="sidesection widget widget_schneier_about" id="schneier_about-2"><h3>About Bruce Schneier</h3><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/Bruce-Schneier.jpg" /><p><p class="small">I am a <a href="https://public-interest-tech.com/">public-interest technologist</a>, working at the intersection of security, technology, and people. I've been writing about security issues on my <a href="/">blog</a> since 2004, and in my monthly <a href="/crypto-gram/">newsletter</a> since 1998. I'm a fellow and lecturer at Harvard's <a href="https://www.hks.harvard.edu/faculty/bruce-schneier">Kennedy School</a>, a board member of <a href="https://www.eff.org/">EFF</a>, and the Chief of Security Architecture at <a href="https://inrupt.com/">Inrupt, Inc.</a> This personal website expresses the opinions of none of those organizations.</p>
</p></div></section><section><div class="sidesection widget widget_schneier_related_posts" id="schneier_related_posts-2"><h3>Related Entries</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/archives/2021/03/illegal-content-and-the-blockchain.html">Illegal Content and the Blockchain</a></li><li><a href="https://www.schneier.com/blog/archives/2021/03/national-security-risks-of-late-stage-capitalism.html">National Security Risks of Late-Stage Capitalism</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/weis-2021-call-for-papers.html">WEIS 2021 Call for Papers</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/ransomware-profitability.html">Ransomware Profitability</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/presidential-cybersecurity-and-pelotons.html">Presidential Cybersecurity and Pelotons</a></li><li><a href="https://www.schneier.com/blog/archives/2021/01/police-have-disrupted-the-emotet-botnet.html">Police Have Disrupted the Emotet Botnet</a></li>
</ul>
</div></section><section><div class="sidesection widget widget_schneier_featured_essays" id="schneier_featured_essays-2"><h3>Featured Essays</h3>
	<ul>
		<li><a href="https://www.schneier.com/essays/archives/2016/04/the_value_of_encrypt.html">The Value of Encryption</a></li><li><a href="https://www.schneier.com/essays/archives/2016/03/data_is_a_toxic_asse.html">Data Is a Toxic Asset, So Why Not Throw It Out?</a></li><li><a href="https://www.schneier.com/essays/archives/2014/01/how_the_nsa_threaten.html">How the NSA Threatens National Security</a></li><li><a href="https://www.schneier.com/essays/archives/2009/01/terrorists_may_use_g.html">Terrorists May Use Google Earth, But Fear Is No Reason to Ban It</a></li><li><a href="https://www.schneier.com/essays/archives/2007/01/in_praise_of_securit.html">In Praise of Security Theater</a></li><li><a href="https://www.schneier.com/essays/archives/2006/08/refuse_to_be_terrori.html">Refuse to be Terrorized</a></li><li><a href="https://www.schneier.com/essays/archives/2006/05/the_eternal_value_of.html">The Eternal Value of Privacy</a></li><li><a href="https://www.schneier.com/essays/archives/2005/09/terrorists_dont_do_m.html">Terrorists Don&#039;t Do Movie Plots</a></li>	</ul>

	<p><a href="https://www.schneier.com/essays/">More Essays</a></p></div></section><section><div class="sidesection widget widget_schneier_archives" id="schneier_archives-2"><h3>Blog Archives</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/calendar.html/">Archive by Month</a></li><li><a href="https://www.schneier.com/blog/newcomments.html/">100 Latest Comments</a></li></ul>

<h4>Blog Tags</h4><ul class="top-tags"><li><a href="https://www.schneier.com/tag/3d-printers/">3d printers</a></li><li><a href="https://www.schneier.com/tag/9-11/">9/11</a></li><li><a href="https://www.schneier.com/tag/aaron-swartz/">Aaron Swartz</a></li><li><a href="https://www.schneier.com/tag/academic/">academic</a></li><li><a href="https://www.schneier.com/tag/academic-papers/">academic papers</a></li><li><a href="https://www.schneier.com/tag/accountability/">accountability</a></li><li><a href="https://www.schneier.com/tag/aclu/">ACLU</a></li><li><a href="https://www.schneier.com/tag/activism/">activism</a></li><li><a href="https://www.schneier.com/tag/adobe/">Adobe</a></li><li><a href="https://www.schneier.com/tag/advanced-persistent-threats/">advanced persistent threats</a></li><li><a href="https://www.schneier.com/tag/adware/">adware</a></li><li><a href="https://www.schneier.com/tag/aes/">AES</a></li><li><a href="https://www.schneier.com/tag/afghanistan/">Afghanistan</a></li><li><a href="https://www.schneier.com/tag/air-marshals/">air marshals</a></li><li><a href="https://www.schneier.com/tag/air-travel/">air travel</a></li><li><a href="https://www.schneier.com/tag/airgaps/">airgaps</a></li><li><a href="https://www.schneier.com/tag/al-qaeda/">al Qaeda</a></li><li><a href="https://www.schneier.com/tag/alarms/">alarms</a></li><li><a href="https://www.schneier.com/tag/algorithms/">algorithms</a></li><li><a href="https://www.schneier.com/tag/alibis/">alibis</a></li><li><a href="https://www.schneier.com/tag/amazon/">Amazon</a></li><li><a href="https://www.schneier.com/tag/android/">Android</a></li><li><a href="https://www.schneier.com/tag/anonymity/">anonymity</a></li><li><a href="https://www.schneier.com/tag/anonymous/">Anonymous</a></li><li><a href="https://www.schneier.com/tag/antivirus/">antivirus</a></li><li><a href="https://www.schneier.com/tag/apache/">Apache</a></li><li><a href="https://www.schneier.com/tag/apple/">Apple</a></li><li><a href="https://www.schneier.com/tag/applied-cryptography/">Applied Cryptography</a></li><li><a href="https://www.schneier.com/tag/artificial-intelligence/">artificial intelligence</a></li><li><a href="https://www.schneier.com/tag/assassinations/">assassinations</a></li></ul><p><a href="https://www.schneier.com/blog/tags.html/">More Tags</a></p></div></section><section><div class="sidesection widget widget_schneier_latest_book" id="schneier_latest_book-3"><h3>Latest Book</h3><a href="https://www.schneier.com/books/click-here/"><img class="sidepic" alt="Click Here to Kill Everybody" src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2018/07/book-ch2-200w.png" /></a><p><a href="https://www.schneier.com/books/">More Books</a></p></div></section><section><div class="sidesection widget widget_schneier_promotion" id="schneier_promotion-2">
<a href="https://www.eff.org/issues/bloggers/legal/join">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/join-eff@2x.png" id="effbutton" alt="Support Bloggers' Rights!" title="Support Bloggers' Rights!" /></a>

<a href="https://npo.networkforgood.org/Donate/Donate.aspx?npoSubscriptionId=8252">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/support-epic@2x.png" alt="Defend Privacy--Support Epic" title="Defend Privacy--Support Epic" /></a>
</div></section>	</div>
</aside>

		<footer>
			<nav>
				<div class="nav" id="footer-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="menu"><li class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>
		</footer>

		</div><!--#main-->
	</div><!--#wrapper-->

		<script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<script type='text/javascript' src='https://c0.wp.com/p/woocommerce/5.1.0/assets/js/jquery-cookie/jquery.cookie.min.js' id='jquery-cookie-js'></script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/socialshareprivacy.js?ver=1.0.1' id='social-share-privacy-js'></script>
<script type='text/javascript' id='social-share-privacy-icons-js-extra'>
/* <![CDATA[ */
var schneierSocial = {"path":"https:\/\/www.schneier.com\/wp-content\/themes\/schneier\/assets\/vendor\/socialshareprivacy\/"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/icons.js?ver=1.0.0' id='social-share-privacy-icons-js'></script>
<script type='text/javascript' id='schneier-comment-js-extra'>
/* <![CDATA[ */
var schneierComment = {"translateErrorSecurityAnswerWrong":"Your response to the challenge question ('The name of this blog is Schneier on ____') was not correct. Please try again.","ajax_url":"https:\/\/www.schneier.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/js/comment.js?ver=1.0.1' id='schneier-comment-js'></script>
<script type='text/javascript' src='https://c0.wp.com/c/5.7/wp-includes/js/wp-embed.min.js' id='wp-embed-js'></script>

</body>

</html>
