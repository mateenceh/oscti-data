<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>Tor Routers - Schneier on Security</title>
	<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel='dns-prefetch' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Feed" href="https://www.schneier.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Comments Feed" href="https://www.schneier.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Tor Routers Comments Feed" href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://c0.wp.com/c/5.7/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='schneier-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/style.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='schneier-main-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/dist/css/style.css?ver=1.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://c0.wp.com/p/jetpack/9.5.2/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js?ver=3.5.1' id='jquery-js'></script>
<link rel="https://api.w.org/" href="https://www.schneier.com/wp-json/" /><link rel="alternate" type="application/json" href="https://www.schneier.com/wp-json/wp/v2/posts/3712" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.schneier.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.schneier.com/wp-includes/wlwmanifest.xml" /> 

<link rel="canonical" href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html" />
<link rel='shortlink' href='https://www.schneier.com/?p=3712' />
<link rel="alternate" type="application/json+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2010%2F12%2Ftor_routers.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2010%2F12%2Ftor_routers.html&#038;format=xml" />
	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-32x32.png" sizes="32x32" />
<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-180x180.png" />
<meta name="msapplication-TileImage" content="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-270x270.png" />
		<style type="text/css" id="wp-custom-css">
			#schneier_promotion-2 img {
    max-width: 180px;
}		</style>
		</head>

<body class="post-template-default single single-post postid-3712 single-format-standard theme-schneier woocommerce-no-js">

	<div id="wrapper">
		<div id="main">

			<header>
				<div id="header">
					<h1>
						<a href="https://www.schneier.com/" rel="home">
							Schneier on Security						</a>
					</h1>
				</div>
			</header>

			<nav>
				<div class="nav" id="header-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-50175" class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li id="menu-item-50916" class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li id="menu-item-50166" class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li id="menu-item-50169" class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li id="menu-item-50170" class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li id="menu-item-50171" class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li id="menu-item-50167" class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li id="menu-item-50174" class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>

			
<aside>
	<div class="sidebar" id="sidebar-one">
		<section><div class="sidesection widget widget_schneier_search" id="schneier_search-3"><h3>Search</h3>
<p class="small">
	<em>Powered by <a href="https://duckduckgo.com/">DuckDuckGo</a></em></p>

<form method="get" action="https://duckduckgo.com/">

	<input type="hidden" name="kh" value="1" /><!-- use https -->

	<input id="search" name="q" size="15" maxlength="255" />

	<input type="submit" value="Go" /><br>

	<input type="radio" name="sites" id="searchblog" value="www.schneier.com/blog" />
	<label for="searchblog">Blog</label>

	<input type="radio" name="sites" id="searchessays" value="www.schneier.com/essays" />
	<label for="searchessays">Essays</label>

	<input type="radio" name="sites" id="searchall" value="www.schneier.com" checked="" />
	<label for="searchall">Whole site</label>

</form>
</div></section><section><div class="sidesection widget widget_schneier_social" id="schneier_social-2"><h3>Subscribe</h3>
<div id="subscription-buttons">

	<a href="https://www.schneier.com/feed/atom"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/rss-32px.png" alt="Atom Feed" /></a><a href="https://www.facebook.com/bruce.schneier"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/facebook-32px.png" alt="Facebook" /></a><a href="https://twitter.com/schneierblog/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/twitter-32px.png" alt="Twitter" /></a><a href="https://www.amazon.com/Schneier-on-Security/dp/B0053HDDWW/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/kindle-32px.png" alt="Kindle" /></a><a href="https://www.schneier.com/crypto-gram"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/email-32px.png" alt="E-Mail Newsletter (Crypto-Gram)" /></a>
</div>
</div></section>	</div>
</aside>

			<div id="content">

				
		<p id="breadcrumbs">

			<a href="https://www.schneier.com">Home</a><a href="https://www.schneier.com/blog/archives/">Blog</a>		</p>

		
<article id="post-3712" class="post-3712 post type-post status-publish format-standard hentry category-uncategorized tag-hardware tag-internet tag-privacy tag-tor tag-web-privacy">

	<div class="article">

		<h2 class="entry">Tor Routers</h2>
		<p>Home routers that <a href="http://www.technologyreview.com/web/26981/">automatically run Tor</a>.</p>

		
			<p class="entry-tags">
				<span class="tags-links">Tags: <a href="https://www.schneier.com/tag/hardware/" rel="tag">hardware</a>, <a href="https://www.schneier.com/tag/internet/" rel="tag">Internet</a>, <a href="https://www.schneier.com/tag/privacy/" rel="tag">privacy</a>, <a href="https://www.schneier.com/tag/tor/" rel="tag">Tor</a>, <a href="https://www.schneier.com/tag/web-privacy/" rel="tag">web privacy</a></span>			</p>

		
		
		<p class="posted">
			<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html" rel="bookmark">Posted on December 31, 2010 at 6:14 AM</a>			•
			<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html#comments">45 Comments</a>		</p>

		<aside><div class="schneier-share share" data-uri="https://www.schneier.com/blog/archives/2010/12/tor_routers.html" data-title="Tor Routers" data-order="facebook twitter tumblr" data-social-share-privacy="true" /></aside>
	</div>

</article>


	<h3 id="comments">Comments</h3>

	
		<article class="comment even thread-even depth-1" id="comment-152294">

			<div class="comment by-muhammad-naveed-khurshid ">

				<p class="commentcredit">

					<span class="commenter">Muhammad Naveed Khurshid</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152294">
						December 31, 2010 6:22 AM					</a>

				</p>

				<p>I have noticed suspicious behaviour with my home routers in last couple of weeks. I think you are right.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152295">

			<div class="comment by-f-s ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://1ssa.net' rel='external nofollow ugc' class='url'>F S</a></span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152295">
						December 31, 2010 6:47 AM					</a>

				</p>

				<p>This puts a whole new set of questions out there:</p>
<ul>
<li>How do the ISPs like having TOR traffic going ind and out of their networks?
<ul>
<li>What are the legal aspects of this setup, being potentially a TOR endpoint?</li>
</ul>
</li>
</ul>
<p>In any case I would like to get my hands on the firmware and try it out.</p>
<p>Frank</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152296">

			<div class="comment by-bf-skinner ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.watchtheguild.com' rel='external nofollow ugc' class='url'>BF Skinner</a></span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152296">
						December 31, 2010 7:16 AM					</a>

				</p>

				<p>@Frank</p>
<p>ISPs make the common carrier argument so what&#8217;s xmited isn&#8217;t their concern but there are rules about log retention for LE purposes &#8230;these routers will really need a close audit.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152297">

			<div class="comment by-kiran ">

				<p class="commentcredit">

					<span class="commenter">Kiran</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152297">
						December 31, 2010 7:51 AM					</a>

				</p>

				<p>I&#8217;m curious about your opinion on this <a href="http://sheddingbikes.com/posts/1293530004.html" rel="nofollow ugc">http://sheddingbikes.com/posts/1293530004.html</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152298">

			<div class="comment by-kiran ">

				<p class="commentcredit">

					<span class="commenter">Kiran</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152298">
						December 31, 2010 7:53 AM					</a>

				</p>

				<p>in short the blogpost is conspiracy theory that Tor is a NSA project and Big Brother is using it to specifically to track people who dont want to be tracked. Is there an credibility in that argument?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152299">

			<div class="comment by-andre-leplume ">

				<p class="commentcredit">

					<span class="commenter">Andre LePlume</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152299">
						December 31, 2010 8:07 AM					</a>

				</p>

				<p>@Kiran</p>
<p>No.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152300">

			<div class="comment by-tobi ">

				<p class="commentcredit">

					<span class="commenter">tobi</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152300">
						December 31, 2010 8:12 AM					</a>

				</p>

				<p>It gets really funny once a remote exploit is found on these devices and 10% of all households have one.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152301">

			<div class="comment by-morten ">

				<p class="commentcredit">

					<span class="commenter">Morten</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152301">
						December 31, 2010 8:23 AM					</a>

				</p>

				<p>Conspiracy theories aside, I wonder how many Tor clients are actually owned by TLAs? IMO it would make sense for them to at least have a small ear to the ground there, just to get a feel for what&#8217;s being transmitted.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152302">

			<div class="comment by-rf ">

				<p class="commentcredit">

					<span class="commenter">RF</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152302">
						December 31, 2010 9:24 AM					</a>

				</p>

				<p>I tried Tor over a year ago and found it horrible because of how much is slowed down my browsing.  That being said, I think this article makes a statement that is not true.  The article states that Tor is used to encrypt what users do on the internet.  I thought that Tor does not encrypt anything; however, does allow anonymity.  As a matter of fact, wasn’t there an article a while ago about how users could spy on content passing through Tor routers?  Users didn’t know where the traffic came from; however, because it wasn’t encrypted, it could easily be read.<br />
Am I wrong here?  Does Tor automatically encrypt traffic?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152303">

			<div class="comment by-martin ">

				<p class="commentcredit">

					<span class="commenter">Martin</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152303">
						December 31, 2010 9:36 AM					</a>

				</p>

				<p>@RF</p>
<p>Yes, Tor encrypts traffic, but maybe not as you would expect. Consider the following example:</p>
<p>Your Tor client selects two intermediate nodes and one exit node for routing the traffic. The plaintext data and the plaintext destination address is first encrypted with the key of the exit node (node 3):</p>
<p>E3(Plaintext)</p>
<p>The encrypted packet and the address of the exit node is then encrypted with the key of the second intermediate node:</p>
<p>E2(E3(Plaintext))</p>
<p>Finally, this double encrypted packet and the address of node 2 is encrypted with the key of the first node:</p>
<p>E1(E2(E3(Plaintext)))</p>
<p>Your Tor client forwards this packet to node 1. Node 1 decrypts the outer layer:</p>
<p>E2(E3(Plaintext))</p>
<p>Node 1 then forwards the packet to node 2. Node 2 decrypts the outer layer:</p>
<p>E3(Plaintext)</p>
<p>Node 2 forwards the packet to node 3. Node 3 decrypts the plaintext packet and forwards it to the destination:</p>
<p>Plaintext</p>
<p>As you can see, node 3 (the exit node) can read the plaintext unless you use end-to-end encryption in addition to Tor. However, unless the plaintext contains information that identifies you or your computer, node 3 does not know from whom it received the plaintext.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152304">

			<div class="comment by-atk ">

				<p class="commentcredit">

					<span class="commenter">atk</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152304">
						December 31, 2010 9:37 AM					</a>

				</p>

				<p>@RF From the wikipedia article on Tor:</p>
<p>The Tor software periodically negotiates a virtual circuit through the Tor network, using multi-layer encryption, ensuring perfect forward secrecy&#8230;</p>
<p>Once inside a Tor network, the traffic is sent from router to router, ultimately reaching an exit node at which point the cleartext  packet is available and is forwarded on to its original destination. Viewed from the destination, the traffic appears to originate at the Tor exit node.</p>
<p>..</p>
<p>Tor cannot and does not attempt to protect against monitoring of traffic at the boundaries of the Tor network, i.e., the traffic entering and exiting the network. While Tor does provide protection against traffic analysis, it cannot prevent traffic confirmation (also called end-to-end correlation)</p>
<p>&#8230;</p>
<p>As Tor does not, and by design cannot, encrypt the traffic between an exit node and the target server, any exit node is in a position to capture any traffic passing through it which does not use end-to-end encryption such as TLS</p>
<p>&#8230;</p>
<p>Nonetheless, Tor and the alternative network system JonDonym (JAP) are considered more resilient than alternatives such as VPNs. Were a local observer on an ISP or WLAN to attempt to analyze the size and timing of the encrypted data stream going through the VPN, TOR or JonDo system, the latter two would be harder to analyze as demonstrated by a 2009 study.[</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152305">

			<div class="comment by-tj ">

				<p class="commentcredit">

					<span class="commenter">TJ</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152305">
						December 31, 2010 9:38 AM					</a>

				</p>

				<p>Tor encrypts between nodes, but not from the endpoints- so the first and second nodes you hit don&#8217;t know what you are seeing, but the exit node can and usually does spy on what you are doing. You can use https to mitigate this somewhat &#8211; there are some attacks that involve replacing the ssl certificates with one of your own, but in general browsing https over Tor is much safer.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152306">

			<div class="comment by-msb ">

				<p class="commentcredit">

					<span class="commenter">MSB</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152306">
						December 31, 2010 9:42 AM					</a>

				</p>

				<p>I&#8217;m pretty sure all nodes in the chain are encrypted, except the last node, which has to make your actual request. Since the last node is effectively acting as you, it could &#8220;view&#8221; your requests. But remember, the last node doesn&#8217;t know who &#8220;you&#8221; are unless something about the data or request identifies &#8220;you&#8221;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152307">

			<div class="comment by-martin ">

				<p class="commentcredit">

					<span class="commenter">Martin</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152307">
						December 31, 2010 9:45 AM					</a>

				</p>

				<p>@atk<br />
&#8220;As Tor does not, and by design cannot, encrypt the traffic between an exit node and the target server, any exit node is in a position to capture any traffic passing through it which does not use end-to-end encryption such as TLS&#8221;</p>
<p>Using TLS, however, can have unintended consequences. TLS can use public-key certificates that contain your identity as part of the authentication process. Password-based authentication protocols usually transmit the user name in the clear. This means that end-to-end authenticated encryption in many cases will break the anonymity protection of Tor, since the exit node can read the public key certificate and/or user name used for authentication.</p>
<p>It is possible to construct protocols that preserve both anonymity, authenticity and confidentiality, but using standard Internet protocols such as TLS together with Tor might not give you the intended results.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152308">

			<div class="comment by-albino ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.skeletonscribe.blogspot.com' rel='external nofollow ugc' class='url'>albino</a></span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152308">
						December 31, 2010 9:51 AM					</a>

				</p>

				<p>@tobi &#8220;It gets really funny once a remote exploit is found on these devices and 10% of all households have one.&#8221;</p>
<p>Have you checked out your own router&#8217;s security? The only reason routers haven&#8217;t been hacked to pieces is because they&#8217;re all different. Polyculture and all that.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152309">

			<div class="comment by-atk ">

				<p class="commentcredit">

					<span class="commenter">atk</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152309">
						December 31, 2010 10:02 AM					</a>

				</p>

				<p>@Martin: Yes, that&#8217;s a well known limitation of Tor.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152310">

			<div class="comment by-geek-prophet ">

				<p class="commentcredit">

					<span class="commenter">Geek Prophet</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152310">
						December 31, 2010 10:08 AM					</a>

				</p>

				<p>@ Kiran</p>
<p>There is no credibility to the rumors.</p>
<p>The software is open source, and not terribly complex, either. It is easy to examine, and does not appear to have any back doors.</p>
<p>There are two ways to show credibility to such a rumor. First, an actual source who is &#8220;in the know&#8221;, or at least who has credibility in the field. There is no such source. Second, technical expertise to show that it is true, or at least demonstrate that it is likely. If this were the case, there would be no &#8220;rumor&#8221;, there would be an exposé.</p>
<p>Now, does this mean that the NSA isn&#8217;t trying to spy on Tor traffic? Of course they are. It&#8217;s their <em>job</em>. If they are not, they should be fired.</p>
<p>But they would have to be incompetent to try to put a back door in the project. It would be too difficult (because the incoming code is reviewed before it is added to the project), too easy to catch (open source, popular and well-scrutinized), and would, once found, ruin a project currently used by US authorities for their own purposes.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152311">

			<div class="comment by-rf ">

				<p class="commentcredit">

					<span class="commenter">RF</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152311">
						December 31, 2010 10:46 AM					</a>

				</p>

				<p>Everyone:  Thanks for the clarification on encryption w/ Tor.  Bottom line: While Tor does provide anonymity,  it does not provide point to point encryption.  Exit node sniffing is a threat.  Thanks.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152312">

			<div class="comment by-geek-prophet ">

				<p class="commentcredit">

					<span class="commenter">Geek Prophet</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152312">
						December 31, 2010 11:06 AM					</a>

				</p>

				<p>@ Kiran</p>
<p>He doesn&#8217;t know what an &#8220;ad hominem&#8221; argument is, and produces a straw-man argument to make it look like he does and has proven it false. He ignores the obvious reasons the US Navy released the Tor code (it is utterly useless unless it is used by a lot of people <em>utterly unrelated to you</em>, the more the better), and declares without evidence that there has to be other secret reasons why it was released. He slanders the people who first worked on Tor after the Navy (&#8220;NSA collaborators&#8221;), without the slightest evidence, as if his suspicions make things true. He tells us irrelevant things, like the fact that probably bogus accusations made recently scared people, as if the fact that people can be frighten by crap accusations make his crap accusations more valid. He points out that there is a code challenge to make hard to detect malicious code, while not mentioning how hard it is to insert it and remain undetected in actual use. And all of this is full of utterly unsubstantiated paranoia that he tells us is obviously true.</p>
<p>So, all in all, I&#8217;m not impressed. Poor logic touted as if it proved he was smarter than those who actually created formal logic, paranoid ramblings stated as facts, and slander. I&#8217;m going to ignore him.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152313">

			<div class="comment by-spaceman-spiff ">

				<p class="commentcredit">

					<span class="commenter">spaceman spiff</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152313">
						December 31, 2010 11:10 AM					</a>

				</p>

				<p>Very cool. Unfortunately the article doesn&#8217;t say where one can get one, or if not yet available, when/where they will be. Oh well. It is interesting in any case. Thanks for the article link.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152314">

			<div class="comment by-rsx ">

				<p class="commentcredit">

					<span class="commenter">RSX</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152314">
						December 31, 2010 11:22 AM					</a>

				</p>

				<p>Running an exit-node for Tor is one of the sure-fire ways to guarantee anonymity on the net, so sayeth the Tor team.<br />
Problem with Tor, that I found and hence why I dont use it, is its too slow and the programs needed to use it are bloatware. You need like, 3 programs running to use it, plus an add-on in firefox. Plus remember that if anything happens because of a bad-apple on that network, and you arent running an exit node, they could have your ip address on file somewhere. There&#8217;s also been a few reported cases of exit-node owners spying on their clients using the service.<br />
VPN&#8217;s are nice and dont require any installations, I know Itshidden has received good reviews, and openvpn is another good service, and its also open source. Ultravpn is another good one.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152315">

			<div class="comment by-daniel-siders ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://danielsiders.com' rel='external nofollow ugc' class='url'>Daniel Siders</a></span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152315">
						December 31, 2010 11:43 AM					</a>

				</p>

				<p>I&#8217;m also interested in your perspective on ZS&#8217;s <a href="http://sheddingbikes.com/posts/1293530004.html" rel="nofollow ugc">http://sheddingbikes.com/posts/1293530004.html</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152316">

			<div class="comment by-greensquirrel ">

				<p class="commentcredit">

					<span class="commenter">GreenSquirrel</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152316">
						December 31, 2010 11:50 AM					</a>

				</p>

				<p>Mildly interesting.</p>
<p>As others have pointed out, TOR tends to discourage users because it means your system grinds to a halt. If this can be avoided then maybe more people would be interested in running it.</p>
<p>(and as with lots of things, the more people who use it, the better it is for everyone)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152317">

			<div class="comment by-andre-leplume ">

				<p class="commentcredit">

					<span class="commenter">Andre LePlume</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152317">
						December 31, 2010 12:13 PM					</a>

				</p>

				<p>@spaceman</p>
<p>Looks like it will be a fork of the OpenWRT code, and will run on Buffalo gear.  The Buffalo stuff is available at, for example, Fry&#8217;s.  I assume the Tor people will publicize a download location for the modified firmware.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152318">

			<div class="comment by-s ">

				<p class="commentcredit">

					<span class="commenter">S</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152318">
						December 31, 2010 12:25 PM					</a>

				</p>

				<p>&#8220;It is possible to get around such a block, however, by configuring the Tor software to act as a &#8220;bridge,&#8221; or a private relay, that can only be discovered by word of mouth. A Tor router can also act as a bridge, and Appelbaum is considering making that a default setting.&#8221;</p>
<p>This isn&#8217;t really true. Tor doesn&#8217;t have scanning resistance, so opening tons of bridges just means China will begin scanning for bridges by connecting to common Tor ports and asking &#8220;Are you Tor?&#8221; Then they just block those ips. While it&#8217;s definitely more expensive to do this, I don&#8217;t believe it&#8217;s out of the realm of possibilities.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152319">

			<div class="comment by-hello ">

				<p class="commentcredit">

					<span class="commenter">Hello</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152319">
						December 31, 2010 1:11 PM					</a>

				</p>

				<p>People:</p>
<p>(a) Tor is hardly a resource hog compared to anything else that might run on your system.</p>
<p>@RSX: you certainly do not &#8220;need like, 3 programs running to use it, plus an add-on in firefox.&#8221;</p>
<p>(b) Tor is hardly a bandwidth hog: you can limit the maximum and average bandwidth usage within tor configuration (as far as I recall). But, even if you couldn&#8217;t, you could still use QOS on any decent router to prioritize your web browsing, etc.</p>
<p>This isn&#8217;t rocket science, it&#8217;s traffic shaping.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152320">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152320">
						December 31, 2010 1:12 PM					</a>

				</p>

				<p>@ Bruce</p>
<p>People have been building Tor routers for a while now. I&#8217;m surprised the main group is just now getting around to this. A nice example of existing work is the Gumstix Tor appliance: plug open internet in one end and your system in the other, then it transparently moves everything through Tor.</p>
<p>Original Board<br />
<a href="http://hackaday.com/2008/12/21/tor-hardware-privacy-adapter/" rel="nofollow ugc">http://hackaday.com/2008/12/21/tor-hardware-privacy-adapter/</a></p>
<p>Resulting Commercial Product<br />
<a href="http://www.januspa.com/" rel="nofollow ugc">http://www.januspa.com/</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152321">

			<div class="comment by-okian-warrior ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://OkianWarrior.com' rel='external nofollow ugc' class='url'>okian Warrior</a></span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152321">
						December 31, 2010 2:01 PM					</a>

				</p>

				<p>The blog pointed out that if an entity owns all the nodes in the selected TOR route, then it is relatively easy to connect the dots and monitor usage.</p>
<p>People have supposed that the NSA and such run a large number of TOR nodes in order to catch a statistically large number of complete TOR routes in their system.</p>
<p>The blog also mentions &#8220;Project Vigilant&#8221; with 600-1500 volunteers, who are all hackers.</p>
<p>Since non-honeypot TOR routers are uncommon, the likelihood is that virtually all TOR traffic is vulnerable.</p>
<p>It&#8217;s a chicken-and-egg problem at present.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152322">

			<div class="comment by-martin ">

				<p class="commentcredit">

					<span class="commenter">Martin</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152322">
						December 31, 2010 2:53 PM					</a>

				</p>

				<p>This kind of router might actually solve one problem I have at the moment:</p>
<p>I would like to share my wireless network with others (tourists, passers-by, neighbors), but in the current legal and political climate I do not want to deal with the hassle of someone using that connection for illegal purposes. I do not want the police to confiscate my computers and routers because someone else did something illegal.</p>
<p>If I could easily set up a bandwidth-limited, public wifi network that routes all traffic through Tor then I&#8217;ll share my wireless network for the benefit of the community.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152323">

			<div class="comment by-richard-steven-hack ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.computerproblemssolvedcheap.com' rel='external nofollow ugc' class='url'>Richard Steven Hack</a></span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152323">
						December 31, 2010 3:26 PM					</a>

				</p>

				<p>okian Warrior: &#8220;People have supposed that the NSA and such run a large number of TOR nodes in order to catch a statistically large number of complete TOR routes in their system.&#8221;</p>
<p>This would be an obvious approach. It agrees with the FBI&#8217;s method of essentially creating terrorists in order to justify their careers. It also agrees with the basic counterintel method of using double agents.</p>
<p>It seems to be this could be avoided if one uses the same techniques used to create botnets on unsuspecting users computers in order to create a TOR net known only to oneself.</p>
<p>&#8220;The blog also mentions &#8220;Project Vigilant&#8221; with 600-1500 volunteers, who are all hackers.&#8221;</p>
<p>I&#8217;m still not sure whether this group actually exists. At the time it was revealed there was considerable controversy over whether it did and who in fact was a member.</p>
<p>&#8220;Since non-honeypot TOR routers are uncommon, the likelihood is that virtually all TOR traffic is vulnerable. It&#8217;s a chicken-and-egg problem at present.&#8221;</p>
<p>Agreed. It represents the basic problem of trusting someone other than yourself to provide a security solution for you. This almost never works except possibly on the level of basic hardware like a lock. Either that or you have to spend a really significant amount of money to get individual service you can trust based on the reputation of the service provider like, say, a Swiss bank.</p>
<p>I would say the best way to get anonymity on the Internet at this point is to be able to spoof every byte that leaves your machine so that it is sanitized of any identifying information &#8211; possibly even including your pattern of use &#8211; and then route it through services or individuals known to you that you trust to be secure themselves or machines that you have some (anonymous) control over that cannot be connected to you. And of course any IP traceback should resolve to a wireless location at which you are no longer physically present (and won&#8217;t use a second time.)</p>
<p>If I were to be a hacker, this is the sort of setup I would use. Otherwise it&#8217;s just a matter of time before you&#8217;re compromised &#8211; unless your hacking is too petty to be considered worth chasing down by the authorities.</p>
<p>This is why identity theft is a highly profitable crime. The Feds can&#8217;t pursue any case not costing someone at least $10,000 and indeed most cases are only desultorily pursued unless the loss is $100,000. Keep your crimes under $10,000 and the odds of capture and conviction have been estimated at 700-1000 to one.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152324">

			<div class="comment by-rsx ">

				<p class="commentcredit">

					<span class="commenter">RSX</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152324">
						December 31, 2010 5:29 PM					</a>

				</p>

				<p>@RSX: you certainly do not &#8220;need like, 3 programs running to use it, plus an add-on in firefox.&#8221;</p>
<p>If you dont want to use the browser version (Which means an entire new browser just for that purpose), you need the Vidalia Bundle @ 8.5mb. Which has Vidalia, Tor, Polipo, and Torbutton.<br />
So it&#8217;s actually 4-in-1, not three.<br />
There are more efficient ways to achieve a better form of protection.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152325">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152325">
						December 31, 2010 8:22 PM					</a>

				</p>

				<p>@ Richard Steven Hack</p>
<p>Nice post. Most crooks actually use something more like ur method. The common choice is using neighborhood wifi with privoxy, MAC changer, and RAM based linux livecd. Private Tor-like networks are a possibility but Freenet is currently the favorite friend-to-friend protocol for anonymity.</p>
<p>Another recent trend is using botneted computers as disposable proxies, with the first relay being a wifi hotspot as described above.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152326">

			<div class="comment by-sw ">

				<p class="commentcredit">

					<span class="commenter">SW</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152326">
						January 1, 2011 5:38 AM					</a>

				</p>

				<p>@RSX: The presence of 4 combined packages is a convenience, not a necessity.</p>
<p>Tor itself is a SOCKS4a proxy; you can configure every browser I know of to use SOCKS4 for outgoing connections. That&#8217;s all that&#8217;s required for basic functionality.</p>
<p>If you want to mask DNS requests via Tor as well (seeing SOCKS4 is IP level), then you need something that can do SOCKS4a, which is where Polipo fits. It&#8217;s an optional way of proxying normal HTTP/HTTPS connections to SOCKS4a rather than the SOCKS4 that browsers do without additional software.</p>
<p>Vidalia is a control panel. Edit the torrc file yourself if you don&#8217;t want it. Or use the default which is ok for a localhost only setup.</p>
<p>Torbutton is a plugin to make it easier to turn proxying on/off in the browser. Or you can use FoxyProxy. Or you can write your own autoproxy.pac file in Javascript and do whatever you like. Completely optional.</p>
<p>I use tor on my border as part of the web proxying stack. No polipo, no torbutton, no vidalia. The web proxying stack is a mess, because SOCKS support in squid is nonexistent, so I use 3proxy instead of polipo.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152327">

			<div class="comment by-mashiara ">

				<p class="commentcredit">

					<span class="commenter">mashiara</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152327">
						January 1, 2011 1:20 PM					</a>

				</p>

				<p>the &#8220;performance problems&#8221; (in my experience) of Tor come from the fact the the network is choked for bandwidth (not enough exit nodes or bandwidth between nodes, also your basic consumer grade connection tends to have very limited upstream bandwidth) and of course latency can add up when your requests bounce around the world.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152328">

			<div class="comment by-dirk-praet ">

				<p class="commentcredit">

					<span class="commenter">Dirk Praet</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152328">
						January 1, 2011 6:42 PM					</a>

				</p>

				<p>Nice Christmas present for your less computer literate loved ones. Would probably be a hit on Thinkgeek too. Torifying your traffic does come in handy from time to time. I&#8217;m using Tor and Vidalia in combination with Privoxy on some of my machines, and it works like a charm.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152329">

			<div class="comment by-okian-warrior ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://OkianWarrior.com' rel='external nofollow ugc' class='url'>Okian Warrior</a></span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152329">
						January 2, 2011 12:36 PM					</a>

				</p>

				<p>Some observations of reality.</p>
<p><em>Browsing</em> using tor can be done from one simple package called &#8220;Tor Browser&#8221;. It&#8217;s a directory, not an install, and it includes everything you need in one place.</p>
<p>Throw that on your hard disk, or onto a thumb drive and you&#8217;re good to go. One click starts up everything, the included browser goes immediately to the &#8220;Tor test&#8221; page to let you know it&#8217;s working.</p>
<p>The included browser is configured to avoid pitfalls that Tor was not designed to handle &#8211; it doesn&#8217;t store cookies, doesn&#8217;t execute javascript or plugins, doesn&#8217;t keep history, and so on.</p>
<p>It&#8217;s a complete package for anonymous browsing that&#8217;s easy to install and starts up with 1 click.</p>
<p>If you want to run a Tor <em>router</em> so that other people can browse, that&#8217;s a different story. Last I checked was a year ago, but the install and configuration was complex, and I just-didn&#8217;t-want-to-spend-the-time-to-learn-yet-another system of options and issues. Eventually you just get tired of having to learn all this stuff.</p>
<p>As to legal aspects, news articles I&#8217;ve read suggest that running a Tor router or an open wireless access point actually <em>helps</em> your legal position, at least in the US. If the police don&#8217;t find incriminating evidence on the hard drive, you can claim that the infringing behaviour was actually someone else using your system.</p>
<p>There are recent cases of people doing just that &#8211; for instance using someone else&#8217;s internet access to make threatening posts &#8211; which adds to &#8220;reasonable doubt&#8221;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152330">

			<div class="comment by-derek ">

				<p class="commentcredit">

					<span class="commenter">Derek</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152330">
						January 2, 2011 6:17 PM					</a>

				</p>

				<p>TOR&#8217;s hidden services are a haven for illegal child porn. Glad I run a hacked TOR node designed to inject javascript to show me the IP of the source.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152331">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152331">
						January 2, 2011 8:30 PM					</a>

				</p>

				<p>@ Kiran,</p>
<p>With regards &#8220;sheddingbikes&#8221;, I&#8217;m not sure what their actual issue is, but it has the hallmarks of a veiled attack on an individual (that is a specific person is named who has TOR &amp; Wikileaks connection).</p>
<p>However it needs to be said TOR has many problems.</p>
<p>The first main issue (1) is most users do not understand how it works and make false assumptions about what it potentially does for them.</p>
<p>The second main issue (2) is TOR as currently implemented does not provide as much protection as you would expect.</p>
<p>The third main issue (3) is that the Internet topology is not what people assume it is.</p>
<p>The implications of the first issue are very many and put simply people are going to get hurt by them. There is not enough space to mention even a few of the implications but the important one is to remember TOR is effectivly a &#8220;many to one&#8221; protocol. That is you get to chose many inputs to use but the destination service protocol usually requires just one output either per connection or worse per session.</p>
<p>Which means things like Man in The Middle (MiTM) attacks still work provided they are between the exit point and the service in use. Now one assumption most people have is that if they are going to be &#8220;observed&#8221; by a three letter agency (TLA) the agency is going to be looking specifficaly at them that is at their IP address. Whilst this might be true for a local Law Enforcment Agency (LEA) such as the police in reality the oposit is likley to be the case for the likes of the NSA.</p>
<p>This alows them to do various forms of traffic analaysis which can strip TOR&#8217;s obsfication routing right off, which brings you into the second major isssue&#8230;</p>
<p>There are quite a few ways a major TLA can do this because TOR is not a store and forward anonymity network (AN) and worse it also tries to achieve a low latency.</p>
<p>However I&#8217;m going to describe the least likley method as it&#8217;s easiest to visualize and also the easiest to fix. And some of the fixes I&#8217;m going to suggest have some very interesting further implications for Privacy Enhancing Techniques (PET) and the reduction of the effectivness of Traffic Flow Analysis (TFA).</p>
<p>When you make a connection to a webserver that a major TLA has under observation. Although your request to the server might only be a single packet (actually quite unlikley) the reply from the server might be many many packets for many different objects. The number of part and full packets for each object and the number of objects provides a partial &#8220;fingerprint&#8221; for the page. Due to the low latency of TOR this fingerprint remains fairly intact at your Internet Service Provider (ISP) within a very small time window. Thus as ISP&#8217;s are required to keep logs of connections (but usually not content) a sufficiently fine grained time for each packet will enable the latent partial fingerprint of the page to be seen. Over a fairly short period of your usage of the website the TLA will have enough latent fingerprint matches to be able to say with a very very high degree of certainty which requests where yours. And if the so wished very easily convince a judge and jury of this fact.</p>
<p>Even with packet stuffing and other size changing tricks there are various other ways of generating fingerprints such as fuzzing the network latency using Direct Sequence Spread Spectrum (DSSS) techniques to make One Time Watermarks that are provably unique for each webpage request.</p>
<p>The fingerprints are to traffic analysis what plain text statistics are to cryptanalysis, and the likes of the NSA GCHQ et al are experts at this and have been for over seventy years. They have also employ the majority of the pure and applied maths graduates that have worked in this area untill quite recently (now the likes of Google are offering beter renumeration packages).</p>
<p>Thus TOR as an AN is not that good at obsficating it&#8217;s main use of interactive web browsing&#8230;.</p>
<p>There are a number of ways to fix this one of which is to up the latency and add significant time jitter to it within the AN it&#8217;s self. Effectivly this further obsficates the web page statistics but does not remove them. It&#8217;s the TFA equivalent of the cryptographic fix of using AES as opposed to DES. However it has a major downside in that it degrades user experiance in an almost linear relationship to the increase in obsfication.</p>
<p>Another simple way to remove the externaly fingerprint is to put the webservice in the AN it&#8217;s self in some way (although without care this does not prevvent a fingerprint being formed).</p>
<p>One potential trick to do this is to make the webserver it&#8217;s self TOR aware that is it sends responses to page requests over multiple TOR input nodes, thus making the client server relationship many to many. However this would put a large load on the server.</p>
<p>More effectivly is to look at ways to make the AN effectivly a store and forward network.</p>
<p>This can be by putting web caches within ANs so that you only get the &#8220;deltas&#8221; of dynamic webpages and static web page requests come from the cache not the webservice so no directly correlateable fingerprint is seen on the user side from the web server side.</p>
<p>Another method which I&#8217;ve not seen explicitly mentioned by anybody else anywhere is to decentralise the webservice. That is to take a leaf out of the P2P network book and put each &#8220;object&#8221; in many different places in many small parts, likewise the webservice pages (this would make a nice PhD project). This then makes the relationship &#8220;many to many&#8221; not TORs current &#8220;Many to One&#8221;. This effectivly destroys any fingerprint because of the 0.5(n^2-n) issue on the number of objects or part objects in the decentralised web service.</p>
<p>The third major issue is one that makes TFA so much easier than expected. Many people assume that the Internet is a web of many possible routes via thousands of nodes. The reality is very much different the Internet consists of a few major back bones and nodes owned and operated by very few companies.</p>
<p>Thus without care you could be using many TOR nodes that are all in one network providers network and thus they can see and easily monitor all entry and exit points&#8230;</p>
<p>Provided you understand the limitations of TOR as an AN and work within them then you are not likley to have you privacy stripped away.</p>
<p>However if you don&#8217;t understand the limitations you can have your privacy stripped away by the use of TFA on ISP and network operator logs not just at the time of usage but long into the future.</p>
<p>Now one of the things we do know about the NSA is they never throw anything away and they grab every piece of information they can. The issue with this is that even though there might not currently be a TFA technique that can be used against TOR there almost certainly will be in the future as resources become available to develop one. So those logs are sitting there like so many little file boxes simply awaiting someone to come along and look through them&#8230;</p>
<p>At present I would say TOR as an AN has a very long way to go befor it can be considered for anything that might get you more than a slap on the wrist. However this not just a TOR issue it is true of many ANs currently.</p>
<p>The reason for this is TOR is just one very small part of the solution, that is it&#8217;s just one small cog in the PET machine. PET needs to be applied at all levels of the stack at all points to be effective against the likes of TFA and we are a long way away from it currently.</p>
<p>Further de-anonymisation is a branch of analytical techniques that has been a bit of a back water because there has not been much &#8220;commercial&#8221; advantage in it. This is nolonger true and the field is advancing very rapidly and is now offering very good renumeration packages to those who can &#8220;cut the mustard&#8221;.</p>
<p>I&#8217;m going to stick my neck out a little bit and make a prediction as it&#8217;s new year 😉</p>
<p>Somebody very soon is going to realise the potential of TFA and other de-anonymisation techniques when allied to covert &#8220;bot nets&#8221; to negate PET such as ANs (if they have not already).</p>
<p>This is likely to be by some small startup that uses malware of the form of a &#8220;backdoored / trojaned&#8221; app (see proto class action law suits filed against Apple last month) or as a series of zero day attacks based on the AN (think those RIAA inspired companies who have gone afterfile P2P file sharers).</p>
<p>For instance the malware being of a form that adds a covert side channel to add a unique fingerprint or watermark to all your network traffic via say via adding jitter to your network packet times that can be seen in say Googles or other major services server logs etc that are currently available in &#8220;anonymised&#8221; format.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152332">

			<div class="comment by-jonadab-the-unsightly-one ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://mistersanity.blogspot.com' rel='external nofollow ugc' class='url'>Jonadab the Unsightly One</a></span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152332">
						January 4, 2011 11:08 AM					</a>

				</p>

				<blockquote><p>
  (and as with lots of things, the more people<br />
  who use it, the better it is for everyone)
</p></blockquote>
<p>How does that work, exactly?</p>
<p>Tor&#8217;s properties, as I understand them, are such that increasing the number of nodes doesn&#8217;t really improve the system much.</p>
<p>Okay, you could argue that the level of anonymity provided would be improved by an increase in the number of nodes, but the level of anonymity provided isn&#8217;t one of Tor&#8217;s weaknesses.  Tor suffers from performance lag and from a lack of encryption at the endpoints, and adding more nodes won&#8217;t fix these things.  Adding more nodes only fixes the part of the system that isn&#8217;t broken.</p>
<p>The lack of encryption won&#8217;t change, because that&#8217;s inherent to the design of the system.</p>
<p>Performance isn&#8217;t improved either, because the ratio of traffic to nodes will be (about) the same.  In fact, if the routers are low-end hardware, they could have the net effect of significantly worsening performance in the average case, because the average node won&#8217;t be able to handle as much traffic as fast.</p>
<p>So I&#8217;m not sure how Tor will be &#8220;better for everyone&#8221; if there are more nodes.  Can you explain the reasoning that leads you to that conclusion?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152333">

			<div class="comment by-alcam ">

				<p class="commentcredit">

					<span class="commenter">Alcam</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152333">
						January 4, 2011 8:20 PM					</a>

				</p>

				<p>@SW<br />
Torbutton doesn&#8217;t just flip the proxy on or off, it does things like disable javascript, iframes etc. Right click on it and check the preferences for all the stuff it does. I&#8217;ve used FoxyProxy in the past and am not sure if it does all the same things.</p>
<p>As I understand it Torbutton is the recommended method due to it&#8217;s turning off the items that can cause information/IP leaking.</p>
<p>@RSX<br />
Are you sure you aren&#8217;t thinking of the network itself rather than the software? The network tends to be rather slow and unless I&#8217;m serious about wanting my privacy I generally don&#8217;t use it because of that.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152334">

			<div class="comment by-henrik-holst ">

				<p class="commentcredit">

					<span class="commenter">Henrik Holst</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152334">
						January 6, 2011 9:42 PM					</a>

				</p>

				<p>&#8220;So I&#8217;m not sure how Tor will be &#8220;better for everyone&#8221; if there are more nodes. Can you explain the reasoning that leads you to that conclusion?&#8221;</p>
<p>Shouldn&#8217;t these routes be configured as exit nodes per default? If so that explains why they would improve the network.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152335">

			<div class="comment by-elegie ">

				<p class="commentcredit">

					<span class="commenter">Elegie</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152335">
						January 8, 2011 11:52 AM					</a>

				</p>

				<p>In certain situations, such as Wikipedia vandalism, it might seem that the Tor service is almost too good in some respects i.e. there has been the issue of blocking Tor exit nodes from editing Wikipedia articles.</p>
<p>For more information:</p>
<p>Editing with Tor &#8211; Meta<br />
<a href="http://meta.wikimedia.org/wiki/Editing_with_Tor" rel="nofollow ugc">http://meta.wikimedia.org/wiki/Editing_with_Tor</a></p>
<p>TheOnionRouter/Wikipedia – Tor Bug Tracker &amp; Wiki<br />
<a href="https://trac.torproject.org/projects/tor/wiki/TheOnionRouter/Wikipedia" rel="nofollow ugc">https://trac.torproject.org/projects/tor/wiki/TheOnionRouter/Wikipedia</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152336">

			<div class="comment by-john ">

				<p class="commentcredit">

					<span class="commenter">John</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152336">
						January 13, 2011 12:24 PM					</a>

				</p>

				<p>@Derek &#8220;Glad I run a hacked TOR node designed to inject javascript to show me the IP of the source.&#8221;</p>
<p>You must be quite disappointed that all the IPs you collect are 127.0.0.1</p>
<p>Explain to us how your javascript shows the originating IP of a Tor hidden service, given that at least 6 onion-routed nodes are involved in connecting to a .onion address?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-152337">

			<div class="comment by-kevin-carson ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://desktopregulatorystate.wordpress.com' rel='external nofollow ugc' class='url'>Kevin Carson</a></span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152337">
						January 22, 2012 6:12 PM					</a>

				</p>

				<p>Kiran:  It&#8217;s quite conceivable some geek in the bowels of the national security state would come up with such an idea.  But can you imagine their difficulty selling it to the pointy-haired bosses in the national security community?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-152338">

			<div class="comment by-rumbleseed ">

				<p class="commentcredit">

					<span class="commenter">rumbleseed</span> •

					<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/#comment-152338">
						July 19, 2014 1:07 PM					</a>

				</p>

				<p>Tor is awful and using it is deceiving.  Downloading and using the TOR bundle leaves many identifiable and trackable signals.  These holes need to be closely monitored and patched regularly, which they are not.  The problem lies not in the TOR network, but the TOR Browser that gives your anonymity away.<br />
So far, the best solution for anon surfing is JONDOS and the associated browser config.</p>
<p>Jack</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

	<p class="subscribe-comments">
		<a href="https://www.schneier.com/blog/archives/2010/12/tor_routers.html/feed/">
			<img alt="Atom Feed" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/rss.png">
			Subscribe to comments on this entry		</a>
	</p>

		<div id="respond" class="comment-respond">
		<h2 class="comments-open-header">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/archives/2010/12/tor_routers.html#respond" style="display:none;">Cancel reply</a></small></h2><form action="https://www.schneier.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><a href="https://www.schneier.com/wp-login.php?redirect_to=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2010%2F12%2Ftor_routers.html" title="Login">Login</a><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" /></p>
<p class="comment-form-url"><label for="url">URL:</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Remember personal info?</label></p>

<p class="comment-form-author">

	<label for="comm_capt_challenge">
		Fill in the blank: the name of this blog is Schneier on ___________ (required):	</label>

	<input id="comm_capt_challenge" name="comm_capt_challenge" size="30" type="text" />
</p>

<div class="comment-form-comment">

	<label for="comment">Comments:</label>

	<textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea>

	<div id="preview-box" class="preview-box hide"></div>
	<img class="comment-loading hide" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/loader.gif" />

</div>

<p id="allowed">

	<strong>Allowed HTML</strong>
	&lt;a href=&quot;URL&quot;&gt; &bull; &lt;em&gt; &lt;cite&gt; &lt;i&gt; &bull; &lt;strong&gt; &lt;b&gt; &bull; &lt;sub&gt; &lt;sup&gt; &bull; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &bull; &lt;blockquote&gt; &lt;pre&gt;
	<strong>Markdown Extra</strong> syntax via <a href="https://michelf.ca/projects/php-markdown/extra/">https://michelf.ca/projects/php-markdown/extra/</a>
</p>

<input type="hidden" id="wp_comment_nonce" name="wp_comment_nonce" value="4b1534b792" /><input type="hidden" name="_wp_http_referer" value="/blog/archives/2010/12/tor_routers.html" />
<input type="button" id="comment-preview" class="comment-preview comment-actions" value="Preview" />
<input type="button" id="comment-write" class="comment-write comment-actions hide" value="Edit" />

<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit" /> <input type='hidden' name='comment_post_ID' value='3712' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p></form>	</div><!-- #respond -->
	
	<div class="stepthrough">
		<a href="https://www.schneier.com/blog/archives/2010/12/civil_war_messa.html" rel="prev">← Civil War Message Decoded</a>		<a href="https://www.schneier.com/blog/archives/2010/12/friday_squid_bl_260.html" rel="next">Friday Squid Blogging: Research into Squid Skin →</a>	</div>

	
<p id="powered">Sidebar photo of Bruce Schneier by Joe MacInnis.</p>
		</div>

		
<aside>
	<div class="sidebar" id="sidebar-two">
		<section><div class="sidesection widget widget_schneier_about" id="schneier_about-2"><h3>About Bruce Schneier</h3><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/Bruce-Schneier.jpg" /><p><p class="small">I am a <a href="https://public-interest-tech.com/">public-interest technologist</a>, working at the intersection of security, technology, and people. I've been writing about security issues on my <a href="/">blog</a> since 2004, and in my monthly <a href="/crypto-gram/">newsletter</a> since 1998. I'm a fellow and lecturer at Harvard's <a href="https://www.hks.harvard.edu/faculty/bruce-schneier">Kennedy School</a>, a board member of <a href="https://www.eff.org/">EFF</a>, and the Chief of Security Architecture at <a href="https://inrupt.com/">Inrupt, Inc.</a> This personal website expresses the opinions of none of those organizations.</p>
</p></div></section><section><div class="sidesection widget widget_schneier_related_posts" id="schneier_related_posts-2"><h3>Related Entries</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/archives/2021/03/illegal-content-and-the-blockchain.html">Illegal Content and the Blockchain</a></li><li><a href="https://www.schneier.com/blog/archives/2021/03/national-security-risks-of-late-stage-capitalism.html">National Security Risks of Late-Stage Capitalism</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/weis-2021-call-for-papers.html">WEIS 2021 Call for Papers</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/ransomware-profitability.html">Ransomware Profitability</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/presidential-cybersecurity-and-pelotons.html">Presidential Cybersecurity and Pelotons</a></li><li><a href="https://www.schneier.com/blog/archives/2021/01/police-have-disrupted-the-emotet-botnet.html">Police Have Disrupted the Emotet Botnet</a></li>
</ul>
</div></section><section><div class="sidesection widget widget_schneier_featured_essays" id="schneier_featured_essays-2"><h3>Featured Essays</h3>
	<ul>
		<li><a href="https://www.schneier.com/essays/archives/2016/04/the_value_of_encrypt.html">The Value of Encryption</a></li><li><a href="https://www.schneier.com/essays/archives/2016/03/data_is_a_toxic_asse.html">Data Is a Toxic Asset, So Why Not Throw It Out?</a></li><li><a href="https://www.schneier.com/essays/archives/2014/01/how_the_nsa_threaten.html">How the NSA Threatens National Security</a></li><li><a href="https://www.schneier.com/essays/archives/2009/01/terrorists_may_use_g.html">Terrorists May Use Google Earth, But Fear Is No Reason to Ban It</a></li><li><a href="https://www.schneier.com/essays/archives/2007/01/in_praise_of_securit.html">In Praise of Security Theater</a></li><li><a href="https://www.schneier.com/essays/archives/2006/08/refuse_to_be_terrori.html">Refuse to be Terrorized</a></li><li><a href="https://www.schneier.com/essays/archives/2006/05/the_eternal_value_of.html">The Eternal Value of Privacy</a></li><li><a href="https://www.schneier.com/essays/archives/2005/09/terrorists_dont_do_m.html">Terrorists Don&#039;t Do Movie Plots</a></li>	</ul>

	<p><a href="https://www.schneier.com/essays/">More Essays</a></p></div></section><section><div class="sidesection widget widget_schneier_archives" id="schneier_archives-2"><h3>Blog Archives</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/calendar.html/">Archive by Month</a></li><li><a href="https://www.schneier.com/blog/newcomments.html/">100 Latest Comments</a></li></ul>

<h4>Blog Tags</h4><ul class="top-tags"><li><a href="https://www.schneier.com/tag/3d-printers/">3d printers</a></li><li><a href="https://www.schneier.com/tag/9-11/">9/11</a></li><li><a href="https://www.schneier.com/tag/aaron-swartz/">Aaron Swartz</a></li><li><a href="https://www.schneier.com/tag/academic/">academic</a></li><li><a href="https://www.schneier.com/tag/academic-papers/">academic papers</a></li><li><a href="https://www.schneier.com/tag/accountability/">accountability</a></li><li><a href="https://www.schneier.com/tag/aclu/">ACLU</a></li><li><a href="https://www.schneier.com/tag/activism/">activism</a></li><li><a href="https://www.schneier.com/tag/adobe/">Adobe</a></li><li><a href="https://www.schneier.com/tag/advanced-persistent-threats/">advanced persistent threats</a></li><li><a href="https://www.schneier.com/tag/adware/">adware</a></li><li><a href="https://www.schneier.com/tag/aes/">AES</a></li><li><a href="https://www.schneier.com/tag/afghanistan/">Afghanistan</a></li><li><a href="https://www.schneier.com/tag/air-marshals/">air marshals</a></li><li><a href="https://www.schneier.com/tag/air-travel/">air travel</a></li><li><a href="https://www.schneier.com/tag/airgaps/">airgaps</a></li><li><a href="https://www.schneier.com/tag/al-qaeda/">al Qaeda</a></li><li><a href="https://www.schneier.com/tag/alarms/">alarms</a></li><li><a href="https://www.schneier.com/tag/algorithms/">algorithms</a></li><li><a href="https://www.schneier.com/tag/alibis/">alibis</a></li><li><a href="https://www.schneier.com/tag/amazon/">Amazon</a></li><li><a href="https://www.schneier.com/tag/android/">Android</a></li><li><a href="https://www.schneier.com/tag/anonymity/">anonymity</a></li><li><a href="https://www.schneier.com/tag/anonymous/">Anonymous</a></li><li><a href="https://www.schneier.com/tag/antivirus/">antivirus</a></li><li><a href="https://www.schneier.com/tag/apache/">Apache</a></li><li><a href="https://www.schneier.com/tag/apple/">Apple</a></li><li><a href="https://www.schneier.com/tag/applied-cryptography/">Applied Cryptography</a></li><li><a href="https://www.schneier.com/tag/artificial-intelligence/">artificial intelligence</a></li><li><a href="https://www.schneier.com/tag/assassinations/">assassinations</a></li></ul><p><a href="https://www.schneier.com/blog/tags.html/">More Tags</a></p></div></section><section><div class="sidesection widget widget_schneier_latest_book" id="schneier_latest_book-3"><h3>Latest Book</h3><a href="https://www.schneier.com/books/click-here/"><img class="sidepic" alt="Click Here to Kill Everybody" src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2018/07/book-ch2-200w.png" /></a><p><a href="https://www.schneier.com/books/">More Books</a></p></div></section><section><div class="sidesection widget widget_schneier_promotion" id="schneier_promotion-2">
<a href="https://www.eff.org/issues/bloggers/legal/join">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/join-eff@2x.png" id="effbutton" alt="Support Bloggers' Rights!" title="Support Bloggers' Rights!" /></a>

<a href="https://npo.networkforgood.org/Donate/Donate.aspx?npoSubscriptionId=8252">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/support-epic@2x.png" alt="Defend Privacy--Support Epic" title="Defend Privacy--Support Epic" /></a>
</div></section>	</div>
</aside>

		<footer>
			<nav>
				<div class="nav" id="footer-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="menu"><li class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>
		</footer>

		</div><!--#main-->
	</div><!--#wrapper-->

		<script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<script type='text/javascript' src='https://c0.wp.com/p/woocommerce/5.1.0/assets/js/jquery-cookie/jquery.cookie.min.js' id='jquery-cookie-js'></script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/socialshareprivacy.js?ver=1.0.1' id='social-share-privacy-js'></script>
<script type='text/javascript' id='social-share-privacy-icons-js-extra'>
/* <![CDATA[ */
var schneierSocial = {"path":"https:\/\/www.schneier.com\/wp-content\/themes\/schneier\/assets\/vendor\/socialshareprivacy\/"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/icons.js?ver=1.0.0' id='social-share-privacy-icons-js'></script>
<script type='text/javascript' id='schneier-comment-js-extra'>
/* <![CDATA[ */
var schneierComment = {"translateErrorSecurityAnswerWrong":"Your response to the challenge question ('The name of this blog is Schneier on ____') was not correct. Please try again.","ajax_url":"https:\/\/www.schneier.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/js/comment.js?ver=1.0.1' id='schneier-comment-js'></script>
<script type='text/javascript' src='https://c0.wp.com/c/5.7/wp-includes/js/wp-embed.min.js' id='wp-embed-js'></script>

</body>

</html>
