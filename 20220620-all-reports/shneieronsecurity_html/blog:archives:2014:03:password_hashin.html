<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>Password Hashing Competition - Schneier on Security</title>
	<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel='dns-prefetch' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Feed" href="https://www.schneier.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Comments Feed" href="https://www.schneier.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Password Hashing Competition Comments Feed" href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://c0.wp.com/c/5.7/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='schneier-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/style.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='schneier-main-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/dist/css/style.css?ver=1.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://c0.wp.com/p/jetpack/9.5.2/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js?ver=3.5.1' id='jquery-js'></script>
<link rel="https://api.w.org/" href="https://www.schneier.com/wp-json/" /><link rel="alternate" type="application/json" href="https://www.schneier.com/wp-json/wp/v2/posts/5292" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.schneier.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.schneier.com/wp-includes/wlwmanifest.xml" /> 

<link rel="canonical" href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html" />
<link rel='shortlink' href='https://www.schneier.com/?p=5292' />
<link rel="alternate" type="application/json+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2014%2F03%2Fpassword_hashin.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2014%2F03%2Fpassword_hashin.html&#038;format=xml" />
	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-32x32.png" sizes="32x32" />
<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-180x180.png" />
<meta name="msapplication-TileImage" content="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-270x270.png" />
		<style type="text/css" id="wp-custom-css">
			#schneier_promotion-2 img {
    max-width: 180px;
}		</style>
		</head>

<body class="post-template-default single single-post postid-5292 single-format-standard theme-schneier woocommerce-no-js">

	<div id="wrapper">
		<div id="main">

			<header>
				<div id="header">
					<h1>
						<a href="https://www.schneier.com/" rel="home">
							Schneier on Security						</a>
					</h1>
				</div>
			</header>

			<nav>
				<div class="nav" id="header-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-50175" class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li id="menu-item-50916" class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li id="menu-item-50166" class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li id="menu-item-50169" class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li id="menu-item-50170" class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li id="menu-item-50171" class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li id="menu-item-50167" class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li id="menu-item-50174" class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>

			
<aside>
	<div class="sidebar" id="sidebar-one">
		<section><div class="sidesection widget widget_schneier_search" id="schneier_search-3"><h3>Search</h3>
<p class="small">
	<em>Powered by <a href="https://duckduckgo.com/">DuckDuckGo</a></em></p>

<form method="get" action="https://duckduckgo.com/">

	<input type="hidden" name="kh" value="1" /><!-- use https -->

	<input id="search" name="q" size="15" maxlength="255" />

	<input type="submit" value="Go" /><br>

	<input type="radio" name="sites" id="searchblog" value="www.schneier.com/blog" />
	<label for="searchblog">Blog</label>

	<input type="radio" name="sites" id="searchessays" value="www.schneier.com/essays" />
	<label for="searchessays">Essays</label>

	<input type="radio" name="sites" id="searchall" value="www.schneier.com" checked="" />
	<label for="searchall">Whole site</label>

</form>
</div></section><section><div class="sidesection widget widget_schneier_social" id="schneier_social-2"><h3>Subscribe</h3>
<div id="subscription-buttons">

	<a href="https://www.schneier.com/feed/atom"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/rss-32px.png" alt="Atom Feed" /></a><a href="https://www.facebook.com/bruce.schneier"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/facebook-32px.png" alt="Facebook" /></a><a href="https://twitter.com/schneierblog/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/twitter-32px.png" alt="Twitter" /></a><a href="https://www.amazon.com/Schneier-on-Security/dp/B0053HDDWW/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/kindle-32px.png" alt="Kindle" /></a><a href="https://www.schneier.com/crypto-gram"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/email-32px.png" alt="E-Mail Newsletter (Crypto-Gram)" /></a>
</div>
</div></section>	</div>
</aside>

			<div id="content">

				
		<p id="breadcrumbs">

			<a href="https://www.schneier.com">Home</a><a href="https://www.schneier.com/blog/archives/">Blog</a>		</p>

		
<article id="post-5292" class="post-5292 post type-post status-publish format-standard hentry category-uncategorized tag-contests tag-hashes tag-passwords">

	<div class="article">

		<h2 class="entry">Password Hashing Competition</h2>
		<p>There&#8217;s a private <a href="https://password-hashing.net/">competition</a> to identify new password hashing schemes. Submissions are <a href="https://password-hashing.net/call.html">due</a> at the end of the month.</p>

		
			<p class="entry-tags">
				<span class="tags-links">Tags: <a href="https://www.schneier.com/tag/contests/" rel="tag">contests</a>, <a href="https://www.schneier.com/tag/hashes/" rel="tag">hashes</a>, <a href="https://www.schneier.com/tag/passwords/" rel="tag">passwords</a></span>			</p>

		
		
		<p class="posted">
			<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html" rel="bookmark">Posted on March 25, 2014 at 5:58 AM</a>			•
			<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html#comments">25 Comments</a>		</p>

		<aside><div class="schneier-share share" data-uri="https://www.schneier.com/blog/archives/2014/03/password_hashin.html" data-title="Password Hashing Competition" data-order="facebook twitter tumblr" data-social-share-privacy="true" /></aside>
	</div>

</article>


	<h3 id="comments">Comments</h3>

	
		<article class="comment even thread-even depth-1" id="comment-218855">

			<div class="comment by-z ">

				<p class="commentcredit">

					<span class="commenter">z</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218855">
						March 25, 2014 6:28 AM					</a>

				</p>

				<p>I like this, but I fear whatever they come up with won&#8217;t really be used unless NIST also adopts it. Companies that want to store your passwords securely want to follow NIST standards so they can cover their ass if there&#8217;s  a problem. They can say &#8220;Hey, we followed the US government standard for XYZ&#8221; when they get sued. The companies who don&#8217;t store your password securely don&#8217;t care. It&#8217;s not that they don&#8217;t know how to do it right, or can&#8217;t find developers who do; it&#8217;s a lack of interest.</p>
<p>However, this should give developers who are interested in doing things properly  a good set of guidelines  to follow, and hopefully will kickstart a movement for a standardization body to update their standards as well.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218856">

			<div class="comment by-per-thorsheim ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://passwordscon.org' rel='external nofollow ugc' class='url'>Per Thorsheim</a></span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218856">
						March 25, 2014 6:44 AM					</a>

				</p>

				<p>Ahem&#8230; Building anything in compliance with NIST standards seems a little less of an smart idea now than just a few years ago, depending of course on who you reckon as your enemy.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218857">

			<div class="comment by-uh-mike ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://xkcd.com/722/' rel='external nofollow ugc' class='url'>uh, Mike</a></span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218857">
						March 25, 2014 7:52 AM					</a>

				</p>

				<p>Aren&#8217;t we trying to relax reliance on passwords?  If they weren&#8217;t so vital, it wouldn&#8217;t be worthwhile to make them harder to crack.</p>
<p>Likewise, I wish a directory of social security numbers would leak.  We need to stop abusing those as well.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218858">

			<div class="comment by-jason-c ">

				<p class="commentcredit">

					<span class="commenter">Jason C</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218858">
						March 25, 2014 9:02 AM					</a>

				</p>

				<p>Why not promote a wider use of <a href="https://en.wikipedia.org/wiki/Bcrypt" rel="nofollow ugc">bcrypt</a>? It has a very <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/lib/libc/crypt/bcrypt.c?rev=1.36" rel="nofollow ugc">open license</a>, and is a drop-in replacement for UNIX password hashing, so why not other OSs? The OpenBSD guys even use it for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=htpasswd&amp;apropos=0&amp;sektion=0&amp;manpath=OpenBSD+Current&amp;arch=i386&amp;format=html" rel="nofollow ugc">Web Authentication</a> now. As computing power grows, you just increase the iteration count to keep it highly resistant to brute force search attacks.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218859">

			<div class="comment by-matt ">

				<p class="commentcredit">

					<span class="commenter">Matt</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218859">
						March 25, 2014 10:27 AM					</a>

				</p>

				<p>I agree with Jason C. What password hashing problems are there that the proper use of bcrypt doesn&#8217;t solve?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218860">

			<div class="comment by-matt ">

				<p class="commentcredit">

					<span class="commenter">Matt</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218860">
						March 25, 2014 10:48 AM					</a>

				</p>

				<p>And, yes, I read the page. The first problem (&#8220;The poor state of passwords protection in web services:&#8221;) isn&#8217;t going to be solved by having more hashing options. It&#8217;s solved by teaching people that proper hashing is important.</p>
<p>The second problem&#8230; I suppose it might be nice if there were more options? But again, I&#8217;m unclear on what bcrypt doesn&#8217;t provide that they think is needed.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218861">

			<div class="comment by-s-offtopic-mylar ">

				<p class="commentcredit">

					<span class="commenter">s-Offtopic-Mylar</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218861">
						March 25, 2014 10:54 AM					</a>

				</p>

				<p>I fell over this today while browsing:</p>
<p>&#8220;Mylar is a platform for building secure web applications.</p>
<p>Web applications rely on servers to store and process confidential information. However, anyone who gains access to the server (e.g., an attacker, a curious administrator, or a government) can obtain all of the data stored there. Mylar protects data confidentiality even when an attacker gets full access to servers. Mylar stores only encrypted data on the server, and decrypts data only in users&#8217; browsers. Simply encrypting each user&#8217;s data with a user key does not suffice, and Mylar addresses three challenges in making this approach work. First, Mylar allows the server to perform keyword search over encrypted documents, even if the documents are encrypted with different keys. Second, Mylar allows users to share keys and data securely in the presence of an active adversary. Finally, Mylar ensures that client-side application code is authentic, even if the server is malicious. &#8221;</p>
<p><a href="http://www.technologyreview.com/news/525651/new-approach-could-stop-websites-from-leaking-or-stealing-your-data/" rel="nofollow ugc">http://www.technologyreview.com/news/525651/new-approach-could-stop-websites-from-leaking-or-stealing-your-data/</a></p>
<p><a href="http://css.csail.mit.edu/mylar/" rel="nofollow ugc">http://css.csail.mit.edu/mylar/</a></p>
<p>Has anyone looked at this or can offer any informed comments (I can&#8217;t)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218862">

			<div class="comment by-anura ">

				<p class="commentcredit">

					<span class="commenter">Anura</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218862">
						March 25, 2014 11:35 AM					</a>

				</p>

				<p>@Matt, Jason C</p>
<p>bcrypt uses a fixed amount of memory, so it isn&#8217;t flexible enough to protect against all threats. I don&#8217;t think there&#8217;s any ideal alternatives out there. Scrypt is overly complicated (IMO, of course) and subject to timing attacks, PBKDF2 uses little memory and gets a huge advantage from GPUs. There are also some theoretical problems with existing functions, as iterated functions can reduce the collision resistance (e.g. if you have the same password with two different salts, the more iterations you do for PBKDF2, the more likely it is that they will both hash to the same value).</p>
<p>One problem is that there is very little work done on the abstract of key derivation functions, so there&#8217;s no real guidelines on creating them. I&#8217;ve been working on a function that addresses all the concerns I have. It&#8217;s a very simple algorithm that works with exisitng hash functions, but I doubt I can get a paper ready by Monday (I still have to test against a GPU, but I have no experience with coding for a GPU).</p>
<p>As for two-factor authentication, usually that still involves passwords. That also really only works for server-based systems. If you want your laptop secure from theft, then even if you have a key on a thumb-drive, it&#8217;s still a good idea to have a password along with it, using a key-stretching algorithm to make brute forcing more difficult.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218863">

			<div class="comment by-anura ">

				<p class="commentcredit">

					<span class="commenter">Anura</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218863">
						March 25, 2014 11:42 AM					</a>

				</p>

				<p>Also, another problem with bcrypt is it doesn&#8217;t work as a general-purpose key-stretching algorithm because it has a fixed output length. If you want a 256-bit encryption key, and a 256-bit MAC key, you have to come up with your own system with bcrypt.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218864">

			<div class="comment by-evan ">

				<p class="commentcredit">

					<span class="commenter">Evan</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218864">
						March 25, 2014 6:25 PM					</a>

				</p>

				<p>@uh, Mike: I agree with you about SSNs, but I think part of the problem with multifactor identification is that, as services increasingly move off of local systems and on to the cloud, any secondary factors ultimately boil down to another password &#8211; i.e. a sequence of bytes. Most secondary factors in use are more or less obtainable via investigative work (mother&#8217;s maiden name, first school, place you were born), and even those that aren&#8217;t (e.g. fingerprints) can be spoofed by a malicious client.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218865">

			<div class="comment by-badtux ">

				<p class="commentcredit">

					<span class="commenter">Badtux</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218865">
						March 25, 2014 8:28 PM					</a>

				</p>

				<p>@Evan, the answer to your question about two-factor authentication is a secondary security device that generates a new authentication token every minute or so.  The attacker must then possess both your password and the secondary security device in order to compromise your account.  The most  popular  secondary security device right now appears to be a smartphone running Google Authenticator. See RFC4226 for more information on the HTOP algorithm used.</p>
<p>Is this completely secure? No. If the service is utterly compromised, the secret key used to sync HTOP between the service and your device can  also be compromised. But if the service is so utterly compromised that both your password and your secondary authenticator are both compromised, then you&#8217;re fscked anyhow. What this does do is insure that scammers with key scanners cannot get both your password and your secondary authentication source, since the sequence of characters you enter onto, e.g., the AWS web site, changes every minute. They&#8217;d have to use those credentials mighty quickly to make it worthwhile.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218866">

			<div class="comment by-badtux ">

				<p class="commentcredit">

					<span class="commenter">Badtux</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218866">
						March 25, 2014 8:29 PM					</a>

				</p>

				<p>Err, HOTP. I blame dyslexic fingers :).</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218867">

			<div class="comment by-earl-killian ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.killian.com/earl/editorials.html' rel='external nofollow ugc' class='url'>Earl Killian</a></span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218867">
						March 25, 2014 10:44 PM					</a>

				</p>

				<p>Shouldn&#8217;t we be looking to replace conventional password systems with systems like SRP (<a href="http://srp.stanford.edu/ndss.html" rel="nofollow ugc">http://srp.stanford.edu/ndss.html</a>)? If so, then inventing a new password hashing algorithm is a waste of effort that would be be better spent on transition to something better.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218868">

			<div class="comment by-chris-abbott ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://abbottit.com' rel='external nofollow ugc' class='url'>Chris Abbott</a></span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218868">
						March 25, 2014 11:01 PM					</a>

				</p>

				<p>I&#8217;ve got an idea, tell me what you guys think:</p>
<p>Step 1: Hash the password</p>
<p>Step 2: Encrypt the hash of the password with a randomly generated key. (If we&#8217;re talking about something like a website, store the random key on a different server to reduce the possibility/effectiveness of an attack)</p>
<p>I&#8217;m sure there are already schemes that do something like this, but imagine if there were 2^256 possible salts and you didn&#8217;t have access to the keys stored elsewhere than the encrypted hash. Or how bad it would slow you down to have to decrypt each hash prior to using your rainbow table. It would make an attacker&#8217;s life more difficult. They wouldn&#8217;t really be salts, they&#8217;d be keys. It would be like super-salt.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218869">

			<div class="comment by-mike-amling ">

				<p class="commentcredit">

					<span class="commenter">Mike Amling</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218869">
						March 25, 2014 11:45 PM					</a>

				</p>

				<p>SRP is a better protocol, IMHO, than, say, sending the password over https and having the server hash it, or having the client hash it and send the result over https. But for widespead adoption, SRP would need to be built in to all the common browsers.</p>
<p>I like Catena (<a href="http://eprint.iacr.org/2013/525.pdf" rel="nofollow ugc">http://eprint.iacr.org/2013/525.pdf</a>), for the hashing part of the protocol.</p>
<p>The problem with password hashing is that key-stretching is not efficient for the good guys. It increases the attackers&#8217; effort by a factor of N only when it increases the normal users&#8217; effort by a factor of N. Far better to use more password entropy, which increases the attackers&#8217; effort by a factor of 2**X for constant normal users&#8217; effort.</p>
<p>I agree that encrypting the server&#8217;s authentication data with a key that is harder to steal than the data makes sense.</p>
<p>I think authentication would be better handled by, say, a zero-knowledge proof of possession of a private key. The problem is carrying around the bits of the private key. Maybe some kind of dongle similar to dongles used for 2fa?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218870">

			<div class="comment by-anura ">

				<p class="commentcredit">

					<span class="commenter">Anura</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218870">
						March 25, 2014 11:59 PM					</a>

				</p>

				<p>@Chris Abbott</p>
<p>If I understand you correctly, your algorithm is this:</p>
<p>encrypt(secret-salt, hash(password));</p>
<p>The thing is, if the attacker gets the salt, then it&#8217;s no more secure than hash(password). The purpose of these schemes is that so even if the salt is not secret, it still adds a huge cost to the attacker to try and brute force it. Just including a salt makes you secure against rainbow tables</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218871">

			<div class="comment by-anura ">

				<p class="commentcredit">

					<span class="commenter">Anura</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218871">
						March 26, 2014 12:05 AM					</a>

				</p>

				<p>@Mike Amling</p>
<p>For your own stuff, yes, definitely go with more entropy. The thing is that we can&#8217;t force people to choose strong passwords; for you, as a web developer, the best way to protect your users if you are attacked is with key stretching. For your personal computer or a low traffic server, you can also devise a key-stretching algorithm that can be multi-threaded (my algorithm will do this, if I ever finish it), so if you have four cores you can run in four threads and increase the cost the attacker faces by 4N instead of N.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218872">

			<div class="comment by-nobody ">

				<p class="commentcredit">

					<span class="commenter">nobody</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218872">
						March 26, 2014 7:52 AM					</a>

				</p>

				<p><a href="https://www.grc.com/sqrl/sqrl.htm" rel="nofollow ugc">https://www.grc.com/sqrl/sqrl.htm</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218873">

			<div class="comment by-thoth ">

				<p class="commentcredit">

					<span class="commenter">Thoth</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218873">
						March 26, 2014 8:31 AM					</a>

				</p>

				<p>1.) Trying to store some secrets/random secrets/salt on another server and hoping nothing happens is not the best idea. If you are using a HSM to protect it, it will give more margin of security but that means you have to buy those expensive HSMs and they are usually a black box which no one will ever know their security levels.</p>
<p>2.) Password Hashing Competition is a good beginning exercise to get more people involved in designing their password hashing/encrypting algorithms and getting the world to review it. More of such global collaborations should have been done long time ago.</p>
<p>3.) Nothing is wasted in PHC because the algorithms and competition itself might bring more interest to younger generations on the subject of Computer Security and who knows what ideas may appear.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218874">

			<div class="comment by-somebody ">

				<p class="commentcredit">

					<span class="commenter">Somebody</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218874">
						March 26, 2014 11:23 AM					</a>

				</p>

				<p>Mike:</p>
<p>N and X measure different things and serve different purposes, they should not be conflated.</p>
<p>X is the length of the password, if I have to remember it it is limited by my memory and ability to type.  So its maximum value is essentially constant.</p>
<p>N measures computing power.  This is dependent on the available technology and changes with time.</p>
<p>For any given X there is some potential level of computing power that breaks a hash in say one hour.  As long as computers keep improving N has to keep increasing to maintain security.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218875">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218875">
						March 26, 2014 9:48 PM					</a>

				</p>

				<p>@ s-Offtopic-Mylar</p>
<p>I&#8217;ve done a security analysis of Mylar and posted it in Squid thread.</p>
<p><a href="https://www.schneier.com/blog/archives/2014/03/giant_squid_as_1.html#c5150200" rel="nofollow ugc">https://www.schneier.com/blog/archives/2014/03/giant_squid_as_1.html#c5150200</a></p>
<p>At current time, it&#8217;s in &#8220;new comments&#8221; feed but not in Squid thread. Check &#8220;new comments&#8221; if you don&#8217;t see it in Squid thread. Hopefully will sort itself out.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218876">

			<div class="comment by-someone ">

				<p class="commentcredit">

					<span class="commenter">Someone</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218876">
						March 27, 2014 12:24 PM					</a>

				</p>

				<p>Did anyone have a chance to look at the <a href="https://github.com/JustinCappos/PolyPassHash/blob/master/README.md" rel="nofollow ugc">PolyPassHash</a> submission?   It uses Shamir Secret Shares in an interesting way that make it so that passwords can&#8217;t be individually cracked by an attacker.</p>
<p>The claims about added security are pretty amazing and the performance / space impact seems to be minimal.   What do you think about this?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218877">

			<div class="comment by-anteop-car-building ">

				<p class="commentcredit">

					<span class="commenter">Anteop Car Building</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218877">
						March 28, 2014 6:44 PM					</a>

				</p>

				<p>I have a suggestion.</p>
<ol>
<li>You salt the Login Name with a shared salt and then hash it with BCrypt.</li>
<li>You then take the original plain text Login Name and use it as a key to encrypt the password with AES. The result is then salted with a unique salt and finally hashed with BCrypt.</li>
<li>The user&#8217;s Display Name is set to their User ID (integer), as opposed to their Login Name, when the account is created. The user can change it later, except it can not match anyone else&#8217;s Display Name or a case-insensitive comparison to their Login Name.  This test, specifically when comparing your Display Name to your Login Name in a case insensitive manner with hashes, is the main reason Login Names (as opposed to passwords) and Display Names would have to be limited to a reasonable number of characters.</li>
</ol>
<p>My question is, if the database were copied and all storage procedures were known in every detail, would this make it significantly harder to recover the passwords than storing plaintext usernames and uniquely salted and BRcypted passwords</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-218878">

			<div class="comment by-jp ">

				<p class="commentcredit">

					<span class="commenter">JP</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218878">
						April 1, 2014 11:29 AM					</a>

				</p>

				<p>The 24 candidates:<br />
<a href="https://password-hashing.net/candidates.html" rel="nofollow ugc">https://password-hashing.net/candidates.html</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-218879">

			<div class="comment by-mike-amling ">

				<p class="commentcredit">

					<span class="commenter">Mike Amling</span> •

					<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/#comment-218879">
						April 5, 2014 11:02 PM					</a>

				</p>

				<p>@Someone</p>
<p>The PolyPassHash paper (say that five times) advocates encrypting ordinary users&#8217; password hashes with a symmetric key that it regards as more secure against hacking because it is not written to disk. The symmetric key is initialized after every server restart by &#8220;administrative&#8221; users logging in.</p>
<p>The &#8220;administrative&#8221; users&#8217; have Shamir secret shares on disk that are recoverable from the password hashes obtained during administrators&#8217; logins. When a threshold of administrative users have logged in after a restart, the server combines their unlocked Shamir secret shares to find the symmetric key to allow decryption of the ordinary users&#8217; password hashes.</p>
<p>Administrative users are trusted to have passwords that are not leaked and not guessable by hackers.</p>
<p>To hack ordinary users&#8217; passwords from the contents of files on disk, you&#8217;d need either A) access to the symmetric key from the server&#8217;s working memory or B) enough &#8220;administrative&#8221; users&#8217; passwords to recover the symmetric key from the Shamir secret shares.</p>
<p>It&#8217;s not a panacea. IIRC, last year&#8217;s Target hackers read data from working memory (of POS terminals, which may not be as hard to attack as the servers PolyPassHash is aimed at), so the symmetric key is still at risk.</p>
<p>Note: Where I work, we&#8217;ve been initializing private keys for one particular server from Shamir secret shares provided by &#8216;administrative&#8217; users since 2004 (although not as a byproduct of those administrators logging in).</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

	<p class="subscribe-comments">
		<a href="https://www.schneier.com/blog/archives/2014/03/password_hashin.html/feed/">
			<img alt="Atom Feed" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/rss.png">
			Subscribe to comments on this entry		</a>
	</p>

		<div id="respond" class="comment-respond">
		<h2 class="comments-open-header">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/archives/2014/03/password_hashin.html#respond" style="display:none;">Cancel reply</a></small></h2><form action="https://www.schneier.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><a href="https://www.schneier.com/wp-login.php?redirect_to=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2014%2F03%2Fpassword_hashin.html" title="Login">Login</a><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" /></p>
<p class="comment-form-url"><label for="url">URL:</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Remember personal info?</label></p>

<p class="comment-form-author">

	<label for="comm_capt_challenge">
		Fill in the blank: the name of this blog is Schneier on ___________ (required):	</label>

	<input id="comm_capt_challenge" name="comm_capt_challenge" size="30" type="text" />
</p>

<div class="comment-form-comment">

	<label for="comment">Comments:</label>

	<textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea>

	<div id="preview-box" class="preview-box hide"></div>
	<img class="comment-loading hide" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/loader.gif" />

</div>

<p id="allowed">

	<strong>Allowed HTML</strong>
	&lt;a href=&quot;URL&quot;&gt; &bull; &lt;em&gt; &lt;cite&gt; &lt;i&gt; &bull; &lt;strong&gt; &lt;b&gt; &bull; &lt;sub&gt; &lt;sup&gt; &bull; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &bull; &lt;blockquote&gt; &lt;pre&gt;
	<strong>Markdown Extra</strong> syntax via <a href="https://michelf.ca/projects/php-markdown/extra/">https://michelf.ca/projects/php-markdown/extra/</a>
</p>

<input type="hidden" id="wp_comment_nonce" name="wp_comment_nonce" value="4b1534b792" /><input type="hidden" name="_wp_http_referer" value="/blog/archives/2014/03/password_hashin.html" />
<input type="button" id="comment-preview" class="comment-preview comment-actions" value="Preview" />
<input type="button" id="comment-write" class="comment-write comment-actions hide" value="Edit" />

<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit" /> <input type='hidden' name='comment_post_ID' value='5292' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p></form>	</div><!-- #respond -->
	
	<div class="stepthrough">
		<a href="https://www.schneier.com/blog/archives/2014/03/nsa_hacks_huawe.html" rel="prev">← NSA Hacks Huawei</a>		<a href="https://www.schneier.com/blog/archives/2014/03/chilean_drug_tr.html" rel="next">Chilean Drug Trafficker Pencil-and-Paper Code →</a>	</div>

	
<p id="powered">Sidebar photo of Bruce Schneier by Joe MacInnis.</p>
		</div>

		
<aside>
	<div class="sidebar" id="sidebar-two">
		<section><div class="sidesection widget widget_schneier_about" id="schneier_about-2"><h3>About Bruce Schneier</h3><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/Bruce-Schneier.jpg" /><p><p class="small">I am a <a href="https://public-interest-tech.com/">public-interest technologist</a>, working at the intersection of security, technology, and people. I've been writing about security issues on my <a href="/">blog</a> since 2004, and in my monthly <a href="/crypto-gram/">newsletter</a> since 1998. I'm a fellow and lecturer at Harvard's <a href="https://www.hks.harvard.edu/faculty/bruce-schneier">Kennedy School</a>, a board member of <a href="https://www.eff.org/">EFF</a>, and the Chief of Security Architecture at <a href="https://inrupt.com/">Inrupt, Inc.</a> This personal website expresses the opinions of none of those organizations.</p>
</p></div></section><section><div class="sidesection widget widget_schneier_related_posts" id="schneier_related_posts-2"><h3>Related Entries</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/archives/2021/03/illegal-content-and-the-blockchain.html">Illegal Content and the Blockchain</a></li><li><a href="https://www.schneier.com/blog/archives/2021/03/national-security-risks-of-late-stage-capitalism.html">National Security Risks of Late-Stage Capitalism</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/weis-2021-call-for-papers.html">WEIS 2021 Call for Papers</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/ransomware-profitability.html">Ransomware Profitability</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/presidential-cybersecurity-and-pelotons.html">Presidential Cybersecurity and Pelotons</a></li><li><a href="https://www.schneier.com/blog/archives/2021/01/police-have-disrupted-the-emotet-botnet.html">Police Have Disrupted the Emotet Botnet</a></li>
</ul>
</div></section><section><div class="sidesection widget widget_schneier_featured_essays" id="schneier_featured_essays-2"><h3>Featured Essays</h3>
	<ul>
		<li><a href="https://www.schneier.com/essays/archives/2016/04/the_value_of_encrypt.html">The Value of Encryption</a></li><li><a href="https://www.schneier.com/essays/archives/2016/03/data_is_a_toxic_asse.html">Data Is a Toxic Asset, So Why Not Throw It Out?</a></li><li><a href="https://www.schneier.com/essays/archives/2014/01/how_the_nsa_threaten.html">How the NSA Threatens National Security</a></li><li><a href="https://www.schneier.com/essays/archives/2009/01/terrorists_may_use_g.html">Terrorists May Use Google Earth, But Fear Is No Reason to Ban It</a></li><li><a href="https://www.schneier.com/essays/archives/2007/01/in_praise_of_securit.html">In Praise of Security Theater</a></li><li><a href="https://www.schneier.com/essays/archives/2006/08/refuse_to_be_terrori.html">Refuse to be Terrorized</a></li><li><a href="https://www.schneier.com/essays/archives/2006/05/the_eternal_value_of.html">The Eternal Value of Privacy</a></li><li><a href="https://www.schneier.com/essays/archives/2005/09/terrorists_dont_do_m.html">Terrorists Don&#039;t Do Movie Plots</a></li>	</ul>

	<p><a href="https://www.schneier.com/essays/">More Essays</a></p></div></section><section><div class="sidesection widget widget_schneier_archives" id="schneier_archives-2"><h3>Blog Archives</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/calendar.html/">Archive by Month</a></li><li><a href="https://www.schneier.com/blog/newcomments.html/">100 Latest Comments</a></li></ul>

<h4>Blog Tags</h4><ul class="top-tags"><li><a href="https://www.schneier.com/tag/3d-printers/">3d printers</a></li><li><a href="https://www.schneier.com/tag/9-11/">9/11</a></li><li><a href="https://www.schneier.com/tag/aaron-swartz/">Aaron Swartz</a></li><li><a href="https://www.schneier.com/tag/academic/">academic</a></li><li><a href="https://www.schneier.com/tag/academic-papers/">academic papers</a></li><li><a href="https://www.schneier.com/tag/accountability/">accountability</a></li><li><a href="https://www.schneier.com/tag/aclu/">ACLU</a></li><li><a href="https://www.schneier.com/tag/activism/">activism</a></li><li><a href="https://www.schneier.com/tag/adobe/">Adobe</a></li><li><a href="https://www.schneier.com/tag/advanced-persistent-threats/">advanced persistent threats</a></li><li><a href="https://www.schneier.com/tag/adware/">adware</a></li><li><a href="https://www.schneier.com/tag/aes/">AES</a></li><li><a href="https://www.schneier.com/tag/afghanistan/">Afghanistan</a></li><li><a href="https://www.schneier.com/tag/air-marshals/">air marshals</a></li><li><a href="https://www.schneier.com/tag/air-travel/">air travel</a></li><li><a href="https://www.schneier.com/tag/airgaps/">airgaps</a></li><li><a href="https://www.schneier.com/tag/al-qaeda/">al Qaeda</a></li><li><a href="https://www.schneier.com/tag/alarms/">alarms</a></li><li><a href="https://www.schneier.com/tag/algorithms/">algorithms</a></li><li><a href="https://www.schneier.com/tag/alibis/">alibis</a></li><li><a href="https://www.schneier.com/tag/amazon/">Amazon</a></li><li><a href="https://www.schneier.com/tag/android/">Android</a></li><li><a href="https://www.schneier.com/tag/anonymity/">anonymity</a></li><li><a href="https://www.schneier.com/tag/anonymous/">Anonymous</a></li><li><a href="https://www.schneier.com/tag/antivirus/">antivirus</a></li><li><a href="https://www.schneier.com/tag/apache/">Apache</a></li><li><a href="https://www.schneier.com/tag/apple/">Apple</a></li><li><a href="https://www.schneier.com/tag/applied-cryptography/">Applied Cryptography</a></li><li><a href="https://www.schneier.com/tag/artificial-intelligence/">artificial intelligence</a></li><li><a href="https://www.schneier.com/tag/assassinations/">assassinations</a></li></ul><p><a href="https://www.schneier.com/blog/tags.html/">More Tags</a></p></div></section><section><div class="sidesection widget widget_schneier_latest_book" id="schneier_latest_book-3"><h3>Latest Book</h3><a href="https://www.schneier.com/books/click-here/"><img class="sidepic" alt="Click Here to Kill Everybody" src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2018/07/book-ch2-200w.png" /></a><p><a href="https://www.schneier.com/books/">More Books</a></p></div></section><section><div class="sidesection widget widget_schneier_promotion" id="schneier_promotion-2">
<a href="https://www.eff.org/issues/bloggers/legal/join">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/join-eff@2x.png" id="effbutton" alt="Support Bloggers' Rights!" title="Support Bloggers' Rights!" /></a>

<a href="https://npo.networkforgood.org/Donate/Donate.aspx?npoSubscriptionId=8252">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/support-epic@2x.png" alt="Defend Privacy--Support Epic" title="Defend Privacy--Support Epic" /></a>
</div></section>	</div>
</aside>

		<footer>
			<nav>
				<div class="nav" id="footer-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="menu"><li class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>
		</footer>

		</div><!--#main-->
	</div><!--#wrapper-->

		<script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<script type='text/javascript' src='https://c0.wp.com/p/woocommerce/5.1.0/assets/js/jquery-cookie/jquery.cookie.min.js' id='jquery-cookie-js'></script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/socialshareprivacy.js?ver=1.0.1' id='social-share-privacy-js'></script>
<script type='text/javascript' id='social-share-privacy-icons-js-extra'>
/* <![CDATA[ */
var schneierSocial = {"path":"https:\/\/www.schneier.com\/wp-content\/themes\/schneier\/assets\/vendor\/socialshareprivacy\/"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/icons.js?ver=1.0.0' id='social-share-privacy-icons-js'></script>
<script type='text/javascript' id='schneier-comment-js-extra'>
/* <![CDATA[ */
var schneierComment = {"translateErrorSecurityAnswerWrong":"Your response to the challenge question ('The name of this blog is Schneier on ____') was not correct. Please try again.","ajax_url":"https:\/\/www.schneier.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/js/comment.js?ver=1.0.1' id='schneier-comment-js'></script>
<script type='text/javascript' src='https://c0.wp.com/c/5.7/wp-includes/js/wp-embed.min.js' id='wp-embed-js'></script>

</body>

</html>
