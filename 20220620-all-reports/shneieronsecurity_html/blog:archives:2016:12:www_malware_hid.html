<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>WWW Malware Hides in Images - Schneier on Security</title>
	<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel='dns-prefetch' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Feed" href="https://www.schneier.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Comments Feed" href="https://www.schneier.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; WWW Malware Hides in Images Comments Feed" href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://c0.wp.com/c/5.7/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='schneier-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/style.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='schneier-main-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/dist/css/style.css?ver=1.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://c0.wp.com/p/jetpack/9.5.2/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js?ver=3.5.1' id='jquery-js'></script>
<link rel="https://api.w.org/" href="https://www.schneier.com/wp-json/" /><link rel="alternate" type="application/json" href="https://www.schneier.com/wp-json/wp/v2/posts/10926" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.schneier.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.schneier.com/wp-includes/wlwmanifest.xml" /> 

<link rel="canonical" href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html" />
<link rel='shortlink' href='https://www.schneier.com/?p=10926' />
<link rel="alternate" type="application/json+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2016%2F12%2Fwww_malware_hid.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2016%2F12%2Fwww_malware_hid.html&#038;format=xml" />
	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-32x32.png" sizes="32x32" />
<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-180x180.png" />
<meta name="msapplication-TileImage" content="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-270x270.png" />
		<style type="text/css" id="wp-custom-css">
			#schneier_promotion-2 img {
    max-width: 180px;
}		</style>
		</head>

<body class="post-template-default single single-post postid-10926 single-format-standard theme-schneier woocommerce-no-js">

	<div id="wrapper">
		<div id="main">

			<header>
				<div id="header">
					<h1>
						<a href="https://www.schneier.com/" rel="home">
							Schneier on Security						</a>
					</h1>
				</div>
			</header>

			<nav>
				<div class="nav" id="header-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-50175" class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li id="menu-item-50916" class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li id="menu-item-50166" class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li id="menu-item-50169" class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li id="menu-item-50170" class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li id="menu-item-50171" class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li id="menu-item-50167" class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li id="menu-item-50174" class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>

			
<aside>
	<div class="sidebar" id="sidebar-one">
		<section><div class="sidesection widget widget_schneier_search" id="schneier_search-3"><h3>Search</h3>
<p class="small">
	<em>Powered by <a href="https://duckduckgo.com/">DuckDuckGo</a></em></p>

<form method="get" action="https://duckduckgo.com/">

	<input type="hidden" name="kh" value="1" /><!-- use https -->

	<input id="search" name="q" size="15" maxlength="255" />

	<input type="submit" value="Go" /><br>

	<input type="radio" name="sites" id="searchblog" value="www.schneier.com/blog" />
	<label for="searchblog">Blog</label>

	<input type="radio" name="sites" id="searchessays" value="www.schneier.com/essays" />
	<label for="searchessays">Essays</label>

	<input type="radio" name="sites" id="searchall" value="www.schneier.com" checked="" />
	<label for="searchall">Whole site</label>

</form>
</div></section><section><div class="sidesection widget widget_schneier_social" id="schneier_social-2"><h3>Subscribe</h3>
<div id="subscription-buttons">

	<a href="https://www.schneier.com/feed/atom"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/rss-32px.png" alt="Atom Feed" /></a><a href="https://www.facebook.com/bruce.schneier"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/facebook-32px.png" alt="Facebook" /></a><a href="https://twitter.com/schneierblog/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/twitter-32px.png" alt="Twitter" /></a><a href="https://www.amazon.com/Schneier-on-Security/dp/B0053HDDWW/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/kindle-32px.png" alt="Kindle" /></a><a href="https://www.schneier.com/crypto-gram"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/email-32px.png" alt="E-Mail Newsletter (Crypto-Gram)" /></a>
</div>
</div></section>	</div>
</aside>

			<div id="content">

				
		<p id="breadcrumbs">

			<a href="https://www.schneier.com">Home</a><a href="https://www.schneier.com/blog/archives/">Blog</a>		</p>

		
<article id="post-10926" class="post-10926 post type-post status-publish format-standard hentry category-uncategorized tag-adware tag-exploits tag-malware tag-steganography">

	<div class="article">

		<h2 class="entry">WWW Malware Hides in Images</h2>
		<p>There&#8217;s <a href="https://www.bleepingcomputer.com/news/security/new-stegano-exploit-kit-hides-malvertising-code-in-image-pixels/">new malware toolkit</a> that uses steganography to hide in images:</p>
<blockquote><p>For the past two months, a new exploit kit has been serving malicious code hidden in the pixels of banner ads via a malvertising campaign that has been active on several high profile websites.</p>
<p>Discovered by security researchers from ESET, this new exploit kit is named Stegano, from the word steganography, which is a technique of hiding content inside other files.</p>
<p>In this particular scenario, malvertising campaign operators hid malicious code inside PNG images used for banner ads.</p>
<p>The crooks took a PNG image and altered the transparency value of several pixels. They then packed the modified image as an ad, for which they bought ad displays on several high-profile websites.</p>
<p>Since a large number of advertising networks allow advertisers to deliver JavaScript code with their ads, the crooks also included JS code that would parse the image, extract the pixel transparency values, and using a mathematical formula, convert those values into a character.</p></blockquote>
<p>Slashdot <a href="https://slashdot.org/story/16/12/06/2324213/new-stegano-exploit-kit-hides-malvertising-code-in-banner-pixels">thread</a>.</p>

		
			<p class="entry-tags">
				<span class="tags-links">Tags: <a href="https://www.schneier.com/tag/adware/" rel="tag">adware</a>, <a href="https://www.schneier.com/tag/exploits/" rel="tag">exploits</a>, <a href="https://www.schneier.com/tag/malware/" rel="tag">malware</a>, <a href="https://www.schneier.com/tag/steganography/" rel="tag">steganography</a></span>			</p>

		
		
		<p class="posted">
			<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html" rel="bookmark">Posted on December 7, 2016 at 8:06 AM</a>			•
			<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html#comments">107 Comments</a>		</p>

		<aside><div class="schneier-share share" data-uri="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html" data-title="WWW Malware Hides in Images" data-order="facebook twitter tumblr" data-social-share-privacy="true" /></aside>
	</div>

</article>


	<h3 id="comments">Comments</h3>

	
		<article class="comment even thread-even depth-1" id="comment-289410">

			<div class="comment by-piper ">

				<p class="commentcredit">

					<span class="commenter">Piper</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289410">
						December 7, 2016 9:21 AM					</a>

				</p>

				<p>TLDR: Turn off JavaScript.</p>
<p>I use NoScript in Firefox.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289411">

			<div class="comment by-peter-file ">

				<p class="commentcredit">

					<span class="commenter">Peter File</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289411">
						December 7, 2016 9:31 AM					</a>

				</p>

				<p><cite>Since a large number of advertising networks allow advertisers to deliver JavaScript code with their ads</cite></p>
<p>That&#8217;s the root point: allowing a paying party to deliver arbitrary code on ad campaigns. Although the scheme is clever, it&#8217;s nothing else than obfuscated code.</p>
<p>The question is what do the ad network companies to prevent or mitigate this? They obviously don&#8217;t deelply analyze the code -not an easy thing to do- to detect subterfuges like that. However, JS delivery is an &#8220;added value&#8221; they sell to advertisers so putting restrictions on that is shooting at their own feet.</p>
<p>As you said before with the vulnerabilities of Internet of Things, this needs regulations. Meanwhile, ad blockers are even more justified.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289412">

			<div class="comment by-iblock ">

				<p class="commentcredit">

					<span class="commenter">Iblock</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289412">
						December 7, 2016 9:37 AM					</a>

				</p>

				<p>TLDR: Block ads.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289413">

			<div class="comment by-stegosaurus ">

				<p class="commentcredit">

					<span class="commenter">Stegosaurus</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289413">
						December 7, 2016 9:42 AM					</a>

				</p>

				<p>&#8220;The script will then attempt to load the banner and read the RGBA structure. If a malicious version of the image was received, it will decode some Javascript and variables from the alpha channel&#8221;</p>
<p>In other words, the malware is hiding javascript code inside the PNG image in order to evade detection.</p>
<p>&#8220;The victim doesn’t even need to click on the malicious ad content; all it takes is to visit a website displaying it.&#8221;</p>
<p>That&#8217;s the best kind of drive-by download! No user interaction required.</p>
<p>&#8220;If no indication of monitoring is detected, it creates an iframe (just one pixel in size) at coordinates off the screen, sets its window.name property (this name will be used later) and redirects to TinyURL via https. TinyURL then redirects to an exploit landing page via http.&#8221;</p>
<p>No exploit is complete without using iframes to serve up webpages the size of a pixel. Get out your magnifying glass! Oh wait, the pixel is also located off the screen. Nevermind.</p>
<p>I find exploit analysis like this fascinating. It&#8217;s amazing how imaginative malware authors are in finding new ways to hide their exploit code from machine learning algorithms and human security researchers.</p>
<p>Basically if you have javascript, and especially flashplayer enabled then you&#8217;re going to get burned from drive-by download malvertising eventually. Unless you&#8217;re running the browser in a virtual machine on something like Qubes OS.</p>
<p>Don&#8217;t feel bad. I&#8217;ve been burned from drive-by download ads multiple times in the past. The worst part is you don&#8217;t even know it&#8217;s happened to you or that you&#8217;ve been infected.</p>
<p>Detailed anaylasis with pictures.</p>
<p><a href="http://www.welivesecurity.com/2016/12/06/readers-popular-websites-targeted-stealthy-stegano-exploit-kit-hiding-pixels-malicious-ads/" rel="nofollow ugc">http://www.welivesecurity.com/2016/12/06/readers-popular-websites-targeted-stealthy-stegano-exploit-kit-hiding-pixels-malicious-ads/</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289414">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289414">
						December 7, 2016 9:43 AM					</a>

				</p>

				<blockquote><p>from the word steganography, which is a technique of <b>hiding content inside other files.</b></p></blockquote>
<p>Nope! It means hiding the <b>existence</b> of content or message as opposed to cryptography, which means hiding the <b>meaning</b> of content or message!</p>
<blockquote><p>intermediary ULR</p></blockquote>
<p>What&#8217;s a &#8220;ULR&#8221;? I didn&#8217;t know they hired dyslexic editors!</p>
<p>There is no innovation here. It&#8217;s just an application of stego-kits for malware purposes instead of using the tool for stealth communications.</p>
<p>This isn&#8217;t an easy attack to mitigate.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289415">

			<div class="comment by-max ">

				<p class="commentcredit">

					<span class="commenter">Max</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289415">
						December 7, 2016 9:52 AM					</a>

				</p>

				<p>Link to original article:</p>
<p><a href="http://www.welivesecurity.com/2016/12/06/readers-popular-websites-targeted-stealthy-stegano-exploit-kit-hiding-pixels-malicious-ads/" rel="nofollow ugc">http://www.welivesecurity.com/2016/12/06/readers-popular-websites-targeted-stealthy-stegano-exploit-kit-hiding-pixels-malicious-ads/</a></p>
<p>They don&#8217;t say which ad network was serving the malware. Well, it doesn&#8217;t matter. Any &#8220;ad blocker&#8221; will stop it. &#8220;Ad blockers&#8221; are security products!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289416">

			<div class="comment by-ad-blockers ">

				<p class="commentcredit">

					<span class="commenter">Ad Blockers</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289416">
						December 7, 2016 10:01 AM					</a>

				</p>

				<p>I heard ad block users are considered thieves by website operators.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289417">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289417">
						December 7, 2016 10:02 AM					</a>

				</p>

				<p>@Max,</p>
<blockquote><p>Any &#8220;ad blocker&#8221; will stop it.</p></blockquote>
<p>That may be true for this instance of payload delivery. Won&#8217;t stop the class of attacks, though. The assumption is the user wants JavaScript enabled, too.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289418">

			<div class="comment by-hawk ">

				<p class="commentcredit">

					<span class="commenter">hawk</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289418">
						December 7, 2016 10:07 AM					</a>

				</p>

				<p>So what&#8230; why can&#8217;t they explain how the JS code attacks the machine. App developers know just because you can run JS in the browser it&#8217;s not like the user downloaded an executable. In other words there must be another vulnerability. And Wael is right, merely concealing the presence of data is not the same as concealing its meaning. More sophisticated attacks might hide across time, even in the form of TCP flags or packet errors. You would never find it in a million years.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289419">

			<div class="comment by-bruce-ediger ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://stratigery.com/' rel='external nofollow ugc' class='url'>Bruce Ediger</a></span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289419">
						December 7, 2016 10:16 AM					</a>

				</p>

				<p>@Ad Blockers &#8211; &#8220;thieves&#8221;? Really? Who owns my computer? I do. Who gets to decide what runs on my PC? I do. Simple, basic property rights that are settled law and ethics for thousands of years. I&#8217;m very afraid that your &#8220;website operators&#8221; are confused, and anti-free market. The second I am required to run something by law (but not by morality, that will never happen) I have had my human property rights abused. &#8220;Thieves&#8221; &#8211; ha ha ha! I laugh at your &#8220;website operators&#8221; and call them a silly person!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289420">

			<div class="comment by-oliver ">

				<p class="commentcredit">

					<span class="commenter">oliver</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289420">
						December 7, 2016 10:25 AM					</a>

				</p>

				<p>Who has take over this blog? This can not be Bruce who is posting this drivel lately!!<br />
These last few posts have been nothing but bullshit and movie-plot-threads.</p>
<p>That can&#8217;t be Bruce posting that?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289421">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289421">
						December 7, 2016 10:25 AM					</a>

				</p>

				<p>@ Wael,</p>
<blockquote><p>This isn&#8217;t an easy attack to mitigate.</p></blockquote>
<p>Turning of javascript altogether is a start&#8230;</p>
<p>Which is what I&#8217;ve done many years ago (for security reasons) as I&#8217;ve mentioned on more than a few occasions. But, many responders said I was being a little paranoid&#8230; OH look is that a chicken I see walking up the path 😉</p>
<p>As others like to point out it&#8217;s &#8220;freemarket economics&#8221;, so my suggestion is everybody turns java script off. If you can not get at site content, (Google I&#8217;m Looking at You) is that realy any loss?</p>
<p>When people stop visiting sites with javascript enabled either by the site or those the site does business with then, hopefully they will get the message&#8230;</p>
<p>Javascript should without a doubt be killed of in it&#8217;s entirety, it&#8217;s akways been a security liability and it always will be a security liability, as such it needs a bullet between it&#8217;s eyes.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289423">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289423">
						December 7, 2016 10:41 AM					</a>

				</p>

				<p>@Clive Robinson,</p>
<blockquote><p>Turning of javascript altogether is a start&#8230;</p></blockquote>
<p>There are two perspectives to consider: Firstly, for readers of this blog, there are many ways of protection as discussed in the past. The second perspective is the general population who know very little about computers, the internet, and operating systems &#8212; let alone information security. These users are also a vector of attack against the security savvy.</p>
<p>I don&#8217;t turn java script off, but I used to use Ghostry, which apparently is doing some shady things, last I heard.</p>
<p>I also use my real name, don&#8217;t use Tor or annoyimizing proxies. We are supposed to be in a free society that allows free speech, or is that just a slogan?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289424">

			<div class="comment by-marcus ">

				<p class="commentcredit">

					<span class="commenter">Marcus</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289424">
						December 7, 2016 10:50 AM					</a>

				</p>

				<p>Adobe Flash is what made this all possible.  Everything else was just window dressing.</p>
<p><cite>The Stegano exploit kit would use three Adobe Flash vulnerabilities (CVE-2015-8651, CVE-2016-1019 or CVE-2016-4117) to attack the user&#8217;s PC, and forcibly download and launch into execution various strains of malware.<br />
</cite></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289425">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289425">
						December 7, 2016 10:54 AM					</a>

				</p>

				<p>@Clive Robinson,</p>
<p>Back on track so we don&#8217;t digress so early in thread&#8230;</p>
<blockquote><p>Turning of javascript altogether is a start..</p></blockquote>
<p>Then you have potentially mitigated an instance of an attack. You haven&#8217;t taken care of the class of attacks. You basically took an aspirin without knowing what&#8217;s causing the headache or fixing the root cause.</p>
<p>JavaScript was one payload delivery method. Is it the only method? What about other strains that use  completely different flows (but still use stego and the basic described method?)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289426">

			<div class="comment by-bordeaux-bums ">

				<p class="commentcredit">

					<span class="commenter">Bordeaux Bums</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289426">
						December 7, 2016 11:20 AM					</a>

				</p>

				<p>@Wael</p>
<p>That&#8217;s a slogan. You weren&#8217;t really asking a question, I guess.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289427">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289427">
						December 7, 2016 11:39 AM					</a>

				</p>

				<p>@Bordeaux Bums,</p>
<blockquote><p>You weren&#8217;t really asking a question, I guess.</p></blockquote>
<p>Well, tongue in cheek&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289428">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289428">
						December 7, 2016 11:56 AM					</a>

				</p>

				<p>JavaScript needs to enable finer grain controls. Binary controls as in completely on or completely off isn&#8217;t cutting it. What we need is a tool or a control that allows the user to enable or disable certain functionalities. Not sure such a thing exists, and I don&#8217;t feel like looking.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289429">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289429">
						December 7, 2016 12:10 PM					</a>

				</p>

				<p>@Clive Robinson,</p>
<blockquote><p>as such it needs a bullet between it&#8217;s eyes.</p></blockquote>
<p>I agree with this harsh assessment. What will it be replaced by?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289430">

			<div class="comment by-slime-mold-with-mustard ">

				<p class="commentcredit">

					<span class="commenter">Slime Mold with Mustard</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289430">
						December 7, 2016 12:11 PM					</a>

				</p>

				<p>When I try to convince people to turn off their Java Script, I usually get a shrug, even from people aware of the risk. As far as I know, all media players require it. Running a VM seems a hassle for most people. Welcome to Cute Cat-bot World.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289431">

			<div class="comment by-slime-mold-with-mustard ">

				<p class="commentcredit">

					<span class="commenter">Slime Mold with Mustard</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289431">
						December 7, 2016 12:15 PM					</a>

				</p>

				<p>@ Bruce</p>
<p>Thank you for running a blog that does not require JS to either view or post comments</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289432">

			<div class="comment by-ab-praeceptis ">

				<p class="commentcredit">

					<span class="commenter">ab praeceptis</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289432">
						December 7, 2016 12:22 PM					</a>

				</p>

				<p>Wael</p>
<p>No, Clive Robinsons statement is more akin to saying &#8220;I don&#8217;t need a smartphone or wifi. Not using them I don&#8217;t lose much and gain quite a lot in terms of security&#8221;</p>
<p>Sure, that <em>alone</em> doesn&#8217;t provide all around security but it <em>does</em> close down quite some entry points for ugly vermin.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289433">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289433">
						December 7, 2016 12:36 PM					</a>

				</p>

				<p>@Wael,</p>
<p>Take a gander at uMatrix by gorhill, I&#8217;ve been playing with it since it was Chrome only and called HTTP Switchboard. He&#8217;s got some good development towards breaking up the interconnects of a browser.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289434">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289434">
						December 7, 2016 12:45 PM					</a>

				</p>

				<p>@ Wael,</p>
<blockquote><p> You basically took an aspirin without knowing what&#8217;s causing the headache or fixing the root cause.</p></blockquote>
<p>I look on it as not taking medicine but as &#8220;Not Smoking&#8221;. That is like smoking it&#8217;s unsafe behaviour at any level (as any competent doctor will tell you).</p>
<p>As for &#8220;fixing the root cause&#8221; did you know that for over 40% of those that die from heart issues, the Doctors can not tell you why it happened?</p>
<p>Perhaps the multi level &#8220;onion&#8221; model &#8211;not Tor&#8211; needs to be considered along with the fact of fifty vectors per thousand lines of code, even in signed code&#8230; Not all of those vectors will lead to a successfull attack on their own, but it an attacker can line a number up the right way then you are owned.</p>
<p>However if you can stop an attacker lining up the vectors then that attack type fails. Javascript appears to be one of the tools of choice currently attackers are going to use for lineing up the vectors for such an attack&#8230; So cutting out javascript stops the attack and many similar ones.</p>
<p>The other thing, why on earth should I let unknown code run on my machine stealing not just CPU cycles, but other resources, especially my network bandwidth that I have to pay for as mobile broadband is not &#8220;an all you can eat buffet&#8221;.</p>
<p>As far as I&#8217;m concerned javascript, java and flash are things you should in no way let near your computer from the Internet, you realy do not know what you are getting and from who even when it&#8217;s signed.</p>
<p>Oh there is one thing I can guaranty, which is these &#8220;ads4views&#8221; sites in noway will take liability for what they are causing to get on your computer in the way of nasties and will fight every inch of the way to stop such a liability being imposed on them.</p>
<p>Thus the ads4views content should be avoided. If their content will not give them the revenue in other ways, then maybe it&#8217;s time they shut up shop and went the way of the dinosaurs&#8230; The larger ones tend to preach freemarket / libertarian ideals, if they &#8220;want to live by the sword maybe they should die by it&#8230;&#8221; I&#8217;ve considerably less than zero sympathy for them, or for that matter those who accept the ads, afterall they have been known to be bad news for well over a decade now.</p>
<p>To argue otherwise is just going to perpetuate the problem, and as you say other computers become infected which just makes these ads4view sites the equivalent of &#8220;Typhoid Mary&#8221; at the very least&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289435">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289435">
						December 7, 2016 12:55 PM					</a>

				</p>

				<p>@r,</p>
<blockquote><p>Take a gander at uMatrix by gorhill</p></blockquote>
<p>That rings a bell. I&#8217;ll look at it in my next available time slot,</p>
<p>@ab praeceptis,</p>
<blockquote><p>but it *does* close down quite some entry points for ugly vermin.</p></blockquote>
<p>Sure! At what price? He can&#8217;t watch YouTube. That&#8217;s not the answer, though! Would it be an acceptable &#8220;security&#8221; solution to say: I&#8217;ll never use any computers, phones or digital media to close &#8220;Securiy holes&#8221;?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289436">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289436">
						December 7, 2016 12:57 PM					</a>

				</p>

				<p>@ Wael,</p>
<blockquote><p>I agree with this harsh assessment. What will it be replaced by?</p></blockquote>
<p>Why should it be replaced with anything?</p>
<p>Why should I have untrusted code shoved down my throat, when the shover accepts no liability for harm, use of resources, etc, etc?</p>
<p>What was tha name of that lemon, with the dodgy fuel tank, where the been counting types decided a few deaths were the better option than fixing the tank? Was it a Ford Pinto, and what happened when a judge found out?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289437">

			<div class="comment by-ab-praeceptis ">

				<p class="commentcredit">

					<span class="commenter">ab praeceptis</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289437">
						December 7, 2016 1:15 PM					</a>

				</p>

				<p>Wael</p>
<p>&#8220;Acceptable&#8221; is largely a subjective thing.</p>
<p>To offer an example: One might have a &#8220;dirty&#8221; VM for youtubing. Is that acceptable? For some yes, for others not.</p>
<p>I personally, while seeing practical problems with it, do value Clive Robinsons hard stance. For one it&#8217;s a perfectly valid one for some. More importantly, though, it provokes an overdue and urgent discussion/reflection by taking an extreme position.</p>
<p>And btw, it&#8217;s not our fault that one is pretty much forced into extreme positions, as there are very few screws to tune the javascript cancer. Basically it comes down to either keeping it turned on or to shut it off.</p>
<p>And yes, I did use the term cancer intentionally because that&#8217;s what javascript has become.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289438">

			<div class="comment by-ergo-sum ">

				<p class="commentcredit">

					<span class="commenter">Ergo Sum</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289438">
						December 7, 2016 1:30 PM					</a>

				</p>

				<p>The more appropriate title would be ads are spreading malware, ergo old news&#8230;</p>
<p>Nothing new here, maybe the different delivery method, but the result is the same. The malware does check for number of security protection and quietly exits, if found. Yes, even antivirus causes this malware from executing&#8230;</p>
<p>I am with Bruce Ediger, I do what I want to on my system, not the websites and ad companies. If these companies can guarantee that no malware distributed by them and will be financially responsible for the damage if they do, I may reconsider allowing ads&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289439">

			<div class="comment by-hm ">

				<p class="commentcredit">

					<span class="commenter">hm</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289439">
						December 7, 2016 1:36 PM					</a>

				</p>

				<p>@ Clive Robinson and Wael, Re: &#8220;Why should it be replaced by anything&#8221;</p>
<p>I certainly agree with the crappiness of JavaScript and run NoScript except when really needed.  Especially the resource drain and slowdown, even without security bugs.  But just saying &#8220;don&#8217;t use Javascript&#8221; is not enough of an answer because it&#8217;s enabled by default for most of the population, and not so easy to run without on phones/tablets.  So this only helps experts, and only on the desktop.</p>
<p>Perhaps a better plan would be to come up with a &#8220;Restricted JavaScript&#8221; API that dumps as much unsafe stuff as possible, especially removing parts of the DOM model access outside limited same-origin policy.</p>
<p>Then &#8220;real&#8221; webapps such as email or maps could explicitly be given access, similarly to phone apps requesting &#8220;App FooMail needs access to your contacts&#8221;, and users could grant access only when needed.  Meanwhile pages that just need internal menus would just have access to their own in-page menus.</p>
<p>Also, perhaps, a security enhancement so that if a top level page loads a sub page via <a> or  then it could specify security restrictions, e.g. </a><a href="advert" rel="nofollow ugc">.  Extensions like ublock or NoScript could then also force these restrictions on.</p>
<p>The key issue is that unless restrictions on JS are on for the default majority of users, websites will still tend to use these features and those of us with NoScript will have to deal with some pages where things like tab menus don&#8217;t work.</p>
<p>Compare this to Flash where Apple&#8217;s very public decision to drop this on iOS meant that websites have been migrating away.</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289440">

			<div class="comment by-dr-i-needtob-athe ">

				<p class="commentcredit">

					<span class="commenter">Dr. I. Needtob Athe</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289440">
						December 7, 2016 1:53 PM					</a>

				</p>

				<p>Why can&#8217;t there be an undetectable ad blocker? It seems to me that a browser add-on could download a complete web page and simply trash the parts you don&#8217;t want to see or execute without the server detecting anything.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289441">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289441">
						December 7, 2016 1:55 PM					</a>

				</p>

				<p>As per javascript enforced on your phones.</p>
<p>Android is roughly linux</p>
<p>compile links2/lynx/links/w3m/elinks</p>
<p>same goes for anyone who&#8217;s arguably concerned over the TBB and HTBB</p>
<p>for those on ff/chrome pick up umatrix for finer grained controls beyond noscript.net</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289442">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289442">
						December 7, 2016 2:00 PM					</a>

				</p>

				<p>The problem is there are no inline-deobfuscators-and-analyzers</p>
<p>plus don&#8217;t think that just because they&#8217;re using images now means that they can&#8217;t switch to using a malware to issue search engine queries for any other steganographic c&amp;c data or straight encrypted stuff that could be hosted indirectly (via google/yahoo/bing caches) ETC.</p>
<p>This is not new stuff</p>
<p>We saw intermediary communication being performed by an ADMIRAL to speak with his mistress and also by malware using the same mechanism of &#8220;drafts&#8221;.</p>
<p>Segregation and isolation are absolute musts.</p>
<p>Who&#8217;s still got a copy of DSL from 2000?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289443">

			<div class="comment by-callmelateforsupper ">

				<p class="commentcredit">

					<span class="commenter">CallMeLateForSupper</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289443">
						December 7, 2016 2:08 PM					</a>

				</p>

				<p>@All</p>
<p>I second what Clive Robinson said:<br />
&#8220;Javascript should without a doubt be killed of[f] &#8230; it needs a bullet between it&#8217;s eyes.&#8221;</p>
<p>Regular readers might remember my saying essentially the same things here several times.  I smiled when I read the second quoted statement (above) because it is a slight twist on my opinion[1] of JS: Enabling Javascript provides you with the opportunity to shoot yourself in the head.</p>
<p>[1] For years I have recited it to anyone expressing concern about their online security.  Sadly, I don&#8217;t know of even one case where the advice found fertile ground.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289444">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289444">
						December 7, 2016 2:11 PM					</a>

				</p>

				<p>This is the two way street with defensive communication though,</p>
<p>If we sit here and discuss using translate.google.com or proxy.ixquick.com the only thing we are doing is communicating weaponizable technology to others who may or may not be watching.</p>
<p>This is why tact is paramount, to communicate the breadth and theory without communicating EXACT mechanisms.</p>
<p>We are seeing automated cross hosting using dropbox and others.</p>
<p>If your .js&#8217;s aren&#8217;t signed and verified small limited scriptlets your engine is going to run sugar through it&#8217;s tank at some point or another.</p>
<p>Oh haha, last thing.</p>
<p>The implementation of webkit on older android phones has a checkbox in it&#8217;s settings in android which allows the turning off of js.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289445">

			<div class="comment by-evilkiru ">

				<p class="commentcredit">

					<span class="commenter">EvilKiru</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289445">
						December 7, 2016 2:19 PM					</a>

				</p>

				<p>@Dr.: &#8220;Why can&#8217;t there be an undetectable ad blocker?&#8221;</p>
<p>Because web sites use JavaScript to detect whether or not their ads are being blocked?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289446">

			<div class="comment by-callmelateforsupper ">

				<p class="commentcredit">

					<span class="commenter">CallMeLateForSupper</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289446">
						December 7, 2016 2:22 PM					</a>

				</p>

				<p>@Clive<br />
&#8220;What was tha name of that lemon, with the dodgy fuel tank&#8230; Was it a Ford Pinto&#8221;</p>
<p>It was.  Mine was dark blue.  German 4-speed manual transmission; 1600cc Cortina engine.  The rest was junk.</p>
<p>&#8221; and what happened when a judge found out?&#8221;</p>
<p>I don&#8217;t recall (no pun).  I sold the Pinto to a student for $200 and put the entire experience out of mind.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289447">

			<div class="comment by-hm ">

				<p class="commentcredit">

					<span class="commenter">hm</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289447">
						December 7, 2016 2:34 PM					</a>

				</p>

				<p>@ r</p>
<p>Re: webkit on older android checkbox to turn off js &#8212; current Safari on iOS also has a setting to turn off JavaScript.  But the question is what fraction of end-users outside this blog actually turn this off &#8212; guess: close to zero.</p>
<p>Re: &#8220;Javascript should without a doubt be killed off&#8221;, I agree for general usage at least, but the question is how to actually get there.  I.e. how to get to the point that Firefox or Chrome disables this by default like people are now doing for Flash?</p>
<p>There are probably some legitimate low-risk client usages of scripting, such as show/hide elements for tab switching, or possibly &#8220;Show overlay before movie&#8221; although I hate this.  Hence my suggestion to define a much smaller API by default and let any site that thinks they need a fuller API such as AJAX for a full webapp ask for permission.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289448">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289448">
						December 7, 2016 3:19 PM					</a>

				</p>

				<p>@ab praeceptis,</p>
<blockquote><p>&#8220;Acceptable&#8221; is largely a subjective thing.</p></blockquote>
<p>If you didn&#8217;t say &#8220;largely&#8221;, I would say it&#8217;s debatable. At the surface of it, probably. If you decompose it and simplify it to: Reject a &#8220;needed&#8221; feature for added security or subtracted weakness, then it&#8217;s more objective. The subjective part is confined to &#8220;needed&#8221;.</p>
<blockquote><p>And yes, I did use the term cancer intentionally because that&#8217;s what javascript has become.</p></blockquote>
<p>I&#8217;m not a proponent of JavaScript either. It&#8217;s not the language! It&#8217;s the capability it provides. The capability itself is the weakness, not the language alone.</p>
<p>@Clive Robinson, @hm,</p>
<blockquote><p>Why should it be replaced with anything?</p></blockquote>
<p>To provide the needed capabilities?</p>
<blockquote><p>Why should I have untrusted code shoved down my throat, </p></blockquote>
<p>You don&#8217;t have to! There is a price to be paid, and I don&#8217;t like that either.</p>
<blockquote><p>So cutting out javascript stops the attack and many similar ones.</p></blockquote>
<p>I&#8217;m not disputing that! What I&#8217;m saying is disabling Java script will eliminate a class of attacks that leverage it, and potentially the instance of stego malware described in this thread; it will <b>not stop</b> the stego class of attacks&#8230; we&#8217;ll need additional so-called &#8220;controls&#8221;</p>
<p>Btw: few things annoy me more than these adds popping out from everywhere, or adds we&#8217;re forced to &#8220;view&#8221; on YouTube. I never watch them and skip them at the earliest opportunity. These adverts never influenced my purchase decision making, and I question the effectiveness of the billions spent on them.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289449">

			<div class="comment by-albert ">

				<p class="commentcredit">

					<span class="commenter">albert</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289449">
						December 7, 2016 3:54 PM					</a>

				</p>

				<p>&#8220;&#8230;ESET has declined to name the sites where the malvertising campaign was active,&#8230;&#8221;</p>
<p>Why not? Their names need to be broadcast worldwide. These folks need to be held accountable, and holding their feet to the fire is the only way to do it*.</p>
<p>Dollars to donuts isn&#8217;t a good bet anymore, but those websites services are probably available elsewhere.</p>
<p>The malware industry is the psychotic step-son of capitalistic information technology.</p>
<p>I, too, am of the opinion that Java needs to be killed.  Might as well kill Flash while we&#8217;re at it. The cure is obvious.</p>
<p>Lots of websites will not work without Java.  That&#8217;s why I use NoScript, but it can never be perfect.</p>
<p>Next time you hire a website developer, tell them you don&#8217;t want Flash or Java as see what they say.</p>
<p>I wonder how many folks do business with advertisers whose ads &#8216;sit on&#8217; other companies websites?</p>
<p>. .. . .. &#8212; &#8230;.</p>
<hr />
<p>*the best way is boycott their business by not visiting their website.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289450">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289450">
						December 7, 2016 4:05 PM					</a>

				</p>

				<p>@ Wael,</p>
<blockquote><p>To provide the needed capabilities?</p></blockquote>
<p>Now you are starting to think in the right direction.</p>
<p>Back in the days of terminals all the program logic and state were kept where they belonged &#8211;for the security of both parties&#8211; on the server.</p>
<p>HTTP broke the security model by being statless at the server, this required state to be worked badly ibto the client web browser, and out the back window went security.</p>
<p>Since then things have only got worse with web developers pushing more and more program logic at the client and relying on broken protocols that were ill thought out in the first place to maintain a modicum of privacy but by no means security.</p>
<p>So the real question is &#8220;Can the genie be put back in the bottle, or are we realy living with the concequences of the box that Pandora misappropriated and opened to everybody&#8217;s cost?&#8221;</p>
<p>Personaly I think as with Flash and java, javascript can be depreciated and got rid of within a year or two at the most if the will was there (without going to the lengths of Y2K madness).</p>
<p>The result will be more security for both sides of a service and considerably less risk for individuals from third party attack by impersonation etc. The downside is very much the same as it currently is with MITM attacks due to using broken protocols and failed CA security.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289451">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289451">
						December 7, 2016 4:24 PM					</a>

				</p>

				<p>@Clive Robinson,</p>
<blockquote><p><i>To provide the needed capabilities?</i></p></blockquote>
<p>The browser is an execution environment. It&#8217;s sandboxed, but that boundary is penetratable. Even if it&#8217;s impenetrable, there are still weaknesses. To replace JavaScript with something else that provides the same model, may not improve the situation much.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289452">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289452">
						December 7, 2016 4:50 PM					</a>

				</p>

				<p>@Clive Robinson,</p>
<blockquote><p>Can the genie be put back in the bottle</p></blockquote>
<p><a href="https://www.schneier.com/blog/archives/2014/11/the_security_un.html#c6683657" rel="nofollow ugc">But of course!</a></p>
<p>We only need to identify the Jinni, the bottle, and the phisherman 😉</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289453">

			<div class="comment by-impossibly-stupid ">

				<p class="commentcredit">

					<span class="commenter"><a href='https://www.impossiblystupid.com' rel='external nofollow ugc' class='url'>Impossibly Stupid</a></span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289453">
						December 7, 2016 4:54 PM					</a>

				</p>

				<p>@Peter File • December 7, 2016 9:31 AM</p>
<blockquote><p>
The question is what do the ad network companies to prevent or mitigate this? They obviously don&#8217;t deelply analyze the code -not an easy thing to do- to detect subterfuges like that. However, JS delivery is an &#8220;added value&#8221; they sell to advertisers so putting restrictions on that is shooting at their own feet.
</p></blockquote>
<p>One obvious solution is to not allow ads to have arbitrary code supplied by the advertiser, but just a limited library of functionality supplied by the network.  I mean, now many &#8220;special&#8221; things really need to be done to display a legitimate ad for a product?  But restraint never seems to be in style with any of these people so long as the promise of money is on the table.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289454">

			<div class="comment by-george-engel ">

				<p class="commentcredit">

					<span class="commenter">George Engel</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289454">
						December 7, 2016 5:21 PM					</a>

				</p>

				<p>@Wael</p>
<blockquote><p>Sure! At what price? He can&#8217;t watch YouTube.</p></blockquote>
<pre></pre>
<p>That is an exaggeration, as surely you know. There is indeed a price, and its size is worth asking.</p>
<p>And naturally, people will disagree about the value of the goods being paid for.</p>
<p>But downloading videos from youtube&#8217;s servers, and watching them, can be done perfectly well without interpreting javascript in a browser.</p>
<pre></pre>
<blockquote><p>I don&#8217;t turn java script off, but I used to use Ghostry, which apparently is doing some shady things, last I heard.</p></blockquote>
<p>Regulatory Capture is an expected outcome, when one participates in a borked system of pernicious incentives and trusts a malleable fallible regulator to mangle it into a meadow of rainbows and unicorns.</p>
<blockquote><p>I also use my real name, don&#8217;t use Tor or annoyimizing proxies.</p></blockquote>
<p>Then you have something in common with Tarek Mehanna, Mumia Abu-Jamal, Fred Hampton, Martin Luther King, August Spies, Albert Parsons, and Adolph Fischer.</p>
<p>Good company!</p>
<blockquote><p>We are supposed to be in a free society that allows free speech, or is that just a slogan?</p></blockquote>
<p>Speaking freely is something one either does, or does not.</p>
<p>It is a category error to assert that the practice of doing so is &#8220;allowed&#8221;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289455">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289455">
						December 7, 2016 5:36 PM					</a>

				</p>

				<p>We need a central script repository like namespace.github.io for authentication whitelisting standardization and distribution.</p>
<p>This whole ultradistributed monolithic jquery situation is ridiculous.</p>
<p>And it still doesn&#8217;t solve the &#8216;trusted&#8217; issue completely as the Certificate Authority problem still looms overhead.</p>
<p>There&#8217;s another problem though related to the obfuscation problem, it&#8217;s that the entity of javascript allows for SMC including (I believe) the namespace itself.</p>
<p>E.g. Can I restrict a function name to a single imported entity? Say Somelib.somefunc(); as opposed to Anylib.somefunc();</p>
<p>?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289456">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289456">
						December 7, 2016 5:43 PM					</a>

				</p>

				<p>@George Engel,</p>
<blockquote><p>Then you have something in <b>common</b> with&#8230;</p></blockquote>
<p>And what would that be? A dead or an mprisoned man? 🙂</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289457">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289457">
						December 7, 2016 5:47 PM					</a>

				</p>

				<p>@r,</p>
<blockquote><p>Take a gander at uMatrix by gorhill</p></blockquote>
<p>Seems like it&#8217;s a demanding plugin. A lot of work&#8230; not my cup of tea 😉</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289458">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289458">
						December 7, 2016 5:52 PM					</a>

				</p>

				<p>@Wael,</p>
<p>It&#8217;s only demanding if you don&#8217;t use it to turn everything off.</p>
<p>With umatrix you can blacklist all sorts of things on a global scale, the best thing to do is just use it to turn off everything (images included), and then only turn on small portions (like images) for a single site.</p>
<p>You can turn off CSS Images Scripts Plugins XHR Cookies everything down to the host level, unfortunately you can&#8217;t whitelist single scripts but you can whitelist sources so it&#8217;s a great way to strip the functionality of the browser down to a much smaller feature set quickly.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289459">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289459">
						December 7, 2016 5:57 PM					</a>

				</p>

				<p>@r,</p>
<p>I like the white list approach. Will give it a try then&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289460">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289460">
						December 7, 2016 6:17 PM					</a>

				</p>

				<p>@George Engle,</p>
<p><cite>Following Mehanna&#8217;s sentencing, the ACLU released a statement saying that the suppression of unpopular ideas is contrary to American values, and that the verdict undermines the First Amendment.[10] Specifically, it stated, &#8220;Under the government&#8217;s theory of the case, ordinary people&#8211;including writers and journalists, academic researchers, translators, <b>and even ordinary web surfers&#8211;could be prosecuted for researching or translating controversial and unpopular ideas.</b>&#8220;</cite></p>
<p>Umm&#8230; where do we get Tor from?</p>
<p>@Ratio, my friend: You see that? Quit writing in them foreign scripts, dude!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289461">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289461">
						December 7, 2016 6:44 PM					</a>

				</p>

				<p>@Gorhill, Wael, All 😉</p>
<p>The only features I find missing in uMatrix are an secure/insecure https toggle; the ability to block individual files e.g. file1.js, file2.css, file3.gif; and a right click functionality for blocking bothersome elements like in uBlock.</p>
<p>I modify firefox&#8217;s about:config &#8220;image.http.accept&#8221; to include only jp[e]g png and svg. The default for my version reads: &#8220;<em>/</em>&#8221; which is generally a bad idea if you&#8217;re the enemy of gif89a&#8217;s like myself.</p>
<p>image/jpeg image/jpg image/png image/svg image/gif image/art image/bitmap image/bmp you/get/the/idea/<b>that/&#8221;<em>/</em>&#8220;/is/bad</b></p>
<p>So, with a little bit of work you can work out some semi-fine grained controls over what you want to accept and not &#8211; but don&#8217;t forget that javascript and html are both capable of &lt;embed&gt; &amp;&amp; &lt;object&gt; so the images I suspect can still be rebuilt and displayed once they are smuggled across via html/js/vbs.</p>
<p>I&#8217;m not sure that content-type can&#8217;t just be bypassed anyways, what&#8217;s to stop someone from sending a valid jpeg in place of a png?</p>
<p>About the youtube-esqe video injection problem, I&#8217;m not sure how that&#8217;s handled as I&#8217;m sure it&#8217;s not done via splicing video files&#8230; There are problems with varying forms of that too depending on how it&#8217;s implemented js/vbs/html5/html, even if it&#8217;s not implemented in a manner indicating client side script certain media formats allow for scripts themselves as we saw 2(?) weeks ago with the 68k asm working from inside of an individual audio(?) format?</p>
<p>I generally support the playlist-based ad-injection styling youtube has adopted within their video stream I don&#8217;t appreciate being fed unvetted scriptlets from every friggen uncontrollable unpredictable dark corner of the internet.</p>
<p>SVG I believe presents much of the same problems of containing it&#8217;s own language as the afore mentioned embedded 68k emulation hack.</p>
<p>We recently had a jp[e]g exploit, previously we&#8217;ve had png gif89a art&#8230; wav avi mkv mp3&amp;&amp;id3 pretty much everything gzip zlib RCE&#8217;s&#8230; TLS exploits&#8230; Compressor collision and unmasking attacks&#8230;</p>
<p>The list goes on.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289462">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289462">
						December 7, 2016 6:53 PM					</a>

				</p>

				<p>@r,</p>
<blockquote><p>I modify firefox&#8217;s about:config </p></blockquote>
<p>The only thing I changed in about:config was default font size on Firefox running on FreeBSD with a 4K monitor. I couldn&#8217;t read a thing! Thanks for sharing this&#8230; very insightful!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289463">

			<div class="comment by-robert-oppenheimer ">

				<p class="commentcredit">

					<span class="commenter">Robert Oppenheimer</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289463">
						December 7, 2016 7:17 PM					</a>

				</p>

				<p>Couldn&#8217;t you sandbox the ads, meaning they will be displayed,  but it is up to the user if they want to actually view them.<br />
If the ad contains malware, it is sandboxed and nothing happens.</p>
<p>The user doesn&#8217;t have to view the ad, while the website thinks the ad has been displayed: everyone happy?</p>
<p>=AVEDEV(G148:G164)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289464">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289464">
						December 7, 2016 8:00 PM					</a>

				</p>

				<p>sandboxing externally through something like firejail (or sandboxie) or sandboxing internally like in chrome java and flash?</p>
<p>Sandboxing helps yes, it lowers certain attack surfacii but it introduces others &#8211; sandboxing errors that lead to escapes so it&#8217;s not necessarily better in the face of authentication standardization centralization and whitelisting.</p>
<p>Virtualization emulation and deobfuscation all lead to the same trade off, less existing attack surface through the addition of a whole nother field to play on for errors and escapes.</p>
<p>Blacklisting sources from providing unvetted and unauthenticated monolithic code is just about the best thing you can do from within the current model imnsho.</p>
<p>By sandboxing things, you also may be covering up other implementation errors that may have been discovered through a process of audit and implementation like with the situation in and around the openbsd project and it&#8217;s children.</p>
<p>Where nation states are concerned, sandboxing imo is largely irrelevant &#8211; for the most part through against a randomly occurring random attack sandboxing and virtualization should provide enough of a buffer to permit denial to the attacker.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289465">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289465">
						December 7, 2016 8:25 PM					</a>

				</p>

				<p>1st link SFW,</p>
<p><a href="http://securityaffairs.co/wordpress/22334/malware/zeus-banking-malware-nestles-crucial-file-photo.html" rel="nofollow ugc">http://securityaffairs.co/wordpress/22334/malware/zeus-banking-malware-nestles-crucial-file-photo.html</a></p>
<p>2nd link <b>NSFW</b></p>
<p><a href="http://www.xylibox.com/2014/04/zeusvm-and-steganography.html" rel="nofollow ugc">http://www.xylibox.com/2014/04/zeusvm-and-steganography.html</a></p>
<p>The only difference between then and now, is before it was C&amp;C information and now it&#8217;s exploit code to avoid persistent and inline AVs from detecting the payloads.</p>
<p>Inline, meaning both inline to your browser and inline to packet and stream-reassembly.</p>
<p><i>Sometimes</i>, the best place to hide something is in plain view.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289466">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289466">
						December 7, 2016 8:33 PM					</a>

				</p>

				<p>I forgot to honorably mention .ico and .cur</p>
<p>Accept: If image/* is dangerous then <em>/</em> is worse.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289467">

			<div class="comment by-zues-deuce ">

				<p class="commentcredit">

					<span class="commenter">Zues Deuce</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289467">
						December 7, 2016 8:53 PM					</a>

				</p>

				<p>@r</p>
<p><a href="https://www.schneier.com/blog/archives/2015/06/duqu_20.html" rel="nofollow ugc">https://www.schneier.com/blog/archives/2015/06/duqu_20.html</a></p>
<p>Duqu two did it too&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289468">

			<div class="comment by-thoth ">

				<p class="commentcredit">

					<span class="commenter"><a href='https://askg.info/' rel='external nofollow ugc' class='url'>Thoth</a></span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289468">
						December 7, 2016 8:58 PM					</a>

				</p>

				<p>@Clive Robinson</p>
<p>There are the perspectives of the people trying to make money from advertising, the browser makers who needs people to develop on their platform and play nice with advertisers, those who are normal users and finally those who actually care about the issue (the security guys like us) and finally those who somewhat care but also wants to make a buck out of &#8220;security&#8221;.</p>
<p>The advertisers don&#8217;t care and they are like all businesses, trying to squeeze as much profits out as possible whether it is good or bad. They are mostly the unscrupulous crooks that are bogging down security on a global basis that will lobby if anyone makes a move they see is against them.</p>
<p>The browser makers have been lobbied by the unscrupulous crooks and so had to play nice in order to at least preserve their user base.</p>
<p>The normal users may at times find advertising as irritating but they do not care. The good old .. &#8220;I am just a normal user .. hack me and so what ??!&#8221; attitude.</p>
<p>Those who care but are resource constraint or at least like EFF, they committed to the Privacy Badger project but I wonder if those tools are enough. There is the will to improve but lack the &#8220;strength&#8221; to carry out what the will wants.</p>
<p>There are those who are unscrupulous who wants to make a buck from having preferential security treatment and one of them is Adblock Plus. So called &#8220;registered&#8221; sites will not be block by ABP or may even be promoted by ABP and ABP gets paid for doing so. These are the worst of the kinds in security. These are the people who are making a buck while people unknowingly have their browsers be subjected to preferential treatment.</p>
<p>If you run down the above list of actors, it is the unscrupulous advertising agencies who don&#8217;t want to keep find ways of ensuring their ads are clean and trying to make every cent they can from aiding in malvertising, the browser makers trying to keep their profits and userbase by closing 1.5 eyes or even 2 eyes to the issue at hand and the worst is the unscrupulous security engineers who create &#8220;preferential adblockers&#8221; which reminds me of the good old days of pirating on the high seas or those highway robberies in broad daylight.</p>
<p>I have tried to sit down and talk to content publishers and they are totally adamant that there is no way to fix malvertising and content publishers need ads for cash (which is understandable) and they see doing anything to advertising (including blocking JS and rich client interaction) as a sin.</p>
<p>As you can see, the industry itself is like a rotting cesspool&#8230; rotting from every single corner no matter how you look at it.</p>
<p>Sometimes, I wonder if humanity will lead humanity itself to it&#8217;s own eventual destruction &#8230;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289469">

			<div class="comment by-andy ">

				<p class="commentcredit">

					<span class="commenter">Andy</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289469">
						December 7, 2016 9:01 PM					</a>

				</p>

				<p>Awhile ago multi able times I wrote a program that would inject into ring0 kernel of Windows, and from there any program that was created in virtual memory, and program you open, it loads a header code, which is hidden from the program, this thing, did basic encryption xor ticcount then decode,encode hidden to the program, but the program was still encrypted, unless you had the 64bit tick on program creation your code couldn&#8217;t run asm code.<br />
Ideas&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289470">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289470">
						December 7, 2016 9:21 PM					</a>

				</p>

				<blockquote><p>I find exploit analysis like this fascinating. It&#8217;s amazing how imaginative malware authors are in finding new ways to hide their exploit code from machine learning algorithms and human security researchers.</p></blockquote>
<p>If you think the back and fro is interesting next time you see Mr. Bontchev here ask him for some war stories from the days of the BBS.</p>
<p>It is interesting, and it is important to study this stuff.</p>
<p>If ab and nick and appearently clive had their way we&#8217;d all be on thin clients with major DRM and whitelisting it seems.</p>
<p>Ah, the pitfalls of STRANGE.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289471">

			<div class="comment by-ab-praeceptis ">

				<p class="commentcredit">

					<span class="commenter">ab praeceptis</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289471">
						December 7, 2016 9:26 PM					</a>

				</p>

				<p>Frankly, I see just basically two possibilities: a) either nobody really works on or cares about safe browsing or b) they&#8217;re all stupid and incapable.</p>
<p>Obviously, it&#8217;s a).</p>
<p>I see two major problem cores. One is the insane umpteenth attempt to make somethings safer by adding complexity (actually a euphemism for &#8220;tacking on ever more crap&#8221;). The other is the unhealthy mixture of stupidity and ignorance on the users side and raw greed on the software producers side.</p>
<p>And, please, don&#8217;t unnerve me with &#8220;but mozilla is the <em>good</em> guys!&#8221; &#8211; that&#8217;s bullshit. mozilla is but one, possibly slightly different, player on the race course towards ever &#8220;richer user experience&#8221; (a euphemism for &#8220;make your app fart in stereo and jump some color box while doing it &#8211; that&#8217;s what both the retards ot there and the advertisement spammers want&#8221;).</p>
<p>To make the festering outbrake in the loony bin worse, others enter the &#8220;pestilence can be fun!&#8221; track, too. html committees.</p>
<p>Because we need videos in the browser and an office suit, too. Hell, I&#8217;m waiting for the day when some committee, mozilla und google bring us the first online bathroom for the browser.(But then, maybe that isn&#8217;t a sensible expectation as they already have created a gigantic toilet bowl with jumping boxes and videos).</p>
<p>About the only useful and sensible thing in that whole field I saw in more than a decade was CSS.</p>
<p>You want a more reasonable and safer internet? Simple. Go on a &#8220;UX developer&#8221; killing spree and be sure to have enough TNT with you to wake up the ignorant &#8220;supersmart engineers&#8221; at google and mozilla. And while you are at it, throw some bombs on the advertisement industry; because they are about the only ones who actually profit from that whole criminal idiocy.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289472">

			<div class="comment by-thoth ">

				<p class="commentcredit">

					<span class="commenter"><a href='https://askg.info/' rel='external nofollow ugc' class='url'>Thoth</a></span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289472">
						December 7, 2016 9:53 PM					</a>

				</p>

				<p>@ab praeceptis</p>
<p>It&#8217;s all about cash. Advertising makes money while protection doesn&#8217;t. Naturally the resources would flow to whatever makes cash and avoid whatever that doesn&#8217;t generates revenue.</p>
<p>Liabilities placed on browser makers, advertising agencies, content publishers and so on for failing to do the proper security would be weak or non-existent since it&#8217;s all about who controls the lobbying groups and it&#8217;s again money and resources that makes the world tick.</p>
<p>End of the day, it&#8217;s all about human greed that have grown out of control. Same problems that is gnawing away at security systems and non-security systems as a whole.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289473">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289473">
						December 7, 2016 10:02 PM					</a>

				</p>

				<p>@Thoth, ab</p>
<p>It&#8217;s also about envelope pushing, until very recently getting something to even what? EAL2 ? was excruciatingly time consuming.</p>
<p>Just like how linux was playing catchup for years on the UI front&#8230; it doesn&#8217;t pay to appear institutional, users want fun.</p>
<p>If, IF they don&#8217;t mind a headache it&#8217;s alright.</p>
<p>Now that we have features, we need a feature set freeze and either a massive audit effort or a considerably less difficult rebuild in something like RUST.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289474">

			<div class="comment by-ray ">

				<p class="commentcredit">

					<span class="commenter">Ray</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289474">
						December 7, 2016 11:12 PM					</a>

				</p>

				<p>The author of research paper says to keep all software patched and up-to-date in order to avoid being a victim of malvertising.</p>
<p>Most manufacturers of Android phones don&#8217;t support their products or offer security patches to their customers.</p>
<p>Quite a few customers might not have money to buy a new phone every year or two. I guess this means basic online security is a privilege reserved only for people with higher incomes who can afford to buy a new phone every year running the latest version of Android.</p>
<p>That seems wrong and discriminatory to me. Poor people deserve security too.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289475">

			<div class="comment by-andy ">

				<p class="commentcredit">

					<span class="commenter">Andy</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289475">
						December 8, 2016 1:11 AM					</a>

				</p>

				<p>@r<br />
RUST seems the better option than what I was saying, patch it at the source.<br />
Market&#8217;s and all, I don&#8217;t think money incentives will solve this, there are other uses for a bot net and will always be.<br />
I think now days it&#8217;s the linkage between parts on ever scale.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289476">

			<div class="comment by-ratio ">

				<p class="commentcredit">

					<span class="commenter">Ratio</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289476">
						December 8, 2016 1:21 AM					</a>

				</p>

				<p><b>@Wael,</b></p>
<blockquote><p>Quit writing in them foreign scripts, dude!</p></blockquote>
<p>Thanks, man! Appreciate the heads up. 🙂</p>
<p>Imagine the trouble I&#8217;d be in if I&#8217;d been shilling for إلحاد and капитали́зм again! 😛</p>
<p><b>@r,</b></p>
<blockquote><p>I modify firefox&#8217;s about:config &#8220;image.http.accept&#8221; to include only jp[e]g png and svg.</p></blockquote>
<p>Sorry to disappoint you but that doesn&#8217;t really <i>do</i> anything. (You&#8217;re changing the value of the HTTP <i>Accept</i> header Firefox will send, but a server can send any response it likes. The <i>Accept</i> header is a hint for the server, no more. Keyword: content-negotiation.)</p>
<blockquote><p>SVG I believe presents much of the same problems of containing it&#8217;s own language</p></blockquote>
<p>HTML, CSS, PNG, JPG, GIF, HTTP, SVG, etc are all languages that your browser interprets. (You may need to squint to see this.) Javascript is just much trickier to interpret safely than the others.</p>
<p>The real problem here was Flash, by the way, not Javascript.</p>
<p>Oh, and the defense against this attack? <a href="http://www.welivesecurity.com/2016/12/06/readers-popular-websites-targeted-stealthy-stegano-exploit-kit-hiding-pixels-malicious-ads/" rel="nofollow ugc">Have a recent Python install</a> (see the appendix). Take that, all you so-called safe languages with your static types and your formal specs!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289477">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289477">
						December 8, 2016 1:28 AM					</a>

				</p>

				<p>@Ratio,</p>
<p>Yea! Imagine that! Lol 🙂</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289478">

			<div class="comment by-ratio ">

				<p class="commentcredit">

					<span class="commenter">Ratio</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289478">
						December 8, 2016 1:41 AM					</a>

				</p>

				<p>@Wael,</p>
<p>On second thought, one of those might not be such a good idea&#8230; I&#8217;ll leave it to you to guess which one. 😉</p>
<p>Interesting question: which words <i>would</i> be &#8220;safe&#8221; in other scripts?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289479">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289479">
						December 8, 2016 2:29 AM					</a>

				</p>

				<p>@Ratio,</p>
<blockquote><p>I&#8217;ll leave it to you to guess which one. 😉</p></blockquote>
<p>You already shilled for atheism 😉</p>
<blockquote><p>Interesting question: which words would be &#8220;safe&#8221; in other scripts?</p></blockquote>
<p>Who knows. Depends on the phase of the moon, I guess. imo, nothing that looks like Arabic is safe. And people see things that are not really there. <a href="https://www.schneier.com/blog/archives/2016/05/economist_detai.html#c6723817" rel="nofollow ugc">Math could be trouble</a> as well.</p>
<p>My turn to ask you an interesting question: what&#8217;s the <a href="https://en.m.wikipedia.org/wiki/Beam_divergence" rel="nofollow ugc">thread diversion angle</a>, if threads take three hours to digress from the subject proper? Hint: na! I won&#8217;t give you any 😉</p>
<p>PS: I typed &#8220;phase of the moon&#8221; in simplified Chinese but the comment got blocked&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289480">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289480">
						December 8, 2016 3:31 AM					</a>

				</p>

				<p>@ Thoth, ab praeceptis,</p>
<blockquote><p>It&#8217;s all about cash. Advertising makes money while protection doesn&#8217;t. Naturally the resources would flow to whatever makes cash and avoid whatever that doesn&#8217;t generates revenue.</p></blockquote>
<p>The joys of the &#8220;freemarket&#8221;, but it&#8217;s actually worse than the revenue flowing one way or the other.</p>
<p>Some people are actively doing what many suspected the AV industry was upto which was building blind spots that are as good as being backdoors. You have those who write ad-blocker code &#8220;except for the favourd few&#8221; thus they are taking money from both sides. Look on it as a weapons deal selling to both sides in a war, or physical security people selling master keys to criminals. It&#8217;s not just unethical, it&#8217;s immoral and potentialy illegal (yes there is legislation from other areas that is sufficiently broad to make it punishable behaviour through a court&#8230;).</p>
<p>But the problem with ad-blockers is like that of AV software. We&#8217;ve seen how malware writers run their code against 80% or more of the AV software out there, tunning their attacks to not be seen. The same goes on with ad-blocking software but it just does not get talked about.</p>
<p>Likewise the use of black/white lists, they are often talked about as though they are the same because they use the same underlying mechanism. But they are realy quite different. With a black list you are taking reaponsability for saying &#8220;I don&#8217;t trust you&#8221;, where as with a white list you are actually saying &#8220;Please don&#8217;t abuse me&#8221;. Thus abdicating your responsability to another who you have no control over.</p>
<p>There are two solutions to this ad-ware issue. A, Legislate against it. B, Remove the financial insentive.</p>
<p>I suspect that the back pockets of legislators will get way to weighed down with Judas incentives, thus it&#8217;s down to us as individuals to not use ad4view sites as strict policy.</p>
<p>@ Wael,</p>
<p>With regards U-lube as I&#8217;ve mentioned in the past I don&#8217;t have anything to do with them. Aside from my security and data cost concerns, I&#8217;ve generally much better things to do with my time. But I also don&#8217;t do &#8220;On Line Media&#8221; either, the DRM aspects are again an abdication of responsability. They claim they can not trust a few &#8220;Pirates&#8221; yet they deny everyone their fair use rights, it&#8217;s fairly obvious they are not telling the truth, and I see that as a deal breaker before they even approach me&#8230;</p>
<p>And please don&#8217;t try the old &#8220;You don&#8217;t know what you are missing&#8230;&#8221; line[1] I am sufficiently aware of what the upsides and the downsides are and I am content with my choice not to enter such an obvious exploitative market.</p>
<p>[1] It&#8217;s like the old joke about &#8220;Going for a ride with a tiger&#8221; with the punch line of &#8220;Nobody has ever come back&#8230; to complain&#8221;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289481">

			<div class="comment by-impossibly-stupid ">

				<p class="commentcredit">

					<span class="commenter"><a href='https://www.impossiblystupid.com' rel='external nofollow ugc' class='url'>Impossibly Stupid</a></span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289481">
						December 8, 2016 8:57 AM					</a>

				</p>

				<p>@ab praeceptis</p>
<blockquote><p>
Frankly, I see just basically two possibilities: a) either nobody really works on or cares about safe browsing or b) they&#8217;re all stupid and incapable.
</p></blockquote>
<blockquote><p>
Obviously, it&#8217;s a).
</p></blockquote>
<p>No, it&#8217;s mainly b).  I&#8217;ve done consulting at a number of places, and I&#8217;ve noticed that it tends to fall on management to make the decision whether or not to care about security (or any other issue), but as a <i>consequence</i> of their not caring they actually end up hiring incompetent developers to implement their plans, because no smart and capable people are willing to put up with the nonsense.  If the money is in malware, or any other criminal software enterprises, it simply could not be a better time to hire smart people who need the work and have a slightly twisted moral compass.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289482">

			<div class="comment by-mark ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.foocrypt.net' rel='external nofollow ugc' class='url'>Mark</a></span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289482">
						December 8, 2016 10:24 AM					</a>

				</p>

				<p>Interesting, if my memory serves me correctly, wasn;t there a jpeg one about 15 year ago similar to the png exploit ?</p>
<p>Ohh, why no comment on snoops Bruce ?</p>
<p><a href="http://www.theregister.co.uk/2016/11/30/investigatory_powers_act_backdoors/" rel="nofollow ugc">http://www.theregister.co.uk/2016/11/30/investigatory_powers_act_backdoors/</a></p>
<p>I suppose being U.S.A. and I.B.M. makes life hard to actually comment independently these days.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289483">

			<div class="comment by-anon ">

				<p class="commentcredit">

					<span class="commenter">Anon</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289483">
						December 8, 2016 10:36 AM					</a>

				</p>

				<p>Are they sure the malware is in the actual pixel data?<br />
A PNG file contains sections, and the spec says to simply ignore sections it doesn&#8217;t recognize.  Embedding extra/malicious data to a PNG is literally as simple as concatenating the file with another that has the correct section header and the resulting file still opens as normal by all viewers I am aware of.</p>
<p>It seems this would be a more natural way to embed code in PNG than fiddling with low order bits.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289484">

			<div class="comment by-gerard-van-vooren ">

				<p class="commentcredit">

					<span class="commenter">Gerard van Vooren</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289484">
						December 8, 2016 12:44 PM					</a>

				</p>

				<p>@r,</p>
<p>You have some <em>good</em> points about configuring the browser. I appreciate these. Please let me give you advice, take it or leave it, but a while ago you said that you thought of yourself as a windbag. If you stick with technical issues I am quite sure that people take you seriously. After all you <em>do</em> have the <em>practical</em> knowledge, which I think is much more important than the yet another discussion about the yet another micro-kernel-paper.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289485">

			<div class="comment by-albert ">

				<p class="commentcredit">

					<span class="commenter">albert</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289485">
						December 8, 2016 1:00 PM					</a>

				</p>

				<p>@Anon,<br />
Any portion of the .png file can be read. If you are referring to &#8216;chunks&#8217;, then it&#8217;s simple; just ignore all &#8216;ancillary chunks&#8217; (as the decoder does). That still leaves the the image data, hence the steganographic approach.<br />
. .. . .. &#8212; &#8230;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289486">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289486">
						December 8, 2016 1:02 PM					</a>

				</p>

				<p>@ r</p>
<p>&#8220;If ab and nick and appearently clive had their way we&#8217;d all be on thin clients with major DRM and whitelisting it seems.&#8221;</p>
<p>Does <a href="https://os.inf.tu-dresden.de/papers_ps/nizza.pdf" rel="nofollow ugc">this</a> or <a href="http://wiki.minix3.org/doku.php?id=www:documentation:features" rel="nofollow ugc">this</a> look like a thin client to you? They&#8217;re fully UNIX/Linux boxes with critical stuff isolated to stop common failures or attacks. The first style has at least four, commercial offerings for desktops with the other having 2-3 (QNX the innovator &amp; longest-running). They&#8217;ll hook you up for large sums of cash with OEM licensing also available. FOSS has little interest in such architectures but a few projects ongoing.</p>
<p>Although, if doing Nizza style, I&#8217;d prefer a security-enhanced BSD with Mac OS X usability for the legacy OS over Linux if I had to choose among mainstream stuff. If non-mainstream, BeOS or QNX-based (see Blackberry Playbook) since they <a href="https://youtu.be/BsVydyC8ZGQ?t=16m9s" rel="nofollow ugc">killed</a> everything else in handling concurrency, reliability, &amp; performance together. Unlike this shit box &amp; Linux combo I&#8217;m temporarily using that struggles doing PDF &amp; a web site at the same time on its Celeron CPU. Haha.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289487">

			<div class="comment by-ab-praeceptis ">

				<p class="commentcredit">

					<span class="commenter">ab praeceptis</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289487">
						December 8, 2016 1:35 PM					</a>

				</p>

				<p>Nick P</p>
<p>Addendum: Much of what you, Clive, I and some others say isn&#8217;t even about the desktop but rather about infrastructure.<br />
Having a considerably better infrastructure we can actually afford some tolerance for end user desktop crap.</p>
<p>So, the quoted remark that you were kind and partient enough to respond to, is quite nonsensical.</p>
<p>Moreover that quoted remark seems to be guided by the grossly mistaken perspective that we preach that safety/security is a matter of not having fun and colours but sitting, to put it into an image, in almost empty primitive asketic monk cells.</p>
<p>Bullshit!</p>
<p>Safety/security has its basis in good engineering. True, safety/security is also to do with reason, for instance, with the ratio between cost/risk and benefit; but mainly it&#8217;s a question of good engineering, preferably with and experienced and activated brain.</p>
<p>Example for the ratio I just mentioned: Would it <em>really</em> be an unbearable sacrifice to drop the capability to watch videos in a browser? No! We <em>do</em> have video players and we could perfectly well watch youtube stuff outside the browser.</p>
<p>Another hint: The very servers providing all the web-crap are managed through &#8220;poor&#8221; text consoles. No jumping boxes, no spinning coloured balls, no clicky clicky. Yet somehow the earth seems to not have stopped spinning nor do we know of masses of admins needing psychiatric treatment due to working in a &#8220;poor&#8221; monk cell environment.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289488">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289488">
						December 8, 2016 4:37 PM					</a>

				</p>

				<p>@ r</p>
<p>&#8220;If ab and nick and appearently clive had their way we&#8217;d all be on thin clients with major DRM and whitelisting it seems.&#8221;</p>
<p>As I&#8217;ve indicated unlike black listing, whitelisting is a bad idea  because you are abdicating trust there control to a third party which is never ever wise (CIA moto with unofficial rider is &#8220;In god we trust, all others we check forever&#8221;).</p>
<p>As for thin clients, in small user groups/teams they have advantages in that centralization solves a lot of otherwise awkward problems and thus can prevent a number of security weaknesses.</p>
<p>For instance backups of disks local to a users computer means that you need access to them when doing the backup, you also need it at a very high security level or very low hardware level. The best time is when the user is not using their computer. Because users have habbits, like turning their computer off you need a mechanism whereby you can turn it on remotely to do the backup.</p>
<p>Thus you potentially have a massive security hole, where the users HD contents get sent across the network at the command of any other computer that knows the right &#8220;incantation&#8221;&#8230;</p>
<p>With a centralized system and thin (diskless) clients there is no need to have a magic wakeup system etc. Thus things can be made a lot more secure.</p>
<p>However all of that is besides the point I&#8217;m making in this thread, which is not running some third party code on your system that you have no means of checking, and in all honesty the security of the execution environment is mediocre at best, and a distinct liability most times.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289489">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289489">
						December 8, 2016 5:07 PM					</a>

				</p>

				<p>And now we have a complete discussion, thanks guys. 😉</p>
<p>@Wael, sorry for steering you wrong it seems both they (not the above but a responder) and myself are right: switching out image/* or <em>/</em> only makes a difference with the servers you are connecting to. I couldn&#8217;t duplicate the gif restriction on ubuntu ff50.0.2 but I thought it worked on my gentoo ff-esr but nope &#8211; it&#8217;s server dependent sry.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289490">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289490">
						December 8, 2016 5:12 PM					</a>

				</p>

				<p>@r,</p>
<p>No worries!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289491">

			<div class="comment by-my-info ">

				<p class="commentcredit">

					<span class="commenter">My Info</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289491">
						December 8, 2016 6:36 PM					</a>

				</p>

				<blockquote><p>a malvertising campaign that has been active on several high profile websites.</p></blockquote>
<p>There are more of those than there are rats living in the walls behind the restaurants at Union Station downtown Washington, D.C.</p>
<p>Yes I know.  We &#8220;consume&#8221; all that content and we must pay for it by eating the rat droppings that are forced along with it.</p>
<p>HIV causes AIDS, and an incompletely understood interaction among <i>Rattus rattus</i>, <i>Rattus norvegicus</i>, <i>Xenopsylla cheopis</i>, and <i>Yersinia pestis</i> causes Plague.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289492">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289492">
						December 8, 2016 6:52 PM					</a>

				</p>

				<p>@My Info,</p>
<blockquote><p>HIV causes AIDS</p></blockquote>
<p><a href="https://www.schneier.com/blog/archives/2015/10/friday_squid_bl_499.html#c6709143" rel="nofollow ugc">How confident</a> are you?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289493">

			<div class="comment by-my-info ">

				<p class="commentcredit">

					<span class="commenter">My Info</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289493">
						December 8, 2016 7:37 PM					</a>

				</p>

				<p>@Wael</p>
<p>Many variations on that:</p>
<p>Logical proposition #1: HIV causes AIDS</p>
<p>Logical proposition #2: If a Doctor says HIV causes AIDS, then HIV causes AIDS.</p>
<p>Logical proposition #3: If the majority of Doctors say HIV causes AIDS, then HIV causes AIDS.</p>
<p>Logical proposition #4: If a highly esteemed Doctor says HIV causes AIDS, then HIV causes AIDS.</p>
<p>Where&#8217;s the research?  It&#8217;s hidden behind paywalls: there are multi-billion-dollar government studies on some alleged correlation between the intactness of men&#8217;s foreskins and their HIV status.  Which brings us to</p>
<p>Logical proposition #5: San Francisco barbers and New York rabbis cause AIDS.  Studies say the barbers have connections in Los Angeles, and the rabbis actually come from New Jersey.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289494">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289494">
						December 8, 2016 7:48 PM					</a>

				</p>

				<p>@ ab praeceptis</p>
<p>That last part was funny and true. People whose companies are stuck on mainframes get shit done on terminal apps every day. Except for the bouncing balls: that&#8217;s how the legacy of the Amiga began. 😉</p>
<p>@ Clive</p>
<p>&#8220;whitelisting is a bad idea because you are abdicating trust there control to a third party which is never ever wise (CIA moto with unofficial rider is &#8220;In god we trust, all others we check forever&#8221;).&#8221;</p>
<p>That&#8217;s common but not fundamental. Plenty of whitelisting schemes put the owner in control. Most market share goes to others because owners didn&#8217;t <em>want</em> to be in control. Convenience first.</p>
<p>&#8220;As for thin clients, in small user groups/teams they have advantages in that centralization solves a lot of otherwise awkward problems and thus can prevent a number of security weaknesses. &#8221;</p>
<p>This is true. My company does it. We get along fine. I recommend it for corporate environments that are concerned about productivity and security. Just gotta make sure they aren&#8217;t Slow As (Censored). Only hole in their scheme seems to be the bosses having real desktops. I believe the juiciest information is also on those. 😉</p>
<p>&#8220;Thus you potentially have a massive security hole, where the users HD contents get sent across the network at the command of any other computer that knows the right &#8220;incantation&#8221;&#8230;&#8221;</p>
<p>The right backup and/or VPN system can solve that one, though. The remaining vectors work on thin clients, too, since they&#8217;re just machines running the same vulnerable apps on some other system.</p>
<p>@ Wael</p>
<p>re AIDS</p>
<p>Barret had a piece debunking Deusberg that I thought was worth checking for validity or refutation. Interestingly, QuackWatch.org is down but a site quackpotwatch.org is up talking about a court ruling against his credibility. These games are so fun.</p>
<p>In any case, the most interesting things I remember when looking into this were the following claims:</p>
<ol>
<li>A US biowarfare researcher wants to develop a virus that will be the first to destroy the immune system of its target. Gives a timeline. Gets funding. HIV and AIDS, the first to destroy the immune system, show up in that timeline.</li>
<li>The groups they show up in are groups government hated a lot at the time with lots of abuse and experimentation going their way. Also showed up in areas government delivered vaccines, etc. Almost exclusively in these.</li>
</ol>
<p>The governments explanation or what I heard from authority figures back then was people either having sex with or ritualistically drinking the blood of some monkeys before it jumped species, then continents via travel, and then almost exclusively hit gay men in California that presumably were into the Africans. And dirty needles. Sounded like an air-tight case to me. On top of it, homophobic officials have a legit reason to officially oppose homosexuality. Win win for people liking both air tight-cases and fundamentalist version of Jesus.</p>
<p>Nothing to see here.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289495">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289495">
						December 8, 2016 8:38 PM					</a>

				</p>

				<p>@Nick P, @My Info,</p>
<p>Hmmm. Just wanted to share and see the reaction.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289496">

			<div class="comment by-nick-p ">

				<p class="commentcredit">

					<span class="commenter">Nick P</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289496">
						December 8, 2016 8:51 PM					</a>

				</p>

				<p>@ Wael</p>
<p>re &#8220;Just wanted to share and see the reaction.&#8221; Fox News has positions open. 😛</p>
<p>re HIV/AIDS dispute. The medical community is both helpful and full of shit. The government&#8230; based on <em>their</em> files &amp; employee accounts&#8230; was at maximum effort for shady stuff from 60&#8217;s-80&#8217;s with them chilling out a bit after that on domestic front. The kinds of sites that would teach me medicine just repeat status quo of connected people. The kinds that would reveal conspiracies repeat the truth and lies of those who write books about them. I don&#8217;t know up from down with the topic. 🙂</p>
<p>@ All<br />
(esp Clive)</p>
<p>Clive brought Margaret Hamilton to my attention. Irritated me that I hear more about Atwoods and such regarding software quality than people whose team did 6+ feet of specs &amp; assembly in rope memory in space with user failures while their code still saved the mission. Now, jtsummers on Hacker News told me about another badass woman named Nancy Leveson. Sexism apparently bit me too given I had seen references to Therac report for years by a Leveson but assumed it was a guy having never seen a woman in IT up to that point. (rolls eyes) Turns out, she was a forerunner in the 1980&#8217;s pushing software safety who did the exemplary work I heard about on air traffic control and other things. Her method for specifying &amp; verifying systems in executable way is very similar to other things I&#8217;ve seen in high-assurance. Either she inspired them or there was convergence.</p>
<p>Here&#8217;s the links to her site, book, and company:</p>
<p><a href="http://sunnyday.mit.edu/" rel="nofollow ugc">Nancy Leveson&#8217;s homepage</a></p>
<p><a href="https://mitpress.mit.edu/books/engineering-safer-world" rel="nofollow ugc">Engineering a Safer World</a></p>
<p><a href="http://www.safeware-eng.com/software%20safety%20products/software%20safety%20products.htm" rel="nofollow ugc">Safeware Engineering&#8217;s Prodcuts</a></p>
<p>I particularly love how the article says she wrote everything she knew about high-assurance design then got wiser or more confused. Exactly what happened to me after a decade including the good discussions on this blog. I&#8217;ve been redoing fundamentals over past year or two. At a much slower &amp; less confident pace as well. Hmm. 😉</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289497">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289497">
						December 8, 2016 9:28 PM					</a>

				</p>

				<p>@Nick P,</p>
<blockquote><p>I don&#8217;t know up from down with the topic. 🙂</p></blockquote>
<p>Same here, among many other topics 🙂</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289498">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289498">
						December 9, 2016 12:25 AM					</a>

				</p>

				<p>@ Nick P,</p>
<p>Asyou mentioned NASA, Astronaut John Glen has died aged 95,</p>
<p><a href="http://www.dispatch.com/content/stories/local/2016/12/john-glenn/john-glenn.html" rel="nofollow ugc">http://www.dispatch.com/content/stories/local/2016/12/john-glenn/john-glenn.html</a></p>
<p>@ Wael</p>
<p>I&#8217;ve mentioned the use of phages to fight infections in the old communist block countries where modern antibiotics were just not available for many reasons. Which is kind of important now due to our capitalist short sighted nature antibiotics nolonger work as well as they did. Well this might be of interest,</p>
<p><a href="http://nautil.us/issue/43/heroes/will-viruses-save-us-from-superbugs" rel="nofollow ugc">http://nautil.us/issue/43/heroes/will-viruses-save-us-from-superbugs</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289499">

			<div class="comment by-ratio ">

				<p class="commentcredit">

					<span class="commenter">Ratio</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289499">
						December 9, 2016 2:28 AM					</a>

				</p>

				<p>@Wael,</p>
<blockquote><p>what&#8217;s the thread diversion angle, if threads take three hours to digress from the subject proper?</p></blockquote>
<p>Oh, that&#8217;s ٤٢. Easy as π. 😉</p>
<p>(Numbers are still &#8220;safe&#8221;, right? Right?!)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289500">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289500">
						December 9, 2016 3:24 AM					</a>

				</p>

				<p>@Clive Robinson,</p>
<blockquote><p>the use of phages to fight infections in the old communist block </p></blockquote>
<p>That&#8217;s very interesting! I sent the link to my little brother to see what he thinks. Honey is also a potent antibacterial agent! They should have coated the guy&#8217;s heart with some honey 🙂</p>
<p>@Ratio,</p>
<blockquote><p>Oh, that&#8217;s ٤٢</p></blockquote>
<p>I&#8217;m impressed! Excellent guess. You needed some sort of unit after the number! What is it? 42 cucumbers? JPEG pictures (trying to stay on topic)? Frogs? Or degrees?</p>
<blockquote><p>Numbers are still &#8220;safe&#8221;, right?</p></blockquote>
<p>Hindi scripts (٤٢) for numbers are currently (emphasis on currently) safe. The Arabic representation &#8220;42&#8221; may not be as &#8220;safe&#8221;.  Incidentally, @Clive Robinson can tell you a lot about his friend Douglas Adams. But he still won&#8217;t tell you the secret of 42!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289501">

			<div class="comment by-ratio ">

				<p class="commentcredit">

					<span class="commenter">Ratio</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289501">
						December 9, 2016 4:05 AM					</a>

				</p>

				<p>@Wael,</p>
<blockquote><p>You needed some sort of unit after the number!</p></blockquote>
<p>Nothing gets past you, huh? 😉</p>
<p>Obviously, I meant 42 <i><em>mumble</em></i>s. 😉</p>
<blockquote><p>Hindi scripts (٤٢) for numbers are currently (emphasis on currently) safe.</p></blockquote>
<p>If 42 is Arabic and ٤٢ is Hindi, what do you call ४२ (42 in Devanagari)?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289502">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289502">
						December 9, 2016 4:19 AM					</a>

				</p>

				<p>@Ratio,</p>
<blockquote><p>what do you call ४२</p></blockquote>
<p>Looks like alpha-zeta&#8230; Something between Sumatra and Bali: JavaScript.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289503">

			<div class="comment by-ken-swift ">

				<p class="commentcredit">

					<span class="commenter">Ken Swift</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289503">
						December 9, 2016 3:03 PM					</a>

				</p>

				<p>@ Wael</p>
<blockquote>
<blockquote><p>
    Can the genie be put back in the bottle
  </p></blockquote>
<p>  But of course! We only need to identify the Jinni, the bottle, and the phisherman 😉
</p></blockquote>
<p>that sounds like a oral sufi parable recorded by Idries Shah,  my learned fellow ( you ,that is)</p>
<p>Wael , for everyone not as legendary as Clive who has the superhero powers to forgo javascript and email et cetera,  (but he only wears the cape at night)   the sub human class can use U Block Origin or U Block (one is a fork) .  In your case  the ads preceeding a youtube clip will cease to exist.  Can you imagine, those youtube injected ads  must have exponential scope for dangerous steno &#8211; all that bandwidth &#8211; compared to a flashing banner ad.<br />
U block Origin for cancelling ads  and No Script ,  and  U Block Matrix which has a great reputation. Thanks @r for insight about using it more effectively. Definitely suggest you check out U Block As long as javascript exists,  as long as we can&#8217;t stop the class of attacks,  we can mitigate to a really large extent with U Block plain and simple.  Stopping telling the laywomen and laymen to turn off javascript which they won’t do &#8211; tell them to install U Block.<br />
@ Wael what does your handle mean?  Oh, wait,  thats right it’s your real name</p>
<p>@ ab praeceptis</p>
<blockquote><p>
  Frankly, I see just basically two possibilities: a) either nobody really works on or cares about safe browsing or b) they&#8217;re all stupid and incapable&#8230;&#8230;.etc
</p></blockquote>
<p>you are hilarious!   Love your candour and your wisdom. It rocks.  But beware they whom engage you in the morning before you’ve had your cafe au lait!</p>
<p>@ r<br />
Re:  Firefox and about:config<br />
Are you aware of the extensive work done on modifying the about:config for privacy and security (hundreds of changes including some hidden ones)  by Pants whom posts here as Hairy Bannana? They have compiled an extensive list.<br />
 Read discussion in this recent thread:</p>
<p><a href="https://www.schneier.com/blog/archives/2016/11/firefox_removin.html" rel="nofollow ugc">https://www.schneier.com/blog/archives/2016/11/firefox_removin.html</a></p>
<p>@ Nick P  @ Wael<br />
Thanks for HIV/AIDS quality. Nice application of InfoSec mindset, Nick. Not the place to dissect the topic but can’t resist sharing some data points I’ve gathered:</p>
<p>it’s not the disease that kills, it’s the drug treatment that assuredly kills.  So,  someone coming back from a test with very very low HIV blood cell count, or a false positive,  starts drug treatment and begins the gradual decline into mortality.  Alternatively,  someone else gets a positive test and either does nothing /  refuses treatment and instead eats well and does yoga,clean lifestyle = no disease symptoms whatsoever.  So  if you know someone with HIV &#8211; tell them to refuse treatment and do their own research</p>
<p>Other points include there is no, actual, scientific data in existence that demonstrates  AIDS exists/ that HIV turns into AIDS /  that either of them actually kill you.  I came across a petition or paper recently undersigned by long list of respected international scientists affirming that hiv was just a plain old boring retrovirus with the most elementary cellular attributes, poor replication and defense systems and generally no outstanding or unusual attributes whatsoever &#8211; and that it had only the tiniest proportion of the actual research and attention every other virus receives. Instead had a totally disproportionate amount of money spent on unqualified treatment protocols.</p>
<p>The brilliant   JG Ballard  (I bet @ Clive is a fan)  has a great short story twist on ‘1984’  whereby everyone is so scared to have sex because of HIV, that the birth rates have plummeted &amp; the State has enforced sexual service duty for everyone of age.  One wears the choice of given ‘amorous’ costume and on appointed nights knocks on the door of the given stranger they are required to liase with.  Along the lines of 1984,  a male and female conspire to secretly not have sex every time they meet.  The story culminates with them being sprung by sexual enforcement officers &#8211; the punishment for the male being, he has to have sex every day with hundreds upon hundreds of desirable women</p>
<p>@ Nick P you’d like the one  by Ballard about how Reagan started WW3 but it only last for 7 minutes before it was cancelled</p>
<p>@Nick P</p>
<blockquote><p>
  @ All<br />
  (esp Clive)<br />
  “All humans are equal, but some are more equal than others”  I kid, I kid.
</p></blockquote>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289504">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289504">
						December 9, 2016 4:40 PM					</a>

				</p>

				<p>@Ken Swift,</p>
<blockquote><p>that sounds like a oral sufi parable recorded by Idries Shah, my learned fellow ( you ,that is)</p></blockquote>
<p>Nope, not oral Sufi. Has a lot more to it than that! But that will get us a few feet deep into religion 😉 Read about prophet Solomon (King in Judeo-Christian.)</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289505">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289505">
						December 9, 2016 6:18 PM					</a>

				</p>

				<p>@Ken Swift,</p>
<blockquote><p>what does your handle mean? Oh, wait, thats right it’s your real name</p></blockquote>
<p>Names too <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;nv=1&amp;rurl=translate.google.com&amp;sl=auto&amp;tl=en&amp;u=http://www.albawabhnews.com/353526&amp;usg=ALkJrhgL5deu6-6CgW-A9QYPOtlm0Mp2gA" rel="nofollow ugc">have meanings</a>, bubba! Lousy translation. Ask @Ratio for help&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289506">

			<div class="comment by-dark-flying-thing-w-tentacles ">

				<p class="commentcredit">

					<span class="commenter">Dark Flying Thing w Tentacles</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289506">
						December 9, 2016 9:12 PM					</a>

				</p>

				<p>I noticed this article when it came across the wire. It is interesting, as it combines two of my favorite aspects of modern attack and defense. Client side attack &amp; steganography.</p>
<p>While not currently a malware analyst, steganographical methods of covert communication and processing in exploitation and malware (rootkit level malware, especially) have always been the mandatory choice.</p>
<p>Because if you are storing or sending data across the wire without some manner of steganography, then it is either encrypted or plain text or otherwise easy to pick out of the haystack.</p>
<p>Why is encrypted data easy to pick out of the haystack?</p>
<p>Because encryption is, by design, extremely entropic, and the formula for processing level of entropy is highly simple and effective.</p>
<p>For an anomalous behavior analyst (to perhaps, invent a term, for researchers working on attack or defense technology of that manner, specifically those looking for previously unknown exploits of previously unknown vulnerabilities, and previously unseen malware)&#8230;&#8230;.</p>
<p>The sort of attacks which are bypassing all major defenses relying on white and black list systems, or systems with very poor logic&#8230;&#8230;.</p>
<p>Being able to detect data across the wire or otherwise on live systems which are designed not to be seen by inspectors definitively means detecting encrypted information is paramount.</p>
<p>In fact, I was pleasantly surprised by one of the Trump new hires pointing out that those using encryption are more worth inspecting then those not. And while he did not add this, what is especially interesting is those using encryption unusually, is much more interesting then those using encryption usually.</p>
<p>I am not talking &#8220;impressed&#8221; morally. But, technically.</p>
<p>One very common strategy over the years, of course, has simply been piggy backing commonly used encryption.</p>
<p>But, almost by definition, attacks will be performing performing behavior &#8220;out of band&#8221; from regular encryption usage. In other words, by many factors, &#8220;regular encryption&#8221; usage can be patterned, and invariably, very irregular encryption usage can certainly stand at extremely distinctively.</p>
<p>Forgive me for keeping this very abstract, very general. But it really can be stated this way, with confidence.</p>
<p>Which leaves, invariably steganography, or hiding in plain sight.</p>
<p>Security by obscurity? Perhaps, on the surface. But systems are already adhering to exactly such a system if they are attempting to in, somehow, piggyback existing patterns of encryption usage.</p>
<p>One major problem with almost any traditional form of steganography is, ultimately, in some measurable way, shape, form&#8230;. a new anomalous pattern emerges, and one which certainly has predictable attributes.</p>
<p>For instance, while compression has a tendency to increase entropy, just as encryption does&#8230; steganography has a tendency to dramatically decrease it.</p>
<p>The letters &#8212; all good folks here should know from childhood! E-T-O-N&#8230; for instance, hidden in something else, almost invariably will require not any longer simply four characters, but now many more.</p>
<p>Steganography adds invariably weight to covert information.</p>
<p>Even if you afterwards compress that product, even if you smooth it over with a system to make it as entropic as possible, it adds weight.</p>
<p>This is very much why, historically, there has been a general rule, that the meatier the data you are putting the covert information in&#8230;. the better the steganographical possibilities.</p>
<p>How, can this be avoided?</p>
<p>Or, other comments and criticism.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289507">

			<div class="comment by-ken-swift ">

				<p class="commentcredit">

					<span class="commenter">Ken Swift</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289507">
						December 10, 2016 2:16 AM					</a>

				</p>

				<p>@ All</p>
<p>Following on from Clives very helpful comments about blacklist vs whitelist,<br />
I just checked the whitelist built into No Script in the options &#8211; the whitelist I have never actually added anything to myself</p>
<p>I was horrified to discover it has netflix,  youtube,  google maps, live.com, hotmail.com , jsquery &#8211; a whole heap of nonsense</p>
<p>@ Wael</p>
<p>I was teasing when I said  &#8216;what does your handle mean, oh thats right it&#8217;s your real name&#8217;   Because of your earlier comment about  using your real name and believing in the right to free speech   😉</p>
<p>Ken Swift is actually a legend, and it&#8217;s not me &#8211; but he is indeed a real person</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289508">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289508">
						December 10, 2016 4:32 AM					</a>

				</p>

				<p>@Ken Swift,</p>
<blockquote><p>I was teasing</p></blockquote>
<p>I <a HREF="https://youtu.be/FSjvgSHK0f0" rel="nofollow ugc"> wasn&#8217;t</a>. I play for bloooood 🙂</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289509">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289509">
						December 10, 2016 10:10 AM					</a>

				</p>

				<p>So, discussion is what you want huh?</p>
<p>How can that specific attack against the advertisers be mitigated?</p>
<p>In it&#8217;s current form, easily &#8211; don&#8217;t allow images to pass through to your customers unmodified.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289510">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289510">
						December 10, 2016 10:11 AM					</a>

				</p>

				<p>It&#8217;s not like the developer was using ECC to allow error correction incase his bittedness is manipulated changing a bit or two along the length of the image would break his current impl.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289511">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289511">
						December 10, 2016 10:14 AM					</a>

				</p>

				<p>But, aside from being dependant on a single but very capable transparency layer care must be taken with any stripping attack because steganography doesn&#8217;t cover a binary fully in modifications leaving holes that can be manipulated further without effecting the encoding mechanism.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289512">

			<div class="comment by-r ">

				<p class="commentcredit">

					<span class="commenter">r</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289512">
						December 10, 2016 10:18 AM					</a>

				</p>

				<p>The likely reason for including this escalation is that any (technically) xss and communication methods are being observed/scrutinized by the advertiser[s] in question.</p>
<p>Stegano in a parallel image allows the scriptlet to carry a full tool chest without having it scrutinized.</p>
<p>As for the whitelist in noscript, it should always be top priority to whiten the whitelist on your first load.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289513">

			<div class="comment by-lskdfjjl ">

				<p class="commentcredit">

					<span class="commenter">lskdfjjl</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289513">
						December 10, 2016 12:04 PM					</a>

				</p>

				<p>A lot of you sound old and grumpy, and really bitter. The new web is great; sure there are some security issues, but that is usually the cost of anything that is successful.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289514">

			<div class="comment by-1st-arrondissement-mob-mentality ">

				<p class="commentcredit">

					<span class="commenter">1st arrondissement mob mentality</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289514">
						December 11, 2016 12:28 PM					</a>

				</p>

				<p>@lskdfjjl</p>
<p>Nice ad hominem. Would bite/10.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289515">

			<div class="comment by-impossibly-stupid ">

				<p class="commentcredit">

					<span class="commenter"><a href='https://www.impossiblystupid.com' rel='external nofollow ugc' class='url'>Impossibly Stupid</a></span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289515">
						December 11, 2016 5:02 PM					</a>

				</p>

				<p>@Dark Flying Thing w Tentacles</p>
<p>The way you write . . . seems to carry the weight of steganography.  🙂</p>
<blockquote><p>
For instance, while compression has a tendency to increase entropy, just as encryption does&#8230; steganography has a tendency to dramatically decrease it.</p>
<p>The letters &#8212; all good folks here should know from childhood! E-T-O-N&#8230; for instance, hidden in something else, almost invariably will require not any longer simply four characters, but now many more.
</p></blockquote>
<p>Because to be any less means it&#8217;s a form of compression.  Hiding 8 bit values as other 8 bit values is not hard, and that is almost certainly what was done with the malware in question (even if they only manipulated the least significant bit(s) of the larger image).  But, yeah, if you want to hide words in other words, there&#8217;s going to be significant overhead, just as if you wanted to instead hide an image in an image.</p>
<blockquote><p>
How, can this be avoided?
</p></blockquote>
<p>Pick data and transformations that better map between the &#8220;entropy&#8221; of the source and target domains.  I just did something along these lines for encoding locations.  If, for example, you have a 32 bit value representing the latitude, with all 0s meaning the South Pole and all 1s meaning the North Pole, you <em>could</em> just use the 8 bit values for N and S to represent them, because you&#8217;re being &#8220;smart&#8221; about how the system works holistically.  It&#8217;s a bit of a knapsack problem if you try to do it with random data, though.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-289516">

			<div class="comment by-easy-money ">

				<p class="commentcredit">

					<span class="commenter">easy money</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289516">
						December 12, 2016 7:42 PM					</a>

				</p>

				<p>Easy technique to use and exploit other vulnerabilities. Jar exploit can be used to in many ways, to unpack malicious code targeting av for instance. RGB values could be thought as benign, and many exploits  will target simple values to employ in novel ways. EXIF would likely get more attention, considering the large amount of commonly and not understood possibilities, RGB can slip in data under the radar. Conforming to rules, side stepping others, and &#8220;throwing a snapper in the works&#8221; are possible ways to simply target existing system components and abuse them.</p>
<p>You can enter EDID information into monitor firmware written in notepad in windows fairly easily. Many of windows sub processes can be abused using existing files and system components with some extra help.<br />
Even good technical knowledge can be used against the user to tempt someone to click on a prompt, given the likeness of certain approaches and predictable behavior.</p>
<p>I came across a few of these people who write advertising malware, many simply motivated financially, with some from families with criminal backgrounds. An attitude that malware is just another form of business and does not involve physical violence, or smuggling seems to attract them. Some of their circle include people who&#8217;d quite comfortable stuff a locally endangered bird in a piece of pipe and fly it for 24 hours across the world without a second thought. Funnily enough their offers of money didn&#8217;t seem to attract me to promoting their &#8220;advertising software&#8221;.</p>
<p>Exploiting flash and SQL were just as popular as any other easy exploit. They&#8217;ve written a bunch of these malvertising programs and let them lose with little thought to how the end product could be used and modified in the wild. Many contain efficient and new ways of distributing themselves, leaving behind vulnerabilities opened simply to deploy their packages more widely.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-289517">

			<div class="comment by-andy-marks ">

				<p class="commentcredit">

					<span class="commenter">Andy Marks</span> •

					<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/#comment-289517">
						January 28, 2017 6:42 AM					</a>

				</p>

				<p>Hello:<br />
I didn&#8217;t read all the comments but want to make a point about this particular attack.  One thing we fail to see in some news articles about exploits is mitigation.  Schneier is one of the best security people out there and I will continue to read, but the fact is this exploit can be greatly reduced or eliminated in multiple ways:</p>
<ol>
<li>Keep Flash up-to-date</li>
<li>Don&#8217;t use Flash</li>
<li>Set your browser to &#8216;ask to activate&#8217; Flash if setting is available in your browser</li>
<li>Run an ad-blocker such as Ublock Origin</li>
<li>Script blocker</li>
<li>Run your browser on an OS in a virtual machine.  If that machine becomes infected, restore from backup or use the pricier snapshot technology to instantly restore to save point.</li>
</ol>
<p>Combinations of the above will greatly reduce infection chance.  Doing 1, 3, and 4 reduces chance to near zero, probably for virtually all drive-by downloads not just this type.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

	<p class="subscribe-comments">
		<a href="https://www.schneier.com/blog/archives/2016/12/www_malware_hid.html/feed/">
			<img alt="Atom Feed" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/rss.png">
			Subscribe to comments on this entry		</a>
	</p>

		<div id="respond" class="comment-respond">
		<h2 class="comments-open-header">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/archives/2016/12/www_malware_hid.html#respond" style="display:none;">Cancel reply</a></small></h2><form action="https://www.schneier.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><a href="https://www.schneier.com/wp-login.php?redirect_to=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2016%2F12%2Fwww_malware_hid.html" title="Login">Login</a><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" /></p>
<p class="comment-form-url"><label for="url">URL:</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Remember personal info?</label></p>

<p class="comment-form-author">

	<label for="comm_capt_challenge">
		Fill in the blank: the name of this blog is Schneier on ___________ (required):	</label>

	<input id="comm_capt_challenge" name="comm_capt_challenge" size="30" type="text" />
</p>

<div class="comment-form-comment">

	<label for="comment">Comments:</label>

	<textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea>

	<div id="preview-box" class="preview-box hide"></div>
	<img class="comment-loading hide" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/loader.gif" />

</div>

<p id="allowed">

	<strong>Allowed HTML</strong>
	&lt;a href=&quot;URL&quot;&gt; &bull; &lt;em&gt; &lt;cite&gt; &lt;i&gt; &bull; &lt;strong&gt; &lt;b&gt; &bull; &lt;sub&gt; &lt;sup&gt; &bull; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &bull; &lt;blockquote&gt; &lt;pre&gt;
	<strong>Markdown Extra</strong> syntax via <a href="https://michelf.ca/projects/php-markdown/extra/">https://michelf.ca/projects/php-markdown/extra/</a>
</p>

<input type="hidden" id="wp_comment_nonce" name="wp_comment_nonce" value="4b1534b792" /><input type="hidden" name="_wp_http_referer" value="/blog/archives/2016/12/www_malware_hid.html" />
<input type="button" id="comment-preview" class="comment-preview comment-actions" value="Preview" />
<input type="button" id="comment-write" class="comment-write comment-actions hide" value="Edit" />

<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit" /> <input type='hidden' name='comment_post_ID' value='10926' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p></form>	</div><!-- #respond -->
	
	<div class="stepthrough">
		<a href="https://www.schneier.com/blog/archives/2016/12/international_p.html" rel="prev">← International Phone Fraud Tactics</a>		<a href="https://www.schneier.com/blog/archives/2016/12/new_nsa_stories.html" rel="next">New NSA Stories →</a>	</div>

	
<p id="powered">Sidebar photo of Bruce Schneier by Joe MacInnis.</p>
		</div>

		
<aside>
	<div class="sidebar" id="sidebar-two">
		<section><div class="sidesection widget widget_schneier_about" id="schneier_about-2"><h3>About Bruce Schneier</h3><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/Bruce-Schneier.jpg" /><p><p class="small">I am a <a href="https://public-interest-tech.com/">public-interest technologist</a>, working at the intersection of security, technology, and people. I've been writing about security issues on my <a href="/">blog</a> since 2004, and in my monthly <a href="/crypto-gram/">newsletter</a> since 1998. I'm a fellow and lecturer at Harvard's <a href="https://www.hks.harvard.edu/faculty/bruce-schneier">Kennedy School</a>, a board member of <a href="https://www.eff.org/">EFF</a>, and the Chief of Security Architecture at <a href="https://inrupt.com/">Inrupt, Inc.</a> This personal website expresses the opinions of none of those organizations.</p>
</p></div></section><section><div class="sidesection widget widget_schneier_related_posts" id="schneier_related_posts-2"><h3>Related Entries</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/archives/2021/03/illegal-content-and-the-blockchain.html">Illegal Content and the Blockchain</a></li><li><a href="https://www.schneier.com/blog/archives/2021/03/national-security-risks-of-late-stage-capitalism.html">National Security Risks of Late-Stage Capitalism</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/weis-2021-call-for-papers.html">WEIS 2021 Call for Papers</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/ransomware-profitability.html">Ransomware Profitability</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/presidential-cybersecurity-and-pelotons.html">Presidential Cybersecurity and Pelotons</a></li><li><a href="https://www.schneier.com/blog/archives/2021/01/police-have-disrupted-the-emotet-botnet.html">Police Have Disrupted the Emotet Botnet</a></li>
</ul>
</div></section><section><div class="sidesection widget widget_schneier_featured_essays" id="schneier_featured_essays-2"><h3>Featured Essays</h3>
	<ul>
		<li><a href="https://www.schneier.com/essays/archives/2016/04/the_value_of_encrypt.html">The Value of Encryption</a></li><li><a href="https://www.schneier.com/essays/archives/2016/03/data_is_a_toxic_asse.html">Data Is a Toxic Asset, So Why Not Throw It Out?</a></li><li><a href="https://www.schneier.com/essays/archives/2014/01/how_the_nsa_threaten.html">How the NSA Threatens National Security</a></li><li><a href="https://www.schneier.com/essays/archives/2009/01/terrorists_may_use_g.html">Terrorists May Use Google Earth, But Fear Is No Reason to Ban It</a></li><li><a href="https://www.schneier.com/essays/archives/2007/01/in_praise_of_securit.html">In Praise of Security Theater</a></li><li><a href="https://www.schneier.com/essays/archives/2006/08/refuse_to_be_terrori.html">Refuse to be Terrorized</a></li><li><a href="https://www.schneier.com/essays/archives/2006/05/the_eternal_value_of.html">The Eternal Value of Privacy</a></li><li><a href="https://www.schneier.com/essays/archives/2005/09/terrorists_dont_do_m.html">Terrorists Don&#039;t Do Movie Plots</a></li>	</ul>

	<p><a href="https://www.schneier.com/essays/">More Essays</a></p></div></section><section><div class="sidesection widget widget_schneier_archives" id="schneier_archives-2"><h3>Blog Archives</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/calendar.html/">Archive by Month</a></li><li><a href="https://www.schneier.com/blog/newcomments.html/">100 Latest Comments</a></li></ul>

<h4>Blog Tags</h4><ul class="top-tags"><li><a href="https://www.schneier.com/tag/3d-printers/">3d printers</a></li><li><a href="https://www.schneier.com/tag/9-11/">9/11</a></li><li><a href="https://www.schneier.com/tag/aaron-swartz/">Aaron Swartz</a></li><li><a href="https://www.schneier.com/tag/academic/">academic</a></li><li><a href="https://www.schneier.com/tag/academic-papers/">academic papers</a></li><li><a href="https://www.schneier.com/tag/accountability/">accountability</a></li><li><a href="https://www.schneier.com/tag/aclu/">ACLU</a></li><li><a href="https://www.schneier.com/tag/activism/">activism</a></li><li><a href="https://www.schneier.com/tag/adobe/">Adobe</a></li><li><a href="https://www.schneier.com/tag/advanced-persistent-threats/">advanced persistent threats</a></li><li><a href="https://www.schneier.com/tag/adware/">adware</a></li><li><a href="https://www.schneier.com/tag/aes/">AES</a></li><li><a href="https://www.schneier.com/tag/afghanistan/">Afghanistan</a></li><li><a href="https://www.schneier.com/tag/air-marshals/">air marshals</a></li><li><a href="https://www.schneier.com/tag/air-travel/">air travel</a></li><li><a href="https://www.schneier.com/tag/airgaps/">airgaps</a></li><li><a href="https://www.schneier.com/tag/al-qaeda/">al Qaeda</a></li><li><a href="https://www.schneier.com/tag/alarms/">alarms</a></li><li><a href="https://www.schneier.com/tag/algorithms/">algorithms</a></li><li><a href="https://www.schneier.com/tag/alibis/">alibis</a></li><li><a href="https://www.schneier.com/tag/amazon/">Amazon</a></li><li><a href="https://www.schneier.com/tag/android/">Android</a></li><li><a href="https://www.schneier.com/tag/anonymity/">anonymity</a></li><li><a href="https://www.schneier.com/tag/anonymous/">Anonymous</a></li><li><a href="https://www.schneier.com/tag/antivirus/">antivirus</a></li><li><a href="https://www.schneier.com/tag/apache/">Apache</a></li><li><a href="https://www.schneier.com/tag/apple/">Apple</a></li><li><a href="https://www.schneier.com/tag/applied-cryptography/">Applied Cryptography</a></li><li><a href="https://www.schneier.com/tag/artificial-intelligence/">artificial intelligence</a></li><li><a href="https://www.schneier.com/tag/assassinations/">assassinations</a></li></ul><p><a href="https://www.schneier.com/blog/tags.html/">More Tags</a></p></div></section><section><div class="sidesection widget widget_schneier_latest_book" id="schneier_latest_book-3"><h3>Latest Book</h3><a href="https://www.schneier.com/books/click-here/"><img class="sidepic" alt="Click Here to Kill Everybody" src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2018/07/book-ch2-200w.png" /></a><p><a href="https://www.schneier.com/books/">More Books</a></p></div></section><section><div class="sidesection widget widget_schneier_promotion" id="schneier_promotion-2">
<a href="https://www.eff.org/issues/bloggers/legal/join">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/join-eff@2x.png" id="effbutton" alt="Support Bloggers' Rights!" title="Support Bloggers' Rights!" /></a>

<a href="https://npo.networkforgood.org/Donate/Donate.aspx?npoSubscriptionId=8252">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/support-epic@2x.png" alt="Defend Privacy--Support Epic" title="Defend Privacy--Support Epic" /></a>
</div></section>	</div>
</aside>

		<footer>
			<nav>
				<div class="nav" id="footer-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="menu"><li class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>
		</footer>

		</div><!--#main-->
	</div><!--#wrapper-->

		<script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<script type='text/javascript' src='https://c0.wp.com/p/woocommerce/5.1.0/assets/js/jquery-cookie/jquery.cookie.min.js' id='jquery-cookie-js'></script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/socialshareprivacy.js?ver=1.0.1' id='social-share-privacy-js'></script>
<script type='text/javascript' id='social-share-privacy-icons-js-extra'>
/* <![CDATA[ */
var schneierSocial = {"path":"https:\/\/www.schneier.com\/wp-content\/themes\/schneier\/assets\/vendor\/socialshareprivacy\/"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/icons.js?ver=1.0.0' id='social-share-privacy-icons-js'></script>
<script type='text/javascript' id='schneier-comment-js-extra'>
/* <![CDATA[ */
var schneierComment = {"translateErrorSecurityAnswerWrong":"Your response to the challenge question ('The name of this blog is Schneier on ____') was not correct. Please try again.","ajax_url":"https:\/\/www.schneier.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/js/comment.js?ver=1.0.1' id='schneier-comment-js'></script>
<script type='text/javascript' src='https://c0.wp.com/c/5.7/wp-includes/js/wp-embed.min.js' id='wp-embed-js'></script>

</body>

</html>
