<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>Securing a Raspberry Pi - Schneier on Security</title>
	<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel='dns-prefetch' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Feed" href="https://www.schneier.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Comments Feed" href="https://www.schneier.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Securing a Raspberry Pi Comments Feed" href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://c0.wp.com/c/5.7/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='schneier-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/style.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='schneier-main-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/dist/css/style.css?ver=1.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://c0.wp.com/p/jetpack/9.5.2/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js?ver=3.5.1' id='jquery-js'></script>
<link rel="https://api.w.org/" href="https://www.schneier.com/wp-json/" /><link rel="alternate" type="application/json" href="https://www.schneier.com/wp-json/wp/v2/posts/11299" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.schneier.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.schneier.com/wp-includes/wlwmanifest.xml" /> 

<link rel="canonical" href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html" />
<link rel='shortlink' href='https://www.schneier.com/?p=11299' />
<link rel="alternate" type="application/json+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2017%2F09%2Fsecuring_a_rasp.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2017%2F09%2Fsecuring_a_rasp.html&#038;format=xml" />
	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-32x32.png" sizes="32x32" />
<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-180x180.png" />
<meta name="msapplication-TileImage" content="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-270x270.png" />
		<style type="text/css" id="wp-custom-css">
			#schneier_promotion-2 img {
    max-width: 180px;
}		</style>
		</head>

<body class="post-template-default single single-post postid-11299 single-format-standard theme-schneier woocommerce-no-js">

	<div id="wrapper">
		<div id="main">

			<header>
				<div id="header">
					<h1>
						<a href="https://www.schneier.com/" rel="home">
							Schneier on Security						</a>
					</h1>
				</div>
			</header>

			<nav>
				<div class="nav" id="header-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-50175" class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li id="menu-item-50916" class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li id="menu-item-50166" class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li id="menu-item-50169" class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li id="menu-item-50170" class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li id="menu-item-50171" class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li id="menu-item-50167" class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li id="menu-item-50174" class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>

			
<aside>
	<div class="sidebar" id="sidebar-one">
		<section><div class="sidesection widget widget_schneier_search" id="schneier_search-3"><h3>Search</h3>
<p class="small">
	<em>Powered by <a href="https://duckduckgo.com/">DuckDuckGo</a></em></p>

<form method="get" action="https://duckduckgo.com/">

	<input type="hidden" name="kh" value="1" /><!-- use https -->

	<input id="search" name="q" size="15" maxlength="255" />

	<input type="submit" value="Go" /><br>

	<input type="radio" name="sites" id="searchblog" value="www.schneier.com/blog" />
	<label for="searchblog">Blog</label>

	<input type="radio" name="sites" id="searchessays" value="www.schneier.com/essays" />
	<label for="searchessays">Essays</label>

	<input type="radio" name="sites" id="searchall" value="www.schneier.com" checked="" />
	<label for="searchall">Whole site</label>

</form>
</div></section><section><div class="sidesection widget widget_schneier_social" id="schneier_social-2"><h3>Subscribe</h3>
<div id="subscription-buttons">

	<a href="https://www.schneier.com/feed/atom"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/rss-32px.png" alt="Atom Feed" /></a><a href="https://www.facebook.com/bruce.schneier"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/facebook-32px.png" alt="Facebook" /></a><a href="https://twitter.com/schneierblog/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/twitter-32px.png" alt="Twitter" /></a><a href="https://www.amazon.com/Schneier-on-Security/dp/B0053HDDWW/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/kindle-32px.png" alt="Kindle" /></a><a href="https://www.schneier.com/crypto-gram"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/email-32px.png" alt="E-Mail Newsletter (Crypto-Gram)" /></a>
</div>
</div></section>	</div>
</aside>

			<div id="content">

				
		<p id="breadcrumbs">

			<a href="https://www.schneier.com">Home</a><a href="https://www.schneier.com/blog/archives/">Blog</a>		</p>

		
<article id="post-11299" class="post-11299 post type-post status-publish format-standard hentry category-uncategorized tag-computer-security tag-internet-of-things">

	<div class="article">

		<h2 class="entry">Securing a Raspberry Pi</h2>
		<p>A Raspberry Pi is a tiny computer designed for makers and all sorts of Internet-of-Things types of projects. <i>Make</i> magazine has an <a href="https://makezine.com/2017/09/07/secure-your-raspberry-pi-against-attackers/">article</a> about securing it. Reading it, I am struck by how much work it is to secure. I fear that this is beyond the capabilities of most tinkerers, and the result will be even more insecure IoT devices.</p>

		
			<p class="entry-tags">
				<span class="tags-links">Tags: <a href="https://www.schneier.com/tag/computer-security/" rel="tag">computer security</a>, <a href="https://www.schneier.com/tag/internet-of-things/" rel="tag">Internet of Things</a></span>			</p>

		
		
		<p class="posted">
			<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html" rel="bookmark">Posted on September 12, 2017 at 6:12 AM</a>			•
			<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html#comments">64 Comments</a>		</p>

		<aside><div class="schneier-share share" data-uri="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html" data-title="Securing a Raspberry Pi" data-order="facebook twitter tumblr" data-social-share-privacy="true" /></aside>
	</div>

</article>


	<h3 id="comments">Comments</h3>

	
		<article class="comment even thread-even depth-1" id="comment-307223">

			<div class="comment by-mm ">

				<p class="commentcredit">

					<span class="commenter">MM</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307223">
						September 12, 2017 6:29 AM					</a>

				</p>

				<p>&#8220;Reading it, I am struck by how much work it is to secure.&#8221;<br />
But I am struck by this</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307224">

			<div class="comment by-steve ">

				<p class="commentcredit">

					<span class="commenter">Steve</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307224">
						September 12, 2017 6:30 AM					</a>

				</p>

				<p>I agree many will not follow.  Great find Bruce!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307225">

			<div class="comment by-keiner ">

				<p class="commentcredit">

					<span class="commenter">keiner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307225">
						September 12, 2017 6:46 AM					</a>

				</p>

				<p>insecurity by design for the Raspian distribution:</p>
<ul>
<li>standard user: pi (VERY hard to change or get totally rid of this user)</li>
<li>standard password: raspberry</li>
<li>passwordless su (no joke)</li>
<li>until recently: ssh (with user password) open by default&#8230;</li>
<li>
<p>no firewall at all</p>
</li>
<li>
<p>Interweb thingy full with 1 gazillion of How-To&#8217;s to make the thing available on the internet. Fortunately not that many can/want to do so, at least not without changing at least the password.</p>
</li>
</ul>
<p>I use my raspberries only in the local network and they are blocked from reaching anything outside LAN&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307226">

			<div class="comment by-git ">

				<p class="commentcredit">

					<span class="commenter">GiT</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307226">
						September 12, 2017 6:55 AM					</a>

				</p>

				<p>Not sure if this really helps the security situation? But may be interesting to some&#8230; Using TOR for IOT devices and home networks: <a href="https://www.wired.com/2016/07/now-can-hide-smart-home-darknet/" rel="nofollow ugc">https://www.wired.com/2016/07/now-can-hide-smart-home-darknet/</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307227">

			<div class="comment by-ioannis ">

				<p class="commentcredit">

					<span class="commenter">Ioannis</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307227">
						September 12, 2017 7:30 AM					</a>

				</p>

				<p>Most of these stuff should be part of the staple puppet/chef/ansible/etc configuration for any distribution. Try following any hardening guide, they&#8217;re usually much longer than this.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307228">

			<div class="comment by-agumonkey ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://c2.com/cgi/wiki?LispLanguage' rel='external nofollow ugc' class='url'>agumonkey</a></span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307228">
						September 12, 2017 7:34 AM					</a>

				</p>

				<p>I don&#8217;t think it&#8217;s neither hard nor out of reach. A large share of people tinkering with pi do far longer and far fuzzier things; that tutorial won&#8217;t scare them for sure.</p>
<p>That said, it should be mandatory and shown every time you buy a pi.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307229">

			<div class="comment by-joshua-bowman ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://www.silverbacknetworks.tech' rel='external nofollow ugc' class='url'>Joshua Bowman</a></span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307229">
						September 12, 2017 8:10 AM					</a>

				</p>

				<p>This is much more about Raspbian, the default Pi OS, than it is about the Pi. The Pi has physical security issues, but they&#8217;re only slightly higher than any computing device&#8217;s physical security. If you want to avoid Raspbian&#8217;s entry-level catering problems, just use a real Linux OS with Pi drivers! It&#8217;s really not that hard.</p>
<p>Raspbian trades off security for beginner usability. It&#8217;ll probably never change much.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307230">

			<div class="comment by-rmd ">

				<p class="commentcredit">

					<span class="commenter">rmd</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307230">
						September 12, 2017 8:11 AM					</a>

				</p>

				<p>I think the biggest risk isn&#8217;t the average home user, but places like universities where you tend to have very large populations of poorly secured devices and often very little in the way of internal barriers blocking E/W traffic.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307231">

			<div class="comment by-anon ">

				<p class="commentcredit">

					<span class="commenter">anon</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307231">
						September 12, 2017 8:12 AM					</a>

				</p>

				<p>Well, the prime security measure is to change the default password.  That should be the very first thing any person setting up any (not just IoT) device should think of.  Although this should have entered the realm of common sense by now, your average Joe Consultant/Jane The-Only-Tech-Savy-Employee still skips this step due to convenience, and that&#8217;s where the Internet-of-Shit is born.</p>
<p>Without password change, the remaining security measures in that guide are mostly useless &#8212; if you know the password, the system is fair game anyway.</p>
<p>OTOH, with a strong password the system is okay-ish in its default state.  The additional measures are not essential, they are defense-in-depth.  I&#8217;d say automatic updates are the most important (&#8220;apt install unattended-upgrades&#8221;), followed by ssh authorization via public/private-keypair only. &#8220;Turn off what you don&#8217;t need&#8221; is also a good one.  None of these are Pi-specific but apply to any computing system on the net.</p>
<p>So in summary: Nothing special to see here, move on and do the same stuff you&#8217;d hopefully do anyways.</p>
<p>BTW, that firewall logging tip is actually harmful, as those that have enough knowledge to benefit from that will also have the knowledge to set this up by themselves.  Those that don&#8217;t will find their log files full of information they can&#8217;t make sense of, distracting them from more important messages.  In the worst case it will fill their free disk space until the Pi no longer works correctly.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307232">

			<div class="comment by-me ">

				<p class="commentcredit">

					<span class="commenter">Me</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307232">
						September 12, 2017 8:13 AM					</a>

				</p>

				<p>It takes less than 20 minutes for a Pi to get pwned by ssh if not secured.  I tried, as an experiment.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307233">

			<div class="comment by-mikeb ">

				<p class="commentcredit">

					<span class="commenter">MikeB</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307233">
						September 12, 2017 8:21 AM					</a>

				</p>

				<p>This is pretty vanilla security for any Linux box. I don&#8217;t see tinkerers having a particularly difficult time with it. Possibly the biggest hurdle being getting them to think about it.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307234">

			<div class="comment by-peter-a ">

				<p class="commentcredit">

					<span class="commenter">Peter A.</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307234">
						September 12, 2017 8:29 AM					</a>

				</p>

				<p>All but one of this &#8220;security issues&#8221; applies to all stock Linux distribution sand are non-issues after all.</p>
<p>The only issue about Raspbian is a default user/password pair. It is necessary, otherwise you would not be able to access your Pi after you&#8217;ve copied install image on your SD card &#8211; the process is unlike installing a desktop Linux from a CD, when the installer prompts you to create user/password pair. The only improvement to make here is to force password change after first login in the default install image.</p>
<p>Others are non-issues. Creating another account and blocking pi account only marginally helps by disabling automated password guessing for this account, but once you have a strong password it is a non-issue.</p>
<p>Passwordless sudo is not much worse than sudo with a password &#8211; once you guessed the password to log in to the account which allows sudo at all, you use the same password for sudo. You have to either enable sudo on some account or you have to allow root logins (which is frowned upon for no reason) &#8211; otherwise you won&#8217;t be able to manage your box. Actually, sudo with a password is a protection from the admin himself &#8211; to allow him a slight pause after typing a command, so he can think for a second time.</p>
<p>Allowing SSH &#8220;from anywhere&#8221; (i.e. by providing proper user/password pair) is a non-issue &#8211; almost all Linuxes out there allow SSH login for at least one account, because that is how you get to access them! and nobody screams about millions of vulnerable machines. Of course, if you know for sure you&#8217;ll never need to login to your Linux box (be it Pi or full-featured PC) from outside of your network, you may limit it and you may do other stuff like disabling PAM or challenge-response as an extra precaution &#8211; but many boxes do use PAM (multi-user machines) or challenge-response auth (various OTP schemes) for good reasons and there&#8217;s absolutely no problem with that.</p>
<p>Firewall: very few Linux distribution apply firewall rules out of the box, and even if they do, they do really basic stuff. No need to worry. Just don&#8217;t run a service with cleartext passwords or no access control at all. Many desktop distributions run a lot of services by default and nobody complains because they are reasonably secure.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307235">

			<div class="comment by-pete ">

				<p class="commentcredit">

					<span class="commenter">Pete</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307235">
						September 12, 2017 8:35 AM					</a>

				</p>

				<p>This isn&#8217;t a raspberry pi issue. It is a disto issue.<br />
Not everyone uses raspbian.  Think I used it for 10 minutes, once.</p>
<p>Look for accounts with shells.<br />
$ grep sh  /etc/passwd</p>
<p>OSMC (kodi-centric distro) has root and the osmc accounts with a shell. No other accounts allow logins.  The root account on osmc doesn&#8217;t have a password &#8211; only sudo can be used by the osmc account to get elevated access.<br />
The osmc account DOES have a trivial password &#8220;osmc&#8221;, but changing that is bonehead.</p>
<p>The real issue is that lots and lots of noobs are using Unix-like systems without the knowledge to do so and making all sorts of incorrect assumptions.  Most have never heard of ssh, much less know the common ideas for securing it, like never using passwords or allowing remote root access &#8211; EVER.</p>
<p>I wouldn&#8217;t disable password-based logins everywhere.  I&#8217;d just disable them over the network and force ssh-keys be used.  sshd has tcp-wrappers built-in, so preventing non-LAN ssh attempts is trivial.</p>
<p>Most have never heard of denyhosts or fail2ban either.</p>
<p>Don&#8217;t get me started about people/companies still using plain FTP.  Don&#8217;t.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307236">

			<div class="comment by-john ">

				<p class="commentcredit">

					<span class="commenter">John</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307236">
						September 12, 2017 8:36 AM					</a>

				</p>

				<p>Well this doesn&#8217;t strike me at all.<br />
A raspberry is a type of a machine that makes computations. Aka a type of computer. And like any type of computer -especially the ones that can act like server- WORK needs to be done to secure them. Before judging about the default user/pass, ask yourself a question: How many people simply dump a raspberry iso image to the sd card, plug in the lan cable and wait until they can ssh to configure the raspberry to their needs? I&#8217;ll answer that: a lot.</p>
<p>So a lot of the default stuff that are automatically added by the raspbian or other images, are because a lot of users actually need that. If you&#8217;re willing to take your raspberry on a ride to the internet, then you sir/m&#8217;am must read a thing or two (actually a thousand things) to be able to say that you&#8217;ve secured the boxed devil. I agree that ways to secure thing should be more user friendly and easier. But this is not related to the raspberry, it&#8217;s related to every computer.<br />
We should find ways to provide easier and more user-friendly ways for people to secure things. Default setup values are a bliss for some people and we shouldn&#8217;t judge these. What we should judge is how easy is it for someone to secure a computer box and if the OS informs the user that the box is kinda unsecured. So in the raspberry case, a big splash warning (on the GUI or the terminal) that the user should change their settings (using an easy user friendly way) is the solution to solve this. We should find the golden ration to security/user-friendliness instead of trying to remove from the scale any of the two.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307237">

			<div class="comment by-ab-praeceptis ">

				<p class="commentcredit">

					<span class="commenter">ab praeceptis</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307237">
						September 12, 2017 8:46 AM					</a>

				</p>

				<p>I fully agree with Bruce Schneier. While many here will smile and consider it easy, we should keep in mind that many Arm tinker boards come with Ubuntu. &#8220;Ubuntu&#8221; and how to install it also happens to be one of the more frequent type of help requests. That&#8217;s a clear sign that many of those users have a clickedyclick GUI background and mindset and are far from comfortably editing config files, let alone properly and sufficiently understanding their system.</p>
<p>I&#8217;m wondering why the companies don&#8217;t deliver their stuff reasonably well configured (e.g. having a default what the article suggests plus maybe a &#8220;setup&#8221; script asking for some parameters).</p>
<p>Another useful approach might be to have a set of config scripts for typical scenarios (e.g. &#8220;I want a small web server on my board&#8221;) available from which the users can chose and from which reasonably secure configurations can be created.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307238">

			<div class="comment by-keiner ">

				<p class="commentcredit">

					<span class="commenter">keiner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307238">
						September 12, 2017 8:51 AM					</a>

				</p>

				<p>@Peter A.</p>
<p>&#8220;The only issue about Raspbian is a default user/password pair.&#8221;</p>
<p>Could be FORCED to change (both) on first login. Maybe not in the distri used for schools, but for other users.</p>
<p>&#8220;Passwordless sudo is not much worse than sudo with a password &#8211; once you guessed the password to log in to the account which allows sudo at all, you use the same password for sudo.&#8221;</p>
<p>Ehhm, on my Linux, I need the root password for sudo. User pw for sudo is usual in Debian&#8230;</p>
<p>@Joshua B</p>
<p>&#8220;If you want to avoid Raspbian&#8217;s entry-level catering problems, just use a real Linux OS with Pi drivers! It&#8217;s really not that hard.&#8221;</p>
<p>Show me an OS other than raspian with support for the cam module and the GPIOs&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307239">

			<div class="comment by-keiner ">

				<p class="commentcredit">

					<span class="commenter">keiner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307239">
						September 12, 2017 8:57 AM					</a>

				</p>

				<p>@ab prae</p>
<p>One of the frequently used setups for raspis is a small home media server using Kodi. I downloaded it once and burned an SD-card, booted and got shocked by the news that the only used on this system has a HARDCODED password. Never booted that again.</p>
<p>But this is quit frequently used out there in the wild&#8230;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307240">

			<div class="comment by-wellwellwell ">

				<p class="commentcredit">

					<span class="commenter">wellwellwell</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307240">
						September 12, 2017 9:00 AM					</a>

				</p>

				<p>Well, yes and no. Yes its a long laundry list to go, but many out of the box linux distros are not better by default. But mainly &#8211; pi is here for study/play purposes mainly, not for production environment. You can&#8217;t expect airsoft gun to make significant harm&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307241">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307241">
						September 12, 2017 9:07 AM					</a>

				</p>

				<p><a href="http://www.raspbsd.org/#image-info" rel="nofollow ugc">http://www.raspbsd.org/#image-info</a><br />
<a href="https://wiki.freebsd.org/arm64/rpi3" rel="nofollow ugc">https://wiki.freebsd.org/arm64/rpi3</a><br />
I haven&#8217;t used it myself since my Raspberry Pi never arrived. If I order another set, FreeBSD is what I&#8217;ll use.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307242">

			<div class="comment by-keiner ">

				<p class="commentcredit">

					<span class="commenter">keiner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307242">
						September 12, 2017 9:09 AM					</a>

				</p>

				<p>@wellwellwell</p>
<p>You know about the raspian compute module? Is integrated into smart TVs, commercial home automation modules etc. growing and growing. There is a big and growing commercial market for this stuff.</p>
<p>Lot&#8217;s of people use it as small local mail-, print-, VOIPservers in professional environments. One of the reason the raspi 2B is not dying out, cause these people  don&#8217;t like the (more powerful) raspi 3b (due to built-in wifi, you know 😉 )</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307243">

			<div class="comment by-keiner ">

				<p class="commentcredit">

					<span class="commenter">keiner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307243">
						September 12, 2017 9:16 AM					</a>

				</p>

				<p>@ internet fraud from pi dealer? 😉</p>
<p>BSD: expect a ruff ride&#8230;</p>
<p>If you just want to play around without GPIO/cam, try openSUSE TW. Not a plug&amp;play solution, but I  have some of those around stable for more than 1 year. No support for wifi on raspi 3b, however. I like it.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307244">

			<div class="comment by-ab-praeceptis ">

				<p class="commentcredit">

					<span class="commenter">ab praeceptis</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307244">
						September 12, 2017 9:21 AM					</a>

				</p>

				<p>keiner</p>
<p>Oh, I don&#8217;t doubt that there more or less positive examples out there, too. Moreover, also as a P.S. to my last comment, we should note that OpenBSD (or whetever) wouldn&#8217;t be better per se.</p>
<p>And yes, we need not even discuss that, <em>of course</em> it&#8217;s insane to deliver boards with hardcoded passwords. One wonders how there are still some companies who didn&#8217;t get that message.</p>
<p>But still, I see that all over the place with the unices, generally there is much left to be desired and many, many users are even so much overwhelmed that trying it they quickly give up on Linux (or the BSDs) because it seems so complex and frightening.</p>
<p>While there will probably always be some complexity in a (not ultra trivial) OS there is certainly a lot that <em>could</em> be made friendlier. That why I talked about typical scenarios: they would help a lot &#8211; and quite possibly lure interested users into learning more rather than be frightened and drop it. Things like &#8220;I want to use my [whatever board] to run a small web server&#8221;.</p>
<p>When that has been done (e.g. the oss router projects) it usually became a big success.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307245">

			<div class="comment by-keiner ">

				<p class="commentcredit">

					<span class="commenter">keiner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307245">
						September 12, 2017 9:27 AM					</a>

				</p>

				<p>@ab prae</p>
<p>It&#8217;s not the hardware, it&#8217;s the OS you download from wherever you want from the interweb. Raspian, openSUSE, Kodi, whatever, an image file you download and dd to an SD-card. Put the SD-card into the slot of the raspi and boot it up. That&#8217;s how the OS (and btw all firmware) is added to the hardware you buy&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307246">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307246">
						September 12, 2017 9:37 AM					</a>

				</p>

				<blockquote><p>internet fraud from pi dealer? 😉</p></blockquote>
<p>More likely something else. FreeBSD on newly supported HW isn&#8217;t exactly cakewalk. Camera is supported, links say.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307247">

			<div class="comment by-keiner ">

				<p class="commentcredit">

					<span class="commenter">keiner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307247">
						September 12, 2017 10:02 AM					</a>

				</p>

				<p>@Wael<br />
re cam: saw that, but don&#8217;t really buy that&#8230; have a few action cam style raspis doing .h264 hi res videos. Let me know if that works on BSD&#8230; 🙂</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307248">

			<div class="comment by-bob ">

				<p class="commentcredit">

					<span class="commenter">Bob</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307248">
						September 12, 2017 10:07 AM					</a>

				</p>

				<p>Hardening systems has never been quick and easy. A Raspberry Pi doesn&#8217;t strike me as any more insecure out of the box than countless other pieces of garbage coming together to form the internet of stupid shit. At least with the Pi, it&#8217;s possible to harden it, and I have to assume that someone using a Raspberry Pi instead of some off-the-shelf piece of consumer garbage has a little more skill to apply to that end.</p>
<p>Of course, not everybody, or even most people, are going to take any steps at all to harden their Pis, but the option is at least there, and the number/percentage is still going to be higher than with the people buying proprietary shit that&#8217;s locked down into a state of permanent insecurity.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307249">

			<div class="comment by-wellwellwell ">

				<p class="commentcredit">

					<span class="commenter">wellwellwell</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307249">
						September 12, 2017 10:14 AM					</a>

				</p>

				<p>@keiner well it doesn&#8217;t change my words. Only someone &#8220;wise&#8221;  started to push it outside of the ground it was intended to be used.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307250">

			<div class="comment by-notsowell ">

				<p class="commentcredit">

					<span class="commenter">notsowell</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307250">
						September 12, 2017 10:23 AM					</a>

				</p>

				<p>@Joshua Bowman</p>
<blockquote><p>Raspbian trades off security for beginner usability. It&#8217;ll probably never change much.</p></blockquote>
<p>The particular product may happen to have poor security and excellent beginner usability, but that is a <b>false dichotomy</b>.  There is no trade-off.</p>
<p>Computer security is poor in general, and there is too much resistance to change from people who have a little gig going on the side.</p>
<p>FYI: Good security never interferes with beginner usability.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307251">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307251">
						September 12, 2017 10:46 AM					</a>

				</p>

				<p>@keiner,</p>
<blockquote><p>re cam: saw that, but don&#8217;t really buy that</p></blockquote>
<p>I&#8217;m kind of skeptical, too.</p>
<blockquote><p>Let me know if that works on BSD&#8230; 🙂</p></blockquote>
<p>When I have the HW and if I have the time, I&#8217;ll do.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307253">

			<div class="comment by-de-la-boetie ">

				<p class="commentcredit">

					<span class="commenter">de La Boetie</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307253">
						September 12, 2017 11:12 AM					</a>

				</p>

				<p>On the Richter scale of unnecessary graunch to add basic security, I&#8217;d say the Pi is middling.  But this is only because it&#8217;s dreadful or impossible on some other devices.</p>
<p>I would recommend casting Iot and similar devices (e.g. Voip adapters, webcams), onto a distinct internal LAN network (via VLAN or otherwise), to ensure that they are not in a position to attack your internal file-systems.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307254">

			<div class="comment by-who ">

				<p class="commentcredit">

					<span class="commenter">Who?</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307254">
						September 12, 2017 11:20 AM					</a>

				</p>

				<p>Bruce,</p>
<p>The funny part of this &mdash;if we can call it funny at all&mdash; is that a Raspberry Pi is <b>not</b> an IoT device, it is a small computer.  At least you have a chance to make it relatively secure, and you have a chance to run operating systems like OpenBSD on it too (OpenBSD is being ported to the Raspberry Pi 3 right now).</p>
<p>Think on an IoT device as some sort of Raspberry Pi, so closed than it cannot be hardened and, usually, with worse quality operating systems than a Linux that at least can be upgraded each few months.  A true IoT device is much worse than a Raspberry Pi, even if both have a comparable size.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307255">

			<div class="comment by-johnnys ">

				<p class="commentcredit">

					<span class="commenter">JohnnyS</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307255">
						September 12, 2017 11:36 AM					</a>

				</p>

				<p>@ab praeceptis</p>
<p>It&#8217;s true that putting a Linux box on an unprotected Internet connection requires some work, and the steps listed are effectively the &#8220;standard&#8221; way of securing such a Linux box. There&#8217;s nothing here that would freak out a typical Linux sysadmin.</p>
<p>BUT! You and Bruce Schneier have hit the nail on the head here: Because the Raspberry Pi is NOT marketed as a home PC or a system designed to be deployed on a private network with carefully controlled Internet access as provided by an appropriate home router/firewall (or similar). It&#8217;s marketed as a &#8220;tinkerer&#8221; board that can do IoT stuff. &#8220;Maker&#8221; articles have all kinds of Internet-enabled &#8220;cool&#8221; stuff you can do with a Pi.</p>
<p>It&#8217;s brilliant to sell something like this to help people understand what computing is all about and get them started on a career in information technology BUT without a specifically hardened and carefully configured OS (i.e. NOT Raspbian), this device should only be marketed to be used in a sandbox well away from the Internet and the attendant risks of exposure to every blackhat In The World.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307256">

			<div class="comment by-dave ">

				<p class="commentcredit">

					<span class="commenter">Dave</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307256">
						September 12, 2017 1:07 PM					</a>

				</p>

				<blockquote><p>
  until recently: ssh (with user password) open by default&#8230;
</p></blockquote>
<p>I don&#8217;t know what&#8217;s worse, enabled by default or disabled by default.  Having experienced the disabled-by-default I&#8217;d say that&#8217;s far worse, because there&#8217;s no way to set up your Pi once it&#8217;s flashed without plugging in a USB keyboard, mouse, and monitor, and hoping whatever 1980s-style manual config the video subsystem requires happens to be set up correctly that you&#8217;ll get something displayed.  It was incredibly frustrating having to spend about half an hour hauling out assorted bits of hardware and trying to get them working with the Pi just because some cretin decided it was a &#8220;security feature&#8221; to disable the only way you have to configure the thing.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307257">

			<div class="comment by-keiner ">

				<p class="commentcredit">

					<span class="commenter">keiner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307257">
						September 12, 2017 1:40 PM					</a>

				</p>

				<p>@Dave</p>
<p>LMGTFY:</p>
<p>an empty file /boot/ssh does the trick 😉</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307258">

			<div class="comment by-jason ">

				<p class="commentcredit">

					<span class="commenter">Jason</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307258">
						September 12, 2017 2:28 PM					</a>

				</p>

				<p>I&#8217;ll agree, and go even farther: it&#8217;s not just security, it&#8217;s irresponsible to promote the Pi as a good computer for neophytes at all.  Rasbpian and most other OSes available for it are a thin layer of condescending &#8220;My First Computer&#8221; crap on top of a deep tank full of arcane Linux sink-or-swim.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307259">

			<div class="comment by-tatutata ">

				<p class="commentcredit">

					<span class="commenter">Tatütata</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307259">
						September 12, 2017 6:20 PM					</a>

				</p>

				<p><i>It&#8217;s marketed as a &#8220;tinkerer&#8221; board that can do IoT stuff. </i></p>
<p>Until you begin to do serious things with it.</p>
<p>Recently someone asked me for advice regarding the choice of a controller for an small-scale industrial process, and I spontaneously answered &#8220;Raspberry Pi&#8221;. It&#8217;s got more than enough oomph to do some basic DSP, it has just the right amount of GPIO, and can run reports and statistics. And the price is right.</p>
<p>There&#8217;s not even a prototype yet. But what if they rush that thing into production with the barely debugged software and default config? That kind of article is a useful checklist and makes several steps in the right direction.</p>
<p>But objectively, a Pi is no worse than &#8220;real&#8221; process controllers from large companies like Siemens and Schneider Electric, which had their own issues with weak default passwords and the like&#8230;</p>
<p>BTW, Shodan <a href="https://www.shodan.io/search?query=raspberry+pi" rel="nofollow ugc">reports 277 devices</a> that seem to be Raspberry Pies, that answer either on the Telnet or HTTP ports. I expected much more. Would Apache and the such necessarily betray the underlying hardware to the outside world?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307260">

			<div class="comment by-snarki-child-of-loki ">

				<p class="commentcredit">

					<span class="commenter">Snarki, child of Loki</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307260">
						September 12, 2017 6:39 PM					</a>

				</p>

				<p>Oh, come ON!</p>
<p>Hardening a Raspberry PI is super easy, anyone can do it!</p>
<ol>
<li>Get a pair of pliers</li>
<li>Crush the Raspberry PI chip</li>
<li>DONE!</li>
</ol>
<p>Hardware solutions, while&#8217;u&#8217;wait!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307261">

			<div class="comment by-john ">

				<p class="commentcredit">

					<span class="commenter">John</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307261">
						September 12, 2017 8:09 PM					</a>

				</p>

				<p>Here&#8217;s the thing, though.  The Pi Foundation is small and approachable.  If there is a concern then a small blurb or comments even on a very well-known blog isn&#8217;t going to do quite as much as reaching out to them directly.   I am certain they would be receptive to constructive criticism or suggestions to improve security.  They have already put a reminder on the default user to change the password.  It isn&#8217;t much but you have to start somewhere.  They do have a priority on entry level usability (the goal of the project is for teaching the fundamentals of programming) but one could point out that they could also be teaching the basics of security as well.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307262">

			<div class="comment by-sooth_sayer ">

				<p class="commentcredit">

					<span class="commenter">sooth_sayer</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307262">
						September 12, 2017 8:32 PM					</a>

				</p>

				<p>I really don&#8217;t agree with the hang waving.<br />
pi&#8217;s are no different than any other platform that can be vulnerable in wrong hands.</p>
<p>I use ~10 pis routinely to run small little jigs and fixtures.<br />
Whether I secure them or not depends upon their exposure to vectors.</p>
<p>The work to secure them is about 2 minutes of typing .. a lot of people who use them probably don&#8217;t care about having their pi pwned .. swap the SDcard and be back in business in 20 minutes! of .. maybe 5!.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307263">

			<div class="comment by-questions-are-legitimate ">

				<p class="commentcredit">

					<span class="commenter">Questions are legitimate</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307263">
						September 12, 2017 9:50 PM					</a>

				</p>

				<p>&#8220;pi&#8217;s are no different than any other platform that can be vulnerable in wrong hands.&#8221;</p>
<p>But other companies including less popular ones do more to mitigate obvious ones.<br />
It costs some nonzero amount.  But Pi is also very popular.</p>
<p>&#8220;Whether I secure them or not depends upon their exposure to vectors.&#8221;</p>
<p>Which in 100% of cases is a recipe for security failure, eventually.</p>
<p>&#8220;The work to secure them is about 2 minutes of typing&#8221;</p>
<p>An $10 o-ring destroyed the Challenger rocket.</p>
<p>&#8220;a lot of people who use them probably don&#8217;t care about having their pi pwned&#8221;</p>
<p>Making it more likely than less that the default security state is in place, a veritable dinner table for blackhats by default with few mitigations or basic SOP&#8217;s.</p>
<p>&#8220;swap the SDcard and be back in business in 20 minutes! of .. maybe 5!.&#8221;</p>
<p>Or maybe never, depending.  You have to detect that you&#8217;re pwned first.<br />
That&#8217;s non trivial though you&#8217;d pretend otherwise.</p>
<p>Let&#8217;s get down to basics.</p>
<p>A product can be flawed, but the reason why is a fair question to ask, isn&#8217;t it?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307264">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307264">
						September 12, 2017 9:55 PM					</a>

				</p>

				<p>@ ab praeceptis,</p>
<blockquote><p>I&#8217;m wondering why the companies don&#8217;t deliver their stuff reasonably well configured (e.g. having a default what the article suggests plus maybe a &#8220;setup&#8221; script asking for some parameters).</p></blockquote>
<p>Long answer short Wintel cartel position is to blaim.</p>
<p>The long answer is the solution to the problem was available in the mid 1990&#8217;s but it got &#8220;murdered at birth&#8221; by the industry.</p>
<p>Which is why as others have noted running &#8220;headless&#8221; is the way of the Single Board Computer (SBC) in general not just the Pi and it&#8217;s always problematic. You used to get similar problems with building PCs from your own selection of bits. In fact you still do with Live CD&#8217;s, which is why the likes of Knoppix does not always &#8220;work out the box&#8221; on a PC, even though it jumps through many loops and hoops trying to do so (which is one reason it can take so long to boot).</p>
<p>As such anyone running a headless computer, or trying to run an unconfigured OS on a desktop should be aware of the implications. Back just a few years ago they used to be, and it&#8217;s why small businesses could earn a living making PCs, because they used to be able to make a margine from &#8220;Configuration as a Service&#8221; (CaaS).</p>
<p>Take Microsoft for instance, they used to have this problem all the time hence CaaS was the price most payed without question. But MS still does have the problem when a user replaces a monitor with a new one that Microsoft do not have specific support for or the manufacturer has not written a driver for earlier MS OS&#8217;s.</p>
<p>Microsoft&#8217;s solution was to use their market position to force hardware suppliers to make their equipment compatible with the MS OS and supply drivers for it. It has had a side effect of causing way more working electronics to &#8220;fill the dump&#8221; against WEEE requirments due to the very early End Of Life (EOL) policy of both Microsoft and the hardware suppliers.</p>
<p>Whilst the Pi was not the first SBC and is very popular, there is no SBC out there that can use their market position to force hardware manufactures to supply drivers etc. This is also true for most if not all *nixs OS&#8217;s as anyone trying to put them on the latest hardware will tell you.</p>
<p>Sun tried to come up with an industry wide solution via Open Boot / Open Firmware in the mid 1990&#8217;s when the &#8220;hardware independent&#8221; PCi bus came out. The market chose not to get behind it for various reasons (it&#8217;s been said MS &#8220;stuck a rod in the wheel&#8221; of that).</p>
<p>To get what you want means that there needs to be an industry wide standard for both hardware recognition and driver code such that manufactures just need to write one set of driver code. The only way that can work with multiple CPU types is if the drivers are written in a code that is independent of the CPU Istruction Set Architecture (ISA). Sun tried to do that with a Forth Interpreter that the manufacturer just had to supply the Byte Code for.</p>
<p>It would have given you what you want but &#8220;the market knows best&#8221; is the mantra even when it is very visably wrong. Which means in free market economic terms that there has to have been a hidden agenda at some point.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307265">

			<div class="comment by-harhar ">

				<p class="commentcredit">

					<span class="commenter">HarHar</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307265">
						September 12, 2017 11:31 PM					</a>

				</p>

				<p>@keiner: gentoo &#8230; cam aswell as GPIOs &#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307266">

			<div class="comment by-ole-juul ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://redruler.ru' rel='external nofollow ugc' class='url'>Ole Juul</a></span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307266">
						September 13, 2017 2:52 AM					</a>

				</p>

				<p>Interesting to see the comments mostly fall into two categories. One group is familiar with setting up operating systems on computers, and the other apparently does not normally do this kind of work, but feels they have something to say about it nevertheless.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307267">

			<div class="comment by-adam ">

				<p class="commentcredit">

					<span class="commenter">Adam</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307267">
						September 13, 2017 6:01 AM					</a>

				</p>

				<p>Definitely not the device&#8217;s fault, definitely the fault of the popular dists.</p>
<p>I actually have an industrial device sitting on my desk that has a Raspberry Pi Zero inside it. This thing is meant to go into factories as a PLC yet it&#8217;s running a modified version of Rasbian. The default password has been changed (good) but if I hook up the device with a micro HDMI to a monitor I see it&#8217;s basically just Rasbian in most other respects. Even comes with a demo of Minecraft 🙂</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307268">

			<div class="comment by-ab-praeceptis ">

				<p class="commentcredit">

					<span class="commenter">ab praeceptis</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307268">
						September 13, 2017 9:12 AM					</a>

				</p>

				<p>Clive Robinson</p>
<p>While I largely agree with what you say, my feeling is that the involved parties shouldn&#8217;t be left that easily from the hook.</p>
<p>The diverse parties involved in those, let me call it &#8220;multipurpose SBCs&#8221; (like the Pi) <em>could</em> do better, much better.<br />
Granted, it might not make a lot of sense business wise but my impression is that the reasons are other, namely and particularly what I perceive as a race to enter or possibly even conquer the market. Ever new players (along already existing ones) come up with ever new boards. It seems to me that they put all their muscles at designing and producing ever new boards and there are simply very few resources left for the question &#8220;how easy and safe is it to use our products&#8221;.</p>
<p>But a lot <em>could</em> be done. I have provided some simple examples and I have hinted at the oss router projects which did exactly that: they made it easy and (relatively) safe to install and use their stuff; typically it&#8217;s like &#8220;insert CD or usb, run setup, and then use an easy web interface to configure your system/router&#8221;.</p>
<p>I also mentioned ubuntu for a reason. It&#8217;s perceived by many as an &#8220;easy linux&#8221;.</p>
<p>Finally, as Bruce Schneier seemed to indirectly suggest and as I expressly suggested, there are even quite some things that would need no config at all for most users and that would almost beg for a sensible pre configured standard. SSH server config is one example.</p>
<p>Side note: I feel that in a way we shot our own feet. It has become kind of standard that &#8220;the community&#8221; will help. There are, for instance, fora for diverse linux distros and the BSDs. From what I see there has been a strange transformation. They came into existence because there was so little documentation available and what was available was usually for &#8220;geeks&#8221;, not for Jane and Joe. After the transformation, today, it seems that quite some companies simply open a forum (if that) and everyone assumes as totally normal that &#8220;the community&#8221; will provide support, documentation, etc.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307269">

			<div class="comment by-ts ">

				<p class="commentcredit">

					<span class="commenter">TS</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307269">
						September 13, 2017 9:52 AM					</a>

				</p>

				<p>Does not apply to windows 10 core, which some use. Or does it?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307270">

			<div class="comment by-kiwano ">

				<p class="commentcredit">

					<span class="commenter">kiwano</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307270">
						September 13, 2017 10:54 AM					</a>

				</p>

				<p>&#8220;&#8230;preferably on non-default ports&#8221; <em>sigh</em></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307271">

			<div class="comment by-who ">

				<p class="commentcredit">

					<span class="commenter">Who?</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307271">
						September 13, 2017 11:11 AM					</a>

				</p>

				<p>@ kiwano</p>
<p>I agree, suggesting running services on non-default ports is bad advice.  It helps protecting against, let us say, botnets that try guessing a username/password on hundreds of thousands of devices but it is useless against someone slightly better than a script kittie.</p>
<p>Most advice given in this report is either common-sense or bad advice.  The usual tricks that anyone was using to protect his &#8220;Slackware PC&#8221; with a 0.9.x-series kernel on 1993.  I was expecting something targeted to close unwanted services or reducing the huge attack surface on these toy operating systems.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307272">

			<div class="comment by-dave ">

				<p class="commentcredit">

					<span class="commenter">Dave</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307272">
						September 13, 2017 12:02 PM					</a>

				</p>

				<p>@keiner:</p>
<blockquote><p>
  an empty file /boot/ssh does the trick 😉
</p></blockquote>
<p>And how do you get that in there, given that SSH is disabled?</p>
<p>(And yes, I know that you can mount the filesystem on another machine and hack it in directly, but that doesn&#8217;t help if you&#8217;re not in a position to do that).</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307273">

			<div class="comment by-clive-robinson ">

				<p class="commentcredit">

					<span class="commenter">Clive Robinson</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307273">
						September 13, 2017 12:09 PM					</a>

				</p>

				<p>@ ab praeceptis,</p>
<blockquote><p>While I largely agree with what you say, my feeling is that the involved parties shouldn&#8217;t be left that easily from the hook.</p></blockquote>
<p>Unfortunatly the &#8220;involved parties&#8221; are on both the supplier and user sides these days.</p>
<p>Not long ago SBCs were very much the province of &#8220;engineers&#8221; using them to design systems prior to first layout committ. Back then SBCs were often &#8220;hardware demonstrators&#8221; or &#8220;evaluation systems&#8221; with a price that would mean there was little or no chance the SBC would end up in a final product.</p>
<p>Then the price dropped and dropped again and again. Now it often does not make sense to make your own design, because the mass produced SBCs are less expensive than any Bill OF Materials (BOM) price you would get from making your own.</p>
<p>The reason for such a low price is the SBCs went from being &#8220;Engineering Development&#8221; parts to &#8220;Consumer Of The Shelf&#8221; (COTS) parts quite rapidly. And the lower the price the more &#8220;Maker&#8221; type buyers would buy, so the price would drop again.</p>
<p>Not wishing to be nasty but most Makers are not proffessional embedded systems design engineers, they are people from other domains of expertise and inventive thinkers/tinkerers. I would not try to design fashion clothing, however that has not stopped fashion creators putting easily available electronics in their clothing&#8230;</p>
<p>Creative people whilst being thinkers, are often not thinking outside of narrow confines. Likewise children are always looking for the next buz not consequences.</p>
<p>Thus they don&#8217;t want technology to &#8220;get in the way&#8221; they want it to make dreams with. Thus the suppliers tend to respond to what the market wants, and what will reduce the high cost of customer support etc.</p>
<p>Thus you have an implicit collusion between the seller and the buyer&#8230; And security does not get a look in.</p>
<p>But worse IoT [1] is now following in the Maker foot steps, the &#8220;Slap it together and punt it out&#8221; mentality has now taken a firm hold. Often wedded to &#8220;collect it all&#8221; &#8220;privacy invasion for profit&#8221;. I keep thinking I&#8217;m in a &#8220;Zombie Horror&#8221; film where technology has become the questing undead trying to consume our brains (or atleast the contents).</p>
<p>Basically it is us who want security who are now seen as the freek show and that is not good. As has been observed &#8220;The only rights we have are the rights we can defend&#8221;&#8230;</p>
<p>[1] I&#8217;ve lately decided that IoT realy means &#8220;Inception of Trash&#8221;.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307274">

			<div class="comment by-ab-praeceptis ">

				<p class="commentcredit">

					<span class="commenter">ab praeceptis</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307274">
						September 13, 2017 12:20 PM					</a>

				</p>

				<p>Clive Robinson</p>
<p><cite>[1] I&#8217;ve lately decided that IoT realy means &#8220;Inception of Trash&#8221;. </cite></p>
<p>Haha, great. I myself took it as a mix of a massive marketing and sales scheme and ever more people with ever less professionalism but I guess your formula hits the point pretty well.</p>
<p>Sidenote: I take iot also i.a. as a rather crude and obvious attempt to push ipv6.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307275">

			<div class="comment by-herman ">

				<p class="commentcredit">

					<span class="commenter">herman</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307275">
						September 13, 2017 1:42 PM					</a>

				</p>

				<p>Actually, all you got to do is set a proper password.</p>
<p>Linux isn&#8217;t Windows.  It doesn&#8217;t really need a firewall script at all.</p>
<p>So, securing the little thing is trivial.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307276">

			<div class="comment by-keiner ">

				<p class="commentcredit">

					<span class="commenter">keiner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307276">
						September 13, 2017 1:45 PM					</a>

				</p>

				<p>@Dave</p>
<p>You burn the SD-card, afterwards you mount the respective partition and place the empty file in the right place.</p>
<p>Take your card and boot it -&gt; Done! 😀</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307277">

			<div class="comment by-cdmiller ">

				<p class="commentcredit">

					<span class="commenter">cdmiller</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307277">
						September 15, 2017 12:26 PM					</a>

				</p>

				<p>If one does not like the free default OS I suppose one can write their own.  Problem solved.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307278">

			<div class="comment by-m4ker ">

				<p class="commentcredit">

					<span class="commenter">m4ker</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307278">
						September 15, 2017 12:56 PM					</a>

				</p>

				<p>I believe Bruce&#8217;s intention for this article isn&#8217;t to say securing Raspbian is hard or even laborous for his readers, but maybe the average maker magazine reader &#8211; who are a target audience for these kinds of boards.</p>
<p>Try the article on your granpa and you get the point. We make terrible, insecure defaults and WE gotta gix it /for/ them, not the other way around.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307279">

			<div class="comment by-cdmiller ">

				<p class="commentcredit">

					<span class="commenter">cdmiller</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307279">
						September 15, 2017 3:29 PM					</a>

				</p>

				<p>@m4ker<br />
Granpa is dead, problem solved 🙂  Further, Granpa didn&#8217;t read maker magazines.  Seriously, SSH is disabled by default since last Fall on Raspbian OS.  Is anyone struck by how much work it is to enable SSH on a headless Pi.  This is a textbook Schneier troll on the intersection of agendas, usability vs security.  History reveals systems are often released with insecure defaults and not changed until the security issues threaten their marketability or usability.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307280">

			<div class="comment by-glen-turner ">

				<p class="commentcredit">

					<span class="commenter">Glen Turner</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307280">
						September 15, 2017 9:16 PM					</a>

				</p>

				<p>I have used a Raspberry Pi since its initial release.  I&#8217;d note the following:</p>
<ul>
<li>
<p>Raspbian turning off SSH by default was a good idea. SSH could be easier to configure for local subnet access only, which is often the use-case for SSH.  Enabling SSH isn&#8217;t difficult: inexperienced users can use raspi-config, experienced users can create the symlink for systemd when originally writing the image to the RPi&#8217;s SD card.  The system does re-create host keys and uses the hardware random number generator to do so.</p>
</li>
<li>
<p>the hardcoded userid+password doesn&#8217;t really matter. What does matter is that this knowledge that this account exists is also contained deep within some obscure configuration files (such as the user &#8216;pi&#8217; being hardcoded in PolKit rather than the group &#8216;adm&#8217;). That makes it difficult for a user to simply lock the &#8216;pi&#8217; account.</p>
</li>
<li>
<p>the default SSH and systems groups configuration could usefully have a &#8216;sshin&#8217; group, allowing &#8216;pi&#8217; to be easily removed from that group via raspi-config.</p>
</li>
<li>
<p>creating an new account and locking the &#8216;pi&#8217; account should be an option in their excellent raspi-config utility.</p>
</li>
<li>
<p>the lack of a firewall isn&#8217;t damning: an open port in a host firewall to faulty software doesn&#8217;t save a host from compromise. What is more important is that, having decided a firewall is needed, netfilter-persistent is the usual software installed rather than firewalld or some other more approachable mechanism. Bruce is right about the complexity: on a desktop machine with SSH server, mDNS, and ability to print &#8220;wc -l /etc/iptables/rules.v4&#8221; says 58 lines of configuration. Similarly, iptables is too difficult to configure for local subnet only access (eg, you need to know the network prefix on every interface).</p>
</li>
<li>
<p>Real life is even more complex than the article suggests. Locking the &#8216;pi&#8217; user isn&#8217;t done correctly, and now the machine can&#8217;t be shut down. The iptables configuration doesn&#8217;t allow printing or scanning.</p>
</li>
<li>
<p>The article had no mention of the software update policy for the RPi, which is that kernel updates to previously-released versions are not supported. This means that there are a lot of RPis not running maintained software. Fortunately, Raspbian&#8217;s policy (which tracks Debian&#8217;s policy) means the user-space utilities have better support. Even so, the original RPi release used Debian Wheezy, and that is still on a considerable number of RPis.</p>
</li>
<li>
<p>The RPi ships with IPv6 and mDNS disabled. This is a shame as a link-local address announced via mDNS would give 90% of RPi SSH servers the access they need without further exposing SSH to the internet.</p>
</li>
</ul>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307281">

			<div class="comment by-wb-greene ">

				<p class="commentcredit">

					<span class="commenter">wb greene</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307281">
						September 16, 2017 9:59 AM					</a>

				</p>

				<p>Nobody seems concerned that as far as I can tell, every cable/dsl modem that most &#8220;normal&#8221; people use the access the Internet comes with a default password that is printed in plain text on the label!</p>
<p>The sky has not fallen for two reasons.  You can only use it from inside its LAN and the text on the label is not accessible without physical possession of it.</p>
<p>I do worry about the second default password for wifi, its &#8220;strong&#8221; but also printed on the label and I couldn&#8217;t change mine, to do so it needs an &#8220;Access Code&#8221; which is also on the label but my access code doesn&#8217;t appear to work 🙁</p>
<p>I&#8217;m kind of surprised a criminal enterprise hasn&#8217;t developed to get these passwords and physical home addresses from the installers for drive-by free WiFi access.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307282">

			<div class="comment by-tj ">

				<p class="commentcredit">

					<span class="commenter"><a href='https://tharrell.net' rel='external nofollow ugc' class='url'>TJ</a></span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307282">
						September 17, 2017 12:47 AM					</a>

				</p>

				<p>Most IoT attacks use nothing but default keys or passwords.. No buffer overflows, SQLi, XSS, CSRF, CGI exec etc..</p>
<p>Most are behind a NAT too..</p>
<p>No guide can fix laziness..</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307283">

			<div class="comment by-jared-hall ">

				<p class="commentcredit">

					<span class="commenter"><a href='https://www.jaredsec.com' rel='external nofollow ugc' class='url'>Jared Hall</a></span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307283">
						September 21, 2017 11:41 PM					</a>

				</p>

				<p>TJ: Hah!  &#8220;No guide can fix laziness..&#8221;</p>
<p>There should be a book about that.  &#8220;Laziness for Dummies&#8221;!</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307284">

			<div class="comment by-preston-l-bannister ">

				<p class="commentcredit">

					<span class="commenter"><a href='http://bannister.us' rel='external nofollow ugc' class='url'>Preston L Bannister</a></span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307284">
						October 5, 2017 10:20 PM					</a>

				</p>

				<p>The rules for securing a Raspberry Pi are essentially the rules for securing vanilla Linux. Lots to get wrong, but only the usual.</p>
<p>The alternatives in this space are ESP32 (designed in China, and not well described), or Arduino (an 8-bit CPU).</p>
<p>As a security guy, do you trust hardware/firmware designed in China?</p>
<p>I would suggest you want to strongly make the opposite argument. The Raspberry Pi is well-documented, and the concerns of securing a Pi are the usual concerns of securing Linux. The unknowns are small.</p>
<p>What are the concerns of securing an ESP32? We do not know. There is chance the hardware is open to subversion &#8230; by design.</p>
<p>What are the concerns of an 8-bit CPU largely programmed by hardware folk? Do you expect the result to be secure?</p>
<p>The &#8220;Internet of Things&#8221; is all about cheap hardware largely secured by folk who have very limited grasp security. We want the shortest path for that group.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307285">

			<div class="comment by-john-simmons ">

				<p class="commentcredit">

					<span class="commenter"><a href='https://cheapskatesguide.org' rel='external nofollow ugc' class='url'>John Simmons</a></span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307285">
						May 22, 2019 3:33 PM					</a>

				</p>

				<p>It does take a lot of effort to set up and secure a raspberry pi webserver.  Part of the problem is that, aside from here: <a href="https://cheapskatesguide.org/articles/raspberry-pi-website.html" rel="nofollow ugc">https://cheapskatesguide.org/articles/raspberry-pi-website.html</a> , no one website gives you all the information that you need to successfully set up a raspberry pi webserver, secure it, and run your own website from it.  That means you have to do a LOT of research.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-307286">

			<div class="comment by-zaun ">

				<p class="commentcredit">

					<span class="commenter">Zaun</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307286">
						October 28, 2019 3:04 PM					</a>

				</p>

				<p>I wouldn&#8217;t say the Raspberry Pi + Raspbian is hard to secure.  In fact, it can be locked down very effectively:</p>
<p>1:  After putting the OS on a MicroSD card, enable SSH, log in, and upgrade all files.</p>
<p>2:  Create your own user, password protect it, lock pi via password and give it a bogus shell in /etc/passwd.  I&#8217;ve even deleted the pi user completely, but if using the desktop environment, one might have issues.</p>
<p>3:  Set SSH to be key only.  I do key plus the Google Authenticator, so if I don&#8217;t have my SSH key with me, I can still access it via 2FA.</p>
<p>4:  Install ufw and turn it on.  From there, use a whitelist of IP addresses you are going to be SSHing to the machine, and deny everything else.  You don&#8217;t want to waste time blacklisting sites, so figure out where you will be coming from and only allow those.  Even if the Pi is sitting on an internal network, I enable firewalling anyway.</p>
<p>5:  Install fail2ban.  This is a last resort, but it does help&#8230; but between SSH keys and IP firewalling, fail2ban should never kick in.</p>
<p>The only real downside of a Raspberry Pi is that it initially has a known username/password.  It would be nice if there were a way, when writing the Raspbian image, for one to specify a custom file that could specify another default username/PW, so random guessing wouldn&#8217;t find the Pi before it is configured.  After that, I do wish UFW was installed and enabled by default.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-307287">

			<div class="comment by-11umm ">

				<p class="commentcredit">

					<span class="commenter">1&amp;1~=Umm</span> •

					<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/#comment-307287">
						October 28, 2019 4:29 PM					</a>

				</p>

				<p>@Zaun:</p>
<p>&#8220;I wouldn&#8217;t say the Raspberry Pi + Raspbian is hard to secure. In fact, it can be locked down very effectively:&#8221;</p>
<p>That might have once been true.</p>
<p>However later hardware has built in extetnal communications hardware and due to NDA&#8217;s some binary blobs.</p>
<p>Whilst it might be benign unless you have certain &#8216;confidential&#8217; information and thr ability to reverse engineer binary blobs, you have to take things on trust or forego certain functionality.</p>
<p>The Pi is not unique in this, lots of SBC&#8217;s are going down this route and it&#8217;s not a good route for security.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

	<p class="subscribe-comments">
		<a href="https://www.schneier.com/blog/archives/2017/09/securing_a_rasp.html/feed/">
			<img alt="Atom Feed" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/rss.png">
			Subscribe to comments on this entry		</a>
	</p>

		<div id="respond" class="comment-respond">
		<h2 class="comments-open-header">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/archives/2017/09/securing_a_rasp.html#respond" style="display:none;">Cancel reply</a></small></h2><form action="https://www.schneier.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><a href="https://www.schneier.com/wp-login.php?redirect_to=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2017%2F09%2Fsecuring_a_rasp.html" title="Login">Login</a><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" /></p>
<p class="comment-form-url"><label for="url">URL:</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Remember personal info?</label></p>

<p class="comment-form-author">

	<label for="comm_capt_challenge">
		Fill in the blank: the name of this blog is Schneier on ___________ (required):	</label>

	<input id="comm_capt_challenge" name="comm_capt_challenge" size="30" type="text" />
</p>

<div class="comment-form-comment">

	<label for="comment">Comments:</label>

	<textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea>

	<div id="preview-box" class="preview-box hide"></div>
	<img class="comment-loading hide" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/loader.gif" />

</div>

<p id="allowed">

	<strong>Allowed HTML</strong>
	&lt;a href=&quot;URL&quot;&gt; &bull; &lt;em&gt; &lt;cite&gt; &lt;i&gt; &bull; &lt;strong&gt; &lt;b&gt; &bull; &lt;sub&gt; &lt;sup&gt; &bull; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &bull; &lt;blockquote&gt; &lt;pre&gt;
	<strong>Markdown Extra</strong> syntax via <a href="https://michelf.ca/projects/php-markdown/extra/">https://michelf.ca/projects/php-markdown/extra/</a>
</p>

<input type="hidden" id="wp_comment_nonce" name="wp_comment_nonce" value="4b1534b792" /><input type="hidden" name="_wp_http_referer" value="/blog/archives/2017/09/securing_a_rasp.html" />
<input type="button" id="comment-preview" class="comment-preview comment-actions" value="Preview" />
<input type="button" id="comment-write" class="comment-write comment-actions hide" value="Edit" />

<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit" /> <input type='hidden' name='comment_post_ID' value='11299' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p></form>	</div><!-- #respond -->
	
	<div class="stepthrough">
		<a href="https://www.schneier.com/blog/archives/2017/09/a_hardware_priv.html" rel="prev">← A Hardware Privacy Monitor for iPhones</a>		<a href="https://www.schneier.com/blog/archives/2017/09/hacking_voice_a.html" rel="next">Hacking Voice Assistant Systems with Inaudible Voice Commands →</a>	</div>

	
<p id="powered">Sidebar photo of Bruce Schneier by Joe MacInnis.</p>
		</div>

		
<aside>
	<div class="sidebar" id="sidebar-two">
		<section><div class="sidesection widget widget_schneier_about" id="schneier_about-2"><h3>About Bruce Schneier</h3><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/Bruce-Schneier.jpg" /><p><p class="small">I am a <a href="https://public-interest-tech.com/">public-interest technologist</a>, working at the intersection of security, technology, and people. I've been writing about security issues on my <a href="/">blog</a> since 2004, and in my monthly <a href="/crypto-gram/">newsletter</a> since 1998. I'm a fellow and lecturer at Harvard's <a href="https://www.hks.harvard.edu/faculty/bruce-schneier">Kennedy School</a>, a board member of <a href="https://www.eff.org/">EFF</a>, and the Chief of Security Architecture at <a href="https://inrupt.com/">Inrupt, Inc.</a> This personal website expresses the opinions of none of those organizations.</p>
</p></div></section><section><div class="sidesection widget widget_schneier_related_posts" id="schneier_related_posts-2"><h3>Related Entries</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/archives/2021/03/illegal-content-and-the-blockchain.html">Illegal Content and the Blockchain</a></li><li><a href="https://www.schneier.com/blog/archives/2021/03/national-security-risks-of-late-stage-capitalism.html">National Security Risks of Late-Stage Capitalism</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/weis-2021-call-for-papers.html">WEIS 2021 Call for Papers</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/ransomware-profitability.html">Ransomware Profitability</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/presidential-cybersecurity-and-pelotons.html">Presidential Cybersecurity and Pelotons</a></li><li><a href="https://www.schneier.com/blog/archives/2021/01/police-have-disrupted-the-emotet-botnet.html">Police Have Disrupted the Emotet Botnet</a></li>
</ul>
</div></section><section><div class="sidesection widget widget_schneier_featured_essays" id="schneier_featured_essays-2"><h3>Featured Essays</h3>
	<ul>
		<li><a href="https://www.schneier.com/essays/archives/2016/04/the_value_of_encrypt.html">The Value of Encryption</a></li><li><a href="https://www.schneier.com/essays/archives/2016/03/data_is_a_toxic_asse.html">Data Is a Toxic Asset, So Why Not Throw It Out?</a></li><li><a href="https://www.schneier.com/essays/archives/2014/01/how_the_nsa_threaten.html">How the NSA Threatens National Security</a></li><li><a href="https://www.schneier.com/essays/archives/2009/01/terrorists_may_use_g.html">Terrorists May Use Google Earth, But Fear Is No Reason to Ban It</a></li><li><a href="https://www.schneier.com/essays/archives/2007/01/in_praise_of_securit.html">In Praise of Security Theater</a></li><li><a href="https://www.schneier.com/essays/archives/2006/08/refuse_to_be_terrori.html">Refuse to be Terrorized</a></li><li><a href="https://www.schneier.com/essays/archives/2006/05/the_eternal_value_of.html">The Eternal Value of Privacy</a></li><li><a href="https://www.schneier.com/essays/archives/2005/09/terrorists_dont_do_m.html">Terrorists Don&#039;t Do Movie Plots</a></li>	</ul>

	<p><a href="https://www.schneier.com/essays/">More Essays</a></p></div></section><section><div class="sidesection widget widget_schneier_archives" id="schneier_archives-2"><h3>Blog Archives</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/calendar.html/">Archive by Month</a></li><li><a href="https://www.schneier.com/blog/newcomments.html/">100 Latest Comments</a></li></ul>

<h4>Blog Tags</h4><ul class="top-tags"><li><a href="https://www.schneier.com/tag/3d-printers/">3d printers</a></li><li><a href="https://www.schneier.com/tag/9-11/">9/11</a></li><li><a href="https://www.schneier.com/tag/aaron-swartz/">Aaron Swartz</a></li><li><a href="https://www.schneier.com/tag/academic/">academic</a></li><li><a href="https://www.schneier.com/tag/academic-papers/">academic papers</a></li><li><a href="https://www.schneier.com/tag/accountability/">accountability</a></li><li><a href="https://www.schneier.com/tag/aclu/">ACLU</a></li><li><a href="https://www.schneier.com/tag/activism/">activism</a></li><li><a href="https://www.schneier.com/tag/adobe/">Adobe</a></li><li><a href="https://www.schneier.com/tag/advanced-persistent-threats/">advanced persistent threats</a></li><li><a href="https://www.schneier.com/tag/adware/">adware</a></li><li><a href="https://www.schneier.com/tag/aes/">AES</a></li><li><a href="https://www.schneier.com/tag/afghanistan/">Afghanistan</a></li><li><a href="https://www.schneier.com/tag/air-marshals/">air marshals</a></li><li><a href="https://www.schneier.com/tag/air-travel/">air travel</a></li><li><a href="https://www.schneier.com/tag/airgaps/">airgaps</a></li><li><a href="https://www.schneier.com/tag/al-qaeda/">al Qaeda</a></li><li><a href="https://www.schneier.com/tag/alarms/">alarms</a></li><li><a href="https://www.schneier.com/tag/algorithms/">algorithms</a></li><li><a href="https://www.schneier.com/tag/alibis/">alibis</a></li><li><a href="https://www.schneier.com/tag/amazon/">Amazon</a></li><li><a href="https://www.schneier.com/tag/android/">Android</a></li><li><a href="https://www.schneier.com/tag/anonymity/">anonymity</a></li><li><a href="https://www.schneier.com/tag/anonymous/">Anonymous</a></li><li><a href="https://www.schneier.com/tag/antivirus/">antivirus</a></li><li><a href="https://www.schneier.com/tag/apache/">Apache</a></li><li><a href="https://www.schneier.com/tag/apple/">Apple</a></li><li><a href="https://www.schneier.com/tag/applied-cryptography/">Applied Cryptography</a></li><li><a href="https://www.schneier.com/tag/artificial-intelligence/">artificial intelligence</a></li><li><a href="https://www.schneier.com/tag/assassinations/">assassinations</a></li></ul><p><a href="https://www.schneier.com/blog/tags.html/">More Tags</a></p></div></section><section><div class="sidesection widget widget_schneier_latest_book" id="schneier_latest_book-3"><h3>Latest Book</h3><a href="https://www.schneier.com/books/click-here/"><img class="sidepic" alt="Click Here to Kill Everybody" src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2018/07/book-ch2-200w.png" /></a><p><a href="https://www.schneier.com/books/">More Books</a></p></div></section><section><div class="sidesection widget widget_schneier_promotion" id="schneier_promotion-2">
<a href="https://www.eff.org/issues/bloggers/legal/join">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/join-eff@2x.png" id="effbutton" alt="Support Bloggers' Rights!" title="Support Bloggers' Rights!" /></a>

<a href="https://npo.networkforgood.org/Donate/Donate.aspx?npoSubscriptionId=8252">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/support-epic@2x.png" alt="Defend Privacy--Support Epic" title="Defend Privacy--Support Epic" /></a>
</div></section>	</div>
</aside>

		<footer>
			<nav>
				<div class="nav" id="footer-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="menu"><li class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>
		</footer>

		</div><!--#main-->
	</div><!--#wrapper-->

		<script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<script type='text/javascript' src='https://c0.wp.com/p/woocommerce/5.1.0/assets/js/jquery-cookie/jquery.cookie.min.js' id='jquery-cookie-js'></script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/socialshareprivacy.js?ver=1.0.1' id='social-share-privacy-js'></script>
<script type='text/javascript' id='social-share-privacy-icons-js-extra'>
/* <![CDATA[ */
var schneierSocial = {"path":"https:\/\/www.schneier.com\/wp-content\/themes\/schneier\/assets\/vendor\/socialshareprivacy\/"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/icons.js?ver=1.0.0' id='social-share-privacy-icons-js'></script>
<script type='text/javascript' id='schneier-comment-js-extra'>
/* <![CDATA[ */
var schneierComment = {"translateErrorSecurityAnswerWrong":"Your response to the challenge question ('The name of this blog is Schneier on ____') was not correct. Please try again.","ajax_url":"https:\/\/www.schneier.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/js/comment.js?ver=1.0.1' id='schneier-comment-js'></script>
<script type='text/javascript' src='https://c0.wp.com/c/5.7/wp-includes/js/wp-embed.min.js' id='wp-embed-js'></script>

</body>

</html>
