<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>IOS XML Bug - Schneier on Security</title>
	<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel='dns-prefetch' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Feed" href="https://www.schneier.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; Comments Feed" href="https://www.schneier.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Schneier on Security &raquo; iOS XML Bug Comments Feed" href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://c0.wp.com/c/5.7/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel='stylesheet' id='schneier-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/style.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='schneier-main-css'  href='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/dist/css/style.css?ver=1.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://c0.wp.com/p/jetpack/9.5.2/css/jetpack.css' type='text/css' media='all' />
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js?ver=3.5.1' id='jquery-js'></script>
<link rel="https://api.w.org/" href="https://www.schneier.com/wp-json/" /><link rel="alternate" type="application/json" href="https://www.schneier.com/wp-json/wp/v2/posts/12470" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.schneier.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.schneier.com/wp-includes/wlwmanifest.xml" /> 

<link rel="canonical" href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html" />
<link rel='shortlink' href='https://www.schneier.com/?p=12470' />
<link rel="alternate" type="application/json+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2020%2F05%2Fios_xml_bug.html" />
<link rel="alternate" type="text/xml+oembed" href="https://www.schneier.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2020%2F05%2Fios_xml_bug.html&#038;format=xml" />
	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-32x32.png" sizes="32x32" />
<link rel="icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-180x180.png" />
<meta name="msapplication-TileImage" content="https://149400697.v2.pressablecdn.com/wp-content/uploads/2020/06/cropped-favicon-1-270x270.png" />
		<style type="text/css" id="wp-custom-css">
			#schneier_promotion-2 img {
    max-width: 180px;
}		</style>
		</head>

<body class="post-template-default single single-post postid-12470 single-format-standard theme-schneier woocommerce-no-js">

	<div id="wrapper">
		<div id="main">

			<header>
				<div id="header">
					<h1>
						<a href="https://www.schneier.com/" rel="home">
							Schneier on Security						</a>
					</h1>
				</div>
			</header>

			<nav>
				<div class="nav" id="header-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-50175" class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li id="menu-item-50916" class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li id="menu-item-50166" class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li id="menu-item-50169" class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li id="menu-item-50170" class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li id="menu-item-50171" class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li id="menu-item-50167" class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li id="menu-item-50174" class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>

			
<aside>
	<div class="sidebar" id="sidebar-one">
		<section><div class="sidesection widget widget_schneier_search" id="schneier_search-3"><h3>Search</h3>
<p class="small">
	<em>Powered by <a href="https://duckduckgo.com/">DuckDuckGo</a></em></p>

<form method="get" action="https://duckduckgo.com/">

	<input type="hidden" name="kh" value="1" /><!-- use https -->

	<input id="search" name="q" size="15" maxlength="255" />

	<input type="submit" value="Go" /><br>

	<input type="radio" name="sites" id="searchblog" value="www.schneier.com/blog" />
	<label for="searchblog">Blog</label>

	<input type="radio" name="sites" id="searchessays" value="www.schneier.com/essays" />
	<label for="searchessays">Essays</label>

	<input type="radio" name="sites" id="searchall" value="www.schneier.com" checked="" />
	<label for="searchall">Whole site</label>

</form>
</div></section><section><div class="sidesection widget widget_schneier_social" id="schneier_social-2"><h3>Subscribe</h3>
<div id="subscription-buttons">

	<a href="https://www.schneier.com/feed/atom"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/rss-32px.png" alt="Atom Feed" /></a><a href="https://www.facebook.com/bruce.schneier"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/facebook-32px.png" alt="Facebook" /></a><a href="https://twitter.com/schneierblog/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/twitter-32px.png" alt="Twitter" /></a><a href="https://www.amazon.com/Schneier-on-Security/dp/B0053HDDWW/"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/kindle-32px.png" alt="Kindle" /></a><a href="https://www.schneier.com/crypto-gram"><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/email-32px.png" alt="E-Mail Newsletter (Crypto-Gram)" /></a>
</div>
</div></section>	</div>
</aside>

			<div id="content">

				
		<p id="breadcrumbs">

			<a href="https://www.schneier.com">Home</a><a href="https://www.schneier.com/blog/archives/">Blog</a>		</p>

		
<article id="post-12470" class="post-12470 post type-post status-publish format-standard hentry category-uncategorized tag-cybersecurity tag-ios tag-malware tag-vulnerabilities">

	<div class="article">

		<h2 class="entry">iOS XML Bug</h2>
		<p>This is a <a href="https://daringfireball.net/linked/2020/05/02/psychic-paper">good explanation</a> of an iOS bug that allowed someone to break out of the application sandbox. A summary:</p>
<blockquote><p>What a crazy bug, and Siguza&#8217;s explanation is very cogent. Basically, it comes down to this:</p>
<ul>
<li>XML is terrible.
<li>iOS uses XML for <a href="https://en.wikipedia.org/wiki/Property_list">Plists</a>, and Plists are used everywhere in iOS (and MacOS).
<li>iOS&#8217;s sandboxing system depends upon three different XML parsers, which interpret slightly invalid XML input in slightly different ways.</ul>
<p>So Siguza&#8217;s exploit ­&#8211; which granted an app full access to the entire file system, and more ­- uses malformed XML comments constructed in a way that one of iOS&#8217;s XML parsers sees its declaration of entitlements one way, and another XML parser sees it another way. The XML parser used to check whether an application should be allowed to launch doesn&#8217;t see the fishy entitlements because it thinks they&#8217;re inside a comment. The XML parser used to determine whether an already running application has permission to do things that require entitlements sees the fishy entitlements and grants permission.</p></blockquote>
<p>This is fixed in the new iOS release, 13.5 beta 3.</p>
<p><a href="https://twitter.com/solveid/status/1256909643982536705">Comment</a>:</p>
<blockquote><p>Implementing 4 different parsers is just asking for trouble, and the &#8220;fix&#8221; is of the crappiest sort, bolting on more crap to check they&#8217;re doing the right thing in this single case. None of this is encouraging.</p></blockquote>
<p><a href="https://mjtsai.com/blog/2020/05/05/psychic-paper/">More</a> <a href="https://www.hackreports.com/zero-day-psychic-paper-sandbox-escape-exploit-entitlements/">commentary</a>. Hacker News <a href="https://news.ycombinator.com/item?id=23045042">thread</a>.</p>

		
			<p class="entry-tags">
				<span class="tags-links">Tags: <a href="https://www.schneier.com/tag/cybersecurity/" rel="tag">cybersecurity</a>, <a href="https://www.schneier.com/tag/ios/" rel="tag">iOS</a>, <a href="https://www.schneier.com/tag/malware/" rel="tag">malware</a>, <a href="https://www.schneier.com/tag/vulnerabilities/" rel="tag">vulnerabilities</a></span>			</p>

		
		
		<p class="posted">
			<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html" rel="bookmark">Posted on May 7, 2020 at 9:56 AM</a>			•
			<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html#comments">19 Comments</a>		</p>

		<aside><div class="schneier-share share" data-uri="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html" data-title="iOS XML Bug" data-order="facebook twitter tumblr" data-social-share-privacy="true" /></aside>
	</div>

</article>


	<h3 id="comments">Comments</h3>

	
		<article class="comment even thread-even depth-1" id="comment-350264">

			<div class="comment by-flasker ">

				<p class="commentcredit">

					<span class="commenter">flasker</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350264">
						May 7, 2020 12:51 PM					</a>

				</p>

				<p>Interesting that this was sat on for 3 years, I wonder how many others are out there?  It sure does seem possible that this specific research was able to find more vulnerabilities during those 3 years.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-350265">

			<div class="comment by-swashbucklingcowboy ">

				<p class="commentcredit">

					<span class="commenter">SwashbucklingCowboy</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350265">
						May 7, 2020 2:50 PM					</a>

				</p>

				<p>Four different XML parsers is to be expected in world where half of what&#8217;s there is open source.  One project used one parser, another project used a different parser, etc.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-350266">

			<div class="comment by-myliit ">

				<p class="commentcredit">

					<span class="commenter">myliit</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350266">
						May 7, 2020 2:56 PM					</a>

				</p>

				<p>Here’s a page for Apple security updates in production.  Not beta.</p>
<p><a href="https://support.apple.com/en-us/HT201222" rel="nofollow ugc">https://support.apple.com/en-us/HT201222</a></p>
<p>Question, from the above link iOS 13.4.1 says “ This update has no published CVE entries.”  Does that mean no security updates since iOS 13.4?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-350267">

			<div class="comment by-tfb ">

				<p class="commentcredit">

					<span class="commenter">tfb</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350267">
						May 7, 2020 3:24 PM					</a>

				</p>

				<p>The whole point of XML was that unambiguous parses were easy and it would be a stable standard.  And much though I hate XML they succeeded: the current XML standard is still 1.0 and it&#8217;s getting on for 12 years old (younger than iOS, but not by much).  So, you know, in 12 years Apple could have sorted out a parser that worked, you&#8217;d think.  But no: they have at least three, none of which work.</p>
<p>And before someone snipes at Apple: it&#8217;s not just them.  How many differently-buggy XML parsers are on whatever computer you use?  Almost certainly dozens.</p>
<p>Wipe it away, please, wipe it all away.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-350268">

			<div class="comment by-steve-friedl ">

				<p class="commentcredit">

					<span class="commenter">Steve Friedl</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350268">
						May 7, 2020 4:11 PM					</a>

				</p>

				<p>TIL why JSON doesn&#8217;t allow comments.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-350269">

			<div class="comment by-wael ">

				<p class="commentcredit">

					<span class="commenter">Wael</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350269">
						May 7, 2020 5:28 PM					</a>

				</p>

				<blockquote><p> iOS&#8217;s sandboxing system depends upon three different XML parsers,</p></blockquote>
<p>Three different parsers &rarr; three distinct VPs</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-350270">

			<div class="comment by-lawrence-doliveiro ">

				<p class="commentcredit">

					<span class="commenter">Lawrence D’Oliveiro</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350270">
						May 7, 2020 5:52 PM					</a>

				</p>

				<p>Conway’s Law comes to mind: “any piece of software reflects the organizational structure that produced it”. 3 different XML parsers sounds like 3 different groups working on those parts of the OS, while the addition of a fourth to block the hole suggests that nobody with any responsibility for security was able to get through to any of those groups to fix their parsing.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-350271">

			<div class="comment by-mikea ">

				<p class="commentcredit">

					<span class="commenter">MikeA</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350271">
						May 7, 2020 6:05 PM					</a>

				</p>

				<p>Leaving the usual question when dealing with Apple and Updates:</p>
<p>Whether &#8217;tis nobler in the mind to suffer<br />
The slings and arrows of outrageous coding,<br />
Or to Update against a Sea of troubles,<br />
And by updating Suffer?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-350272">

			<div class="comment by-simon-woodside ">

				<p class="commentcredit">

					<span class="commenter">Simon Woodside</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350272">
						May 7, 2020 8:04 PM					</a>

				</p>

				<p>Heh, 20 years ago when I was at Apple, XML was new and hot and plists were switched from a custom text format to XML. Definitely seemed like a good idea at the time. XML, how did you go so wrong?</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-350273">

			<div class="comment by-lurker ">

				<p class="commentcredit">

					<span class="commenter">lurker</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350273">
						May 8, 2020 2:38 AM					</a>

				</p>

				<blockquote><p>• XML is terrible.</p></blockquote>
<p>XML was supposed to save the world, One Markup Language to Rule Them All. Before that was SGML, and before that &#8230;</p>
<blockquote><p>• iOS uses XML for Plists, and Plists are used everywhere in iOS (and MacOS).</p></blockquote>
<p>iOS and MacOS do things to vanilla XML so that it&#8217;s no longer human readable in a standard text editor. Sometimes this is understandable space saving compression, sometimes it&#8217;s a childish attempt to hide the contents from people snooping around inside their &#8216;puter.</p>
<blockquote><p>• iOS&#8217;s sandboxing system depends upon three different XML parsers, which interpret slightly invalid XML input in slightly different ways.</p></blockquote>
<p>The reason for three different parsers is the three different formats of plist mentioned above. I don&#8217;t believe Steve J could have signed off on this. He would have understood the need for One Parser to Rule Them All.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-350274">

			<div class="comment by-jbmartin6 ">

				<p class="commentcredit">

					<span class="commenter">jbmartin6</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350274">
						May 8, 2020 7:08 AM					</a>

				</p>

				<p>In the long run, is it better to have different parsers? That way, a flaw in one does not necessarily lead to complete compromise. With just one a parser, a single flaw would be a complete failure. Defense in depth.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-350275">

			<div class="comment by-dave-c ">

				<p class="commentcredit">

					<span class="commenter">Dave C</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350275">
						May 8, 2020 10:29 AM					</a>

				</p>

				<p>@jbmartin6</p>
<blockquote><p>
  better to have different parsers? … a flaw in one does not necessarily lead to complete compromise
</p></blockquote>
<p>That would only be true in a system that used the multiple parses and compared the results, either discarding any one that disagreed with the others or failing on any disagreement. That&#8217;s not at all what&#8217;s going on here which is never ever a good idea and give no benefits with a clearly non-zero cost.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-350276">

			<div class="comment by-w3c ">

				<p class="commentcredit">

					<span class="commenter">W3C</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350276">
						May 8, 2020 3:41 PM					</a>

				</p>

				<p>James Clark&#8217;s tests are from past century.  W3C collected into a conformance suite at <a href="https://www.w3.org/XML/Test/xmlconf-20020606.htm" rel="nofollow ugc">https://www.w3.org/XML/Test/xmlconf-20020606.htm</a></p>
<p>So Apple didn&#8217;t have the brain to test their code&#8230;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-350277">

			<div class="comment by-its-necesaary ">

				<p class="commentcredit">

					<span class="commenter">It&#039;s Necesaary!</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350277">
						May 9, 2020 11:00 PM					</a>

				</p>

				<p>3 different parsers is not only normal, but also generally necessary, if different parts of your large sprawling system is written in 3 different languages!  As already mentioned, it&#8217;s also normal even in the same language, if different groups of people independently needed to parse stuff for different reasons or in different eras.</p>
<p>For example, I&#8217;ve written a program that <strong>couldn&#8217;t</strong> use an existing parser for something (non-xml related, but the point applies), because it needed to explain to the user where the parsing problem was&#8230; no existing parser provided that capability&#8230; so you&#8217;re left with either forking an existing much-more-complex-than-needed project to make a new parser out of it, or just making a new (and simpler) parser yourself from scratch&#8230;  Different needs for different projects.  That&#8217;s normal.  I get it, other projects only needed to tell the user that the file was unparseable, with no explanation given as to exactly where the problem occurred in the file.</p>
<p>The problem is this: the solution is a much more walled garden than apple has already done.  You want to only allow a single parser on the whole device?  Great!  You&#8217;ll have a system that just can&#8217;t run most stuff.  Since most stuff in the world isn&#8217;t written by you, personally, just for your personal needs alone.  It&#8217;s a problem with general purpose computing and general purpose computers, it always has been, and it always will be to one degree or another, as long as anything &#8220;general purpose&#8221; exists.  Small improvements can be made, sure, but not totally locked down, unless you are willing to accept the consequences: no more general purpose computing.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-350278">

			<div class="comment by-its-necesaary ">

				<p class="commentcredit">

					<span class="commenter">It&#039;s Necesaary!</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350278">
						May 9, 2020 11:14 PM					</a>

				</p>

				<p>Oh&#8230; my point is <strong>exactly</strong> why a 4th parser was written to &#8220;fix&#8221; this&#8230;  No existing parser was written with this kind of security in mind?  You gotta write another&#8230;  Either that or dump the format, and use a proprietary format&#8230; but that doesn&#8217;t really solve the issue, since a proprietary format now needs another parser too&#8230;</p>
<p>Or perhaps you&#8217;ve written a completely guaranteed-to-be-safe (<a href="https://en.wikipedia.org/wiki/Formal_verification" rel="nofollow ugc">https://en.wikipedia.org/wiki/Formal_verification</a>) parser that can be used instead?  One that can fit every possible need that could ever arise forever?  Note that these two things are opposites: for formal verification you need to pair it down to the bare bones that you need, not soup it up with every possible bell and whistle that could ever be invented&#8230;  unless you&#8217;re happy to to pay millions for it&#8230;</p>
<p>This is not a problem unique to XML.  All parsers have this issue, and to some degree at both high and low level, everything in a computer is something that is parsed.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-350279">

			<div class="comment by-its-necesaary ">

				<p class="commentcredit">

					<span class="commenter">It&#039;s Necesaary!</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350279">
						May 9, 2020 11:39 PM					</a>

				</p>

				<p>@Steve Friedl</p>
<blockquote><p>
  TIL why JSON doesn&#8217;t allow comments.
</p></blockquote>
<p>Also one of the reasons why JSON is unsuitable for configuration files that need to be maintained by actual humans (search google for this, you&#8217;ll see tons of horror stories)&#8230;  Ever tried to experiment with a package.json file to try to get something working, and couldn&#8217;t save your partly-working experiments anywhere, and couldn&#8217;t document what worked and what didn&#8217;t, without&#8230; what&#8230; a separate txt file to explain it?  devoid of context?  oh my.  don&#8217;t get me started how many hours I&#8217;ve wasted on this.</p>
<p>And&#8230; a plist file is a configuration file, yep.  Is it ever intended to be edited by hand (in a text editor)?  Or maybe just that GUI (graphical) tool?  Do you intend to have anyone edit it that&#8217;s not sitting at the actual keyboard and monitor physically attached to that computer?  Hint: the whole internet runs on remote systems, not just local ones&#8230;  They don&#8217;t sit in the bedroom corner of the guy that maintains them.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-350280">

			<div class="comment by-tom-s ">

				<p class="commentcredit">

					<span class="commenter">Tom S.</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350280">
						May 12, 2020 1:59 AM					</a>

				</p>

				<p>This exploit didn&#8217;t happen because of XML.  It was ignorance of history and bad design.<br />
Internet Explorer 6 &amp; 7 between XP &amp; Vista in 2007 also had the problem of multiple validating parsers making security decisions &amp; exploiting the differences between them.  IE granted privileges to code executed in the browser based on what Security Zone it calculated the site belonged to.  A consistent feature of many exploits then was trying to be classified as local.  Domain name tricks, IP address literals (I think octal worked @ one point), and more.<br />
A chief point of IE7 was to fix this canonicalization problem.  In conjunction with the IP stack rewrite, MS pulled all of the URIs through a single canonicalization process before making the Security Zone calculations.  Things improved.</p>
<p>Wikipedia&#8217;s entry for Canonicalization has some fair examples.  International domain names &amp; Unicode concern me most.  XML examples are included, as is a reference to a &#8220;Canonical XML specification&#8221;.<br />
Makes me wonder how well Apple&#8217;s developers were aware of the perils of their architecture (multiple components making security decisions in different ways) and how compliant they were with the W3C&#8217;s recommendations from 2008.</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment odd alt thread-odd thread-alt depth-1" id="comment-350281">

			<div class="comment by-thunderbird ">

				<p class="commentcredit">

					<span class="commenter">Thunderbird</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350281">
						May 12, 2020 1:03 PM					</a>

				</p>

				<blockquote><p>
<i><br />
In the long run, is it better to have different parsers? That way, a flaw in one does not necessarily lead to complete compromise. With just one a parser, a single flaw would be a complete failure. Defense in depth.</i></p></blockquote>
<p>This is a common mistake people make when thinking about security issues.  If the failure of a single component out of a group leads to a compromise, the metaphor to think of is &#8220;the weakest link.&#8221;  If two or more components must fail, then it is reasonable to think of &#8220;defense in depth.&#8221;</p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

		<article class="comment even thread-even depth-1" id="comment-350282">

			<div class="comment by-myliit ">

				<p class="commentcredit">

					<span class="commenter">myliit</span> •

					<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/#comment-350282">
						May 20, 2020 4:48 PM					</a>

				</p>

				<p>iOS 13.5 was released today</p>
<p><a href="https://support.apple.com/en-us/HT201222" rel="nofollow ugc">https://support.apple.com/en-us/HT201222</a></p>

				
			</div>

		</article>

		</li><!-- #comment-## -->

	<p class="subscribe-comments">
		<a href="https://www.schneier.com/blog/archives/2020/05/ios_xml_bug.html/feed/">
			<img alt="Atom Feed" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/rss.png">
			Subscribe to comments on this entry		</a>
	</p>

		<div id="respond" class="comment-respond">
		<h2 class="comments-open-header">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/archives/2020/05/ios_xml_bug.html#respond" style="display:none;">Cancel reply</a></small></h2><form action="https://www.schneier.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><a href="https://www.schneier.com/wp-login.php?redirect_to=https%3A%2F%2Fwww.schneier.com%2Fblog%2Farchives%2F2020%2F05%2Fios_xml_bug.html" title="Login">Login</a><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" /></p>
<p class="comment-form-url"><label for="url">URL:</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Remember personal info?</label></p>

<p class="comment-form-author">

	<label for="comm_capt_challenge">
		Fill in the blank: the name of this blog is Schneier on ___________ (required):	</label>

	<input id="comm_capt_challenge" name="comm_capt_challenge" size="30" type="text" />
</p>

<div class="comment-form-comment">

	<label for="comment">Comments:</label>

	<textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea>

	<div id="preview-box" class="preview-box hide"></div>
	<img class="comment-loading hide" src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/loader.gif" />

</div>

<p id="allowed">

	<strong>Allowed HTML</strong>
	&lt;a href=&quot;URL&quot;&gt; &bull; &lt;em&gt; &lt;cite&gt; &lt;i&gt; &bull; &lt;strong&gt; &lt;b&gt; &bull; &lt;sub&gt; &lt;sup&gt; &bull; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &bull; &lt;blockquote&gt; &lt;pre&gt;
	<strong>Markdown Extra</strong> syntax via <a href="https://michelf.ca/projects/php-markdown/extra/">https://michelf.ca/projects/php-markdown/extra/</a>
</p>

<input type="hidden" id="wp_comment_nonce" name="wp_comment_nonce" value="4b1534b792" /><input type="hidden" name="_wp_http_referer" value="/blog/archives/2020/05/ios_xml_bug.html" />
<input type="button" id="comment-preview" class="comment-preview comment-actions" value="Preview" />
<input type="button" id="comment-write" class="comment-write comment-actions hide" value="Edit" />

<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit" /> <input type='hidden' name='comment_post_ID' value='12470' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p></form>	</div><!-- #respond -->
	
	<div class="stepthrough">
		<a href="https://www.schneier.com/blog/archives/2020/05/iloveyou_virus.html" rel="prev">← ILOVEYOU Virus</a>		<a href="https://www.schneier.com/blog/archives/2020/05/used_tesla_comp.html" rel="next">Used Tesla Components Contain Personal Information →</a>	</div>

	
<p id="powered">Sidebar photo of Bruce Schneier by Joe MacInnis.</p>
		</div>

		
<aside>
	<div class="sidebar" id="sidebar-two">
		<section><div class="sidesection widget widget_schneier_about" id="schneier_about-2"><h3>About Bruce Schneier</h3><img src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2019/10/Bruce-Schneier.jpg" /><p><p class="small">I am a <a href="https://public-interest-tech.com/">public-interest technologist</a>, working at the intersection of security, technology, and people. I've been writing about security issues on my <a href="/">blog</a> since 2004, and in my monthly <a href="/crypto-gram/">newsletter</a> since 1998. I'm a fellow and lecturer at Harvard's <a href="https://www.hks.harvard.edu/faculty/bruce-schneier">Kennedy School</a>, a board member of <a href="https://www.eff.org/">EFF</a>, and the Chief of Security Architecture at <a href="https://inrupt.com/">Inrupt, Inc.</a> This personal website expresses the opinions of none of those organizations.</p>
</p></div></section><section><div class="sidesection widget widget_schneier_related_posts" id="schneier_related_posts-2"><h3>Related Entries</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/archives/2021/03/illegal-content-and-the-blockchain.html">Illegal Content and the Blockchain</a></li><li><a href="https://www.schneier.com/blog/archives/2021/03/national-security-risks-of-late-stage-capitalism.html">National Security Risks of Late-Stage Capitalism</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/weis-2021-call-for-papers.html">WEIS 2021 Call for Papers</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/ransomware-profitability.html">Ransomware Profitability</a></li><li><a href="https://www.schneier.com/blog/archives/2021/02/presidential-cybersecurity-and-pelotons.html">Presidential Cybersecurity and Pelotons</a></li><li><a href="https://www.schneier.com/blog/archives/2021/01/police-have-disrupted-the-emotet-botnet.html">Police Have Disrupted the Emotet Botnet</a></li>
</ul>
</div></section><section><div class="sidesection widget widget_schneier_featured_essays" id="schneier_featured_essays-2"><h3>Featured Essays</h3>
	<ul>
		<li><a href="https://www.schneier.com/essays/archives/2016/04/the_value_of_encrypt.html">The Value of Encryption</a></li><li><a href="https://www.schneier.com/essays/archives/2016/03/data_is_a_toxic_asse.html">Data Is a Toxic Asset, So Why Not Throw It Out?</a></li><li><a href="https://www.schneier.com/essays/archives/2014/01/how_the_nsa_threaten.html">How the NSA Threatens National Security</a></li><li><a href="https://www.schneier.com/essays/archives/2009/01/terrorists_may_use_g.html">Terrorists May Use Google Earth, But Fear Is No Reason to Ban It</a></li><li><a href="https://www.schneier.com/essays/archives/2007/01/in_praise_of_securit.html">In Praise of Security Theater</a></li><li><a href="https://www.schneier.com/essays/archives/2006/08/refuse_to_be_terrori.html">Refuse to be Terrorized</a></li><li><a href="https://www.schneier.com/essays/archives/2006/05/the_eternal_value_of.html">The Eternal Value of Privacy</a></li><li><a href="https://www.schneier.com/essays/archives/2005/09/terrorists_dont_do_m.html">Terrorists Don&#039;t Do Movie Plots</a></li>	</ul>

	<p><a href="https://www.schneier.com/essays/">More Essays</a></p></div></section><section><div class="sidesection widget widget_schneier_archives" id="schneier_archives-2"><h3>Blog Archives</h3>
<ul>

	<li><a href="https://www.schneier.com/blog/calendar.html/">Archive by Month</a></li><li><a href="https://www.schneier.com/blog/newcomments.html/">100 Latest Comments</a></li></ul>

<h4>Blog Tags</h4><ul class="top-tags"><li><a href="https://www.schneier.com/tag/3d-printers/">3d printers</a></li><li><a href="https://www.schneier.com/tag/9-11/">9/11</a></li><li><a href="https://www.schneier.com/tag/aaron-swartz/">Aaron Swartz</a></li><li><a href="https://www.schneier.com/tag/academic/">academic</a></li><li><a href="https://www.schneier.com/tag/academic-papers/">academic papers</a></li><li><a href="https://www.schneier.com/tag/accountability/">accountability</a></li><li><a href="https://www.schneier.com/tag/aclu/">ACLU</a></li><li><a href="https://www.schneier.com/tag/activism/">activism</a></li><li><a href="https://www.schneier.com/tag/adobe/">Adobe</a></li><li><a href="https://www.schneier.com/tag/advanced-persistent-threats/">advanced persistent threats</a></li><li><a href="https://www.schneier.com/tag/adware/">adware</a></li><li><a href="https://www.schneier.com/tag/aes/">AES</a></li><li><a href="https://www.schneier.com/tag/afghanistan/">Afghanistan</a></li><li><a href="https://www.schneier.com/tag/air-marshals/">air marshals</a></li><li><a href="https://www.schneier.com/tag/air-travel/">air travel</a></li><li><a href="https://www.schneier.com/tag/airgaps/">airgaps</a></li><li><a href="https://www.schneier.com/tag/al-qaeda/">al Qaeda</a></li><li><a href="https://www.schneier.com/tag/alarms/">alarms</a></li><li><a href="https://www.schneier.com/tag/algorithms/">algorithms</a></li><li><a href="https://www.schneier.com/tag/alibis/">alibis</a></li><li><a href="https://www.schneier.com/tag/amazon/">Amazon</a></li><li><a href="https://www.schneier.com/tag/android/">Android</a></li><li><a href="https://www.schneier.com/tag/anonymity/">anonymity</a></li><li><a href="https://www.schneier.com/tag/anonymous/">Anonymous</a></li><li><a href="https://www.schneier.com/tag/antivirus/">antivirus</a></li><li><a href="https://www.schneier.com/tag/apache/">Apache</a></li><li><a href="https://www.schneier.com/tag/apple/">Apple</a></li><li><a href="https://www.schneier.com/tag/applied-cryptography/">Applied Cryptography</a></li><li><a href="https://www.schneier.com/tag/artificial-intelligence/">artificial intelligence</a></li><li><a href="https://www.schneier.com/tag/assassinations/">assassinations</a></li></ul><p><a href="https://www.schneier.com/blog/tags.html/">More Tags</a></p></div></section><section><div class="sidesection widget widget_schneier_latest_book" id="schneier_latest_book-3"><h3>Latest Book</h3><a href="https://www.schneier.com/books/click-here/"><img class="sidepic" alt="Click Here to Kill Everybody" src="https://149400697.v2.pressablecdn.com/wp-content/uploads/2018/07/book-ch2-200w.png" /></a><p><a href="https://www.schneier.com/books/">More Books</a></p></div></section><section><div class="sidesection widget widget_schneier_promotion" id="schneier_promotion-2">
<a href="https://www.eff.org/issues/bloggers/legal/join">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/join-eff@2x.png" id="effbutton" alt="Support Bloggers' Rights!" title="Support Bloggers' Rights!" /></a>

<a href="https://npo.networkforgood.org/Donate/Donate.aspx?npoSubscriptionId=8252">
	<img src="https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/images/support-epic@2x.png" alt="Defend Privacy--Support Epic" title="Defend Privacy--Support Epic" /></a>
</div></section>	</div>
</aside>

		<footer>
			<nav>
				<div class="nav" id="footer-nav">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="menu"><li class="menu1 menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-50175 current-menu-item"><a href="https://www.schneier.com">Blog</a></li>
<li class="menu2 menu-item menu-item-type-post_type menu-item-object-page menu-item-50916"><a href="https://www.schneier.com/crypto-gram/">Newsletter</a></li>
<li class="menu3 menu-item menu-item-type-post_type menu-item-object-page menu-item-50166"><a href="https://www.schneier.com/books/">Books</a></li>
<li class="menu4 menu-item menu-item-type-custom menu-item-object-custom menu-item-50169"><a href="https://www.schneier.com/essays/">Essays</a></li>
<li class="menu5 menu-item menu-item-type-custom menu-item-object-custom menu-item-50170"><a href="https://www.schneier.com/news/">News</a></li>
<li class="menu6 menu-item menu-item-type-custom menu-item-object-custom menu-item-50171"><a href="https://www.schneier.com/talks/">Talks</a></li>
<li class="menu7 menu-item menu-item-type-post_type menu-item-object-page menu-item-50167"><a href="https://www.schneier.com/academic/">Academic</a></li>
<li class="menu8 menu-item menu-item-type-post_type menu-item-object-page menu-item-50174"><a href="https://www.schneier.com/blog/about/">About Me</a></li>
</ul></div>				</div>
			</nav>
		</footer>

		</div><!--#main-->
	</div><!--#wrapper-->

		<script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<script type='text/javascript' src='https://c0.wp.com/p/woocommerce/5.1.0/assets/js/jquery-cookie/jquery.cookie.min.js' id='jquery-cookie-js'></script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/socialshareprivacy.js?ver=1.0.1' id='social-share-privacy-js'></script>
<script type='text/javascript' id='social-share-privacy-icons-js-extra'>
/* <![CDATA[ */
var schneierSocial = {"path":"https:\/\/www.schneier.com\/wp-content\/themes\/schneier\/assets\/vendor\/socialshareprivacy\/"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/vendor/socialshareprivacy/js/icons.js?ver=1.0.0' id='social-share-privacy-icons-js'></script>
<script type='text/javascript' id='schneier-comment-js-extra'>
/* <![CDATA[ */
var schneierComment = {"translateErrorSecurityAnswerWrong":"Your response to the challenge question ('The name of this blog is Schneier on ____') was not correct. Please try again.","ajax_url":"https:\/\/www.schneier.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://149400697.v2.pressablecdn.com/wp-content/themes/schneier/assets/js/comment.js?ver=1.0.1' id='schneier-comment-js'></script>
<script type='text/javascript' src='https://c0.wp.com/c/5.7/wp-includes/js/wp-embed.min.js' id='wp-embed-js'></script>

</body>

</html>
